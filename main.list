
; 64tass Turbo Assembler Macro V1.58.2974 listing file
; 64tass --ascii --case-sensitive --long-branch -Wall --dump-labels --vice-labels --labels=main.vice-mon-list --no-monitor -Wshadow --list=main.list --cbm-prg --output main.prg main.asm
; Sun Dec 17 00:36:38 2023

;Offset	;Hex		;Source

;******  Processing input file: main.asm

=122			P8ZP_SCRATCH_B1 = 122
=123			P8ZP_SCRATCH_REG = 123
=124			P8ZP_SCRATCH_W1 = 124    ; word
=126			P8ZP_SCRATCH_W2 = 126    ; word
>0801	15 08 e7 07		.word  (+), 2023
>0805	9e 20 32 30		.null  $9e, format(' %d ', prog8_entrypoint), $3a, $8f, ' prog8'
>0809	37 31 20 3a 8f 20 50 52 4f 47 38 00
>0815	00 00		+	.word  0
.0817			prog8_entrypoint
.0817	20 ed 15		jsr  sys.init_system_phase2
.081a	20 20 08		jsr  p8_main.p8_start
.081d	4c 00 16		jmp  sys.cleanup_at_exit
.0820			p8_main
>442a			p8_fpm	.fill  12
>4436			p8_heap	.word  ?
>4438			p8_pm	.fill  10
.0820			p8_start
.0820	d8			cld
.0821	ba			tsx
.0822	8e d2 43		stx  prog8_lib.orig_stackpointer    ; required for sys.exit()
.0825	a9 2a			lda  #<prog8_bss_section_start
.0827	a0 44			ldy  #>prog8_bss_section_start
.0829	85 7c			sta  P8ZP_SCRATCH_W1
.082b	84 7d			sty  P8ZP_SCRATCH_W1+1
.082d	a2 47			ldx  #<prog8_bss_section_size
.082f	a0 02			ldy  #>prog8_bss_section_size
.0831	a9 00			lda  #0
.0833	20 d3 43		jsr  prog8_lib.memset
.0836	20 87 09		jsr  p8_main.prog8_init_vars
.0839	20 aa 14		jsr  diskio.prog8_init_vars
.083c	20 9d 43		jsr  monogfx2.prog8_init_vars
.083f			+
.083f	b8			clv
.0840	18			clc
.0841	20 17 09		jsr  p8_main.p8_fmalloc_init
.0844	20 5d 09		jsr  p8_main.p8_malloc_init
.0847	20 b9 09		jsr  p8_api.p8_init
.084a	4c 4d 08		jmp  p8_main.p8_task_test
.084d			p8_task_test
.084d	a9 92			lda  #<prog8_interned_strings.string_1+0
.084f	a0 09			ldy  #>prog8_interned_strings.string_1+0
.0851	8d 80 44		sta  p8_api.p8_init_task.p8_filename
.0854	8c 81 44		sty  p8_api.p8_init_task.p8_filename+1
.0857	a9 9e			lda  #<prog8_interned_strings.string_2+0
.0859	a0 09			ldy  #>prog8_interned_strings.string_2+0
.085b	8d 97 44		sta  p8_api.p8_init_task.p8_title
.085e	8c 98 44		sty  p8_api.p8_init_task.p8_title+1
.0861	a9 0a			lda  #<10
.0863	a0 00			ldy  #>10
.0865	8d 9b 44		sta  p8_api.p8_init_task.p8_x
.0868	8c 9c 44		sty  p8_api.p8_init_task.p8_x+1
.086b	8d 9d 44		sta  p8_api.p8_init_task.p8_y
.086e	8c 9e 44		sty  p8_api.p8_init_task.p8_y+1
.0871	a9 64			lda  #<$64
.0873	a0 00			ldy  #>$64
.0875	8d 82 44		sta  p8_api.p8_init_task.p8_h
.0878	8c 83 44		sty  p8_api.p8_init_task.p8_h+1
.087b	8d 99 44		sta  p8_api.p8_init_task.p8_w
.087e	8c 9a 44		sty  p8_api.p8_init_task.p8_w+1
.0881	a9 42			lda  #<p8_pTask+0
.0883	a0 44			ldy  #>p8_pTask+0
.0885	8d 8a 44		sta  p8_api.p8_init_task.p8_pTask
.0888	8c 8b 44		sty  p8_api.p8_init_task.p8_pTask+1
.088b	20 7b 10		jsr  p8_api.p8_init_task
.088e	a9 92			lda  #<prog8_interned_strings.string_1+0
.0890	a0 09			ldy  #>prog8_interned_strings.string_1+0
.0892	8d 80 44		sta  p8_api.p8_init_task.p8_filename
.0895	8c 81 44		sty  p8_api.p8_init_task.p8_filename+1
.0898	a9 a7			lda  #<prog8_interned_strings.string_3+0
.089a	a0 09			ldy  #>prog8_interned_strings.string_3+0
.089c	8d 97 44		sta  p8_api.p8_init_task.p8_title
.089f	8c 98 44		sty  p8_api.p8_init_task.p8_title+1
.08a2	a9 50			lda  #<$50
.08a4	a0 00			ldy  #>$50
.08a6	8d 9b 44		sta  p8_api.p8_init_task.p8_x
.08a9	8c 9c 44		sty  p8_api.p8_init_task.p8_x+1
.08ac	8d 9d 44		sta  p8_api.p8_init_task.p8_y
.08af	8c 9e 44		sty  p8_api.p8_init_task.p8_y+1
.08b2	a9 64			lda  #<$64
.08b4	a0 00			ldy  #>$64
.08b6	8d 82 44		sta  p8_api.p8_init_task.p8_h
.08b9	8c 83 44		sty  p8_api.p8_init_task.p8_h+1
.08bc	8d 99 44		sta  p8_api.p8_init_task.p8_w
.08bf	8c 9a 44		sty  p8_api.p8_init_task.p8_w+1
.08c2	a9 42			lda  #<p8_pTask+0
.08c4	a0 44			ldy  #>p8_pTask+0
.08c6	8d 8a 44		sta  p8_api.p8_init_task.p8_pTask
.08c9	8c 8b 44		sty  p8_api.p8_init_task.p8_pTask+1
.08cc	20 7b 10		jsr  p8_api.p8_init_task
.08cf	a9 92			lda  #<prog8_interned_strings.string_1+0
.08d1	a0 09			ldy  #>prog8_interned_strings.string_1+0
.08d3	8d 80 44		sta  p8_api.p8_init_task.p8_filename
.08d6	8c 81 44		sty  p8_api.p8_init_task.p8_filename+1
.08d9	a9 b0			lda  #<prog8_interned_strings.string_4+0
.08db	a0 09			ldy  #>prog8_interned_strings.string_4+0
.08dd	8d 97 44		sta  p8_api.p8_init_task.p8_title
.08e0	8c 98 44		sty  p8_api.p8_init_task.p8_title+1
.08e3	a9 5a			lda  #<$5a
.08e5	a0 00			ldy  #>$5a
.08e7	8d 9b 44		sta  p8_api.p8_init_task.p8_x
.08ea	8c 9c 44		sty  p8_api.p8_init_task.p8_x+1
.08ed	a9 78			lda  #<$78
.08ef	a0 00			ldy  #>$78
.08f1	8d 9d 44		sta  p8_api.p8_init_task.p8_y
.08f4	8c 9e 44		sty  p8_api.p8_init_task.p8_y+1
.08f7	a9 64			lda  #<$64
.08f9	a0 00			ldy  #>$64
.08fb	8d 82 44		sta  p8_api.p8_init_task.p8_h
.08fe	8c 83 44		sty  p8_api.p8_init_task.p8_h+1
.0901	8d 99 44		sta  p8_api.p8_init_task.p8_w
.0904	8c 9a 44		sty  p8_api.p8_init_task.p8_w+1
.0907	a9 42			lda  #<p8_pTask+0
.0909	a0 44			ldy  #>p8_pTask+0
.090b	8d 8a 44		sta  p8_api.p8_init_task.p8_pTask
.090e	8c 8b 44		sty  p8_api.p8_init_task.p8_pTask+1
.0911	20 7b 10		jsr  p8_api.p8_init_task
.0914	4c 35 0d		jmp  p8_api.p8_mainloop
>4442			p8_pTask	.fill  3
.0917			p8_fmalloc_init
.0917	a0 44			ldy  #>p8_main.p8_fpm+0
.0919	a9 2a			lda  #<p8_main.p8_fpm+0
.091b	20 d1 1a		jsr  p8_fmalloc.p8_init
.091e	9c 47 44		stz  p8_fheap1+1
.0921	a9 a0			lda  #$a0
.0923	8d 48 44		sta  p8_fheap1+2
.0926	a9 01			lda  #1
.0928	8d 45 44		sta  p8_bank
.092b			prog8_label_asm_1_for_loop
.092b	ad 45 44		lda  p8_bank
.092e	8d 46 44		sta  p8_fheap1+0
.0931	a9 2a			lda  #<p8_main.p8_fpm+0
.0933	a0 44			ldy  #>p8_main.p8_fpm+0
.0935	8d 13 45		sta  p8_fmalloc.p8_addblock.p8_pm
.0938	8c 14 45		sty  p8_fmalloc.p8_addblock.p8_pm+1
.093b	a9 46			lda  #<p8_fheap1+0
.093d	a0 44			ldy  #>p8_fheap1+0
.093f	8d 15 45		sta  p8_fmalloc.p8_addblock.p8_ptr
.0942	8c 16 45		sty  p8_fmalloc.p8_addblock.p8_ptr+1
.0945	a9 00			lda  #<$2000
.0947	a0 20			ldy  #>$2000
.0949	8d 17 45		sta  p8_fmalloc.p8_addblock.p8_size
.094c	8c 18 45		sty  p8_fmalloc.p8_addblock.p8_size+1
.094f	20 42 1b		jsr  p8_fmalloc.p8_addblock
.0952	ee 45 44		inc  p8_bank
.0955	ad 45 44		lda  p8_bank
.0958	c9 40			cmp  #64
.095a	d0 cf			bne  prog8_label_asm_1_for_loop
.095c			prog8_label_asm_2_for_end
.095c	60			rts
>4445			p8_bank	.byte  ?
>4446			p8_fheap1	.fill  3
.095d			p8_malloc_init
.095d	a0 44			ldy  #>p8_main.p8_pm+0
.095f	a9 38			lda  #<p8_main.p8_pm+0
.0961	20 e5 2b		jsr  p8_pmalloc.p8_init
.0964	a9 38			lda  #<p8_main.p8_pm+0
.0966	a0 44			ldy  #>p8_main.p8_pm+0
.0968	8d 84 45		sta  p8_pmalloc.p8_addblock.p8_pm
.096b	8c 85 45		sty  p8_pmalloc.p8_addblock.p8_pm+1
.096e	ad 36 44		lda  p8_main.p8_heap
.0971	ac 37 44		ldy  p8_main.p8_heap+1
.0974	8d 86 45		sta  p8_pmalloc.p8_addblock.p8_ptr
.0977	8c 87 45		sty  p8_pmalloc.p8_addblock.p8_ptr+1
.097a	a9 00			lda  #<$2000
.097c	a0 20			ldy  #>$2000
.097e	8d 88 45		sta  p8_pmalloc.p8_addblock.p8_size
.0981	8c 89 45		sty  p8_pmalloc.p8_addblock.p8_size+1
.0984	4c 47 2c		jmp  p8_pmalloc.p8_addblock
.0987			prog8_init_vars
.0987	a0 46			ldy  #>prog8_slabs.prog8_memoryslab_heap+0
.0989	a9 71			lda  #<prog8_slabs.prog8_memoryslab_heap+0
.098b	8d 36 44		sta  p8_main.p8_heap
.098e	8c 37 44		sty  p8_main.p8_heap+1
.0991	60			rts
.0992			prog8_interned_strings
.0992			string_1
>0992	45 58 54 50		.byte  $45, $58, $54, $50, $52, $4f, $47, $2e, $50, $52, $47, $00
>0996	52 4f 47 2e 50 52 47 00
.099e			string_2
>099e	57 49 4e 44		.byte  $57, $49, $4e, $44, $4f, $57, $20, $31, $00
>09a2	4f 57 20 31 00
.09a7			string_3
>09a7	57 49 4e 44		.byte  $57, $49, $4e, $44, $4f, $57, $20, $32, $00
>09ab	4f 57 20 32 00
.09b0			string_4
>09b0	57 49 4e 44		.byte  $57, $49, $4e, $44, $4f, $57, $20, $33, $00
>09b4	4f 57 20 33 00
.09b9			p8_api
=3				p8_API_DONE = 3
=1				p8_API_INIT = 1
=2				p8_API_RUN = 2
=$0102				p8_WM_MOUSE_DOWN = $0102
=$0100				p8_WM_MOUSE_MOVE = $0100
=$0101				p8_WM_MOUSE_UP = $0101
=0				p8_WM_NULL = 0
=$8000				p8_WM_PAINT = $8000
>4449			p8_pTaskList	.fill  3
=$a008				p8_external_command = $a008
.09b9			p8_init
.09b9	a9 e0			lda  #<$07e0
.09bb	a0 07			ldy  #>$07e0
.09bd	8d 4c 44		sta  p8_address
.09c0	8c 4d 44		sty  p8_address+1
.09c3	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.09c6	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.09c9	a9 ca			lda  #<txt.print+0
.09cb	a0 14			ldy  #>txt.print+0
.09cd	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.09d0	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.09d3	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.09d6	8d 4c 44		sta  p8_address
.09d9	8c 4d 44		sty  p8_address+1
.09dc	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.09df	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.09e2	a9 15			lda  #<txt.print_uw+0
.09e4	a0 15			ldy  #>txt.print_uw+0
.09e6	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.09e9	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.09ec	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.09ef	8d 4c 44		sta  p8_address
.09f2	8c 4d 44		sty  p8_address+1
.09f5	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.09f8	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.09fb	a9 0c			lda  #<txt.print_uwhex+0
.09fd	a0 15			ldy  #>txt.print_uwhex+0
.09ff	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0a02	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0a05	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0a08	8d 4c 44		sta  p8_address
.0a0b	8c 4d 44		sty  p8_address+1
.0a0e	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0a11	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0a14	a9 db			lda  #<txt.print_ub+0
.0a16	a0 14			ldy  #>txt.print_ub+0
.0a18	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0a1b	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0a1e	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0a21	8d 4c 44		sta  p8_address
.0a24	8c 4d 44		sty  p8_address+1
.0a27	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0a2a	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0a2d	a9 f9			lda  #<txt.print_ubhex+0
.0a2f	a0 14			ldy  #>txt.print_ubhex+0
.0a31	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0a34	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0a37	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0a3a	8d 4c 44		sta  p8_address
.0a3d	8c 4d 44		sty  p8_address+1
.0a40	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0a43	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0a46	a9 b0			lda  #<txt.column+0
.0a48	a0 14			ldy  #>txt.column+0
.0a4a	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0a4d	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0a50	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0a53	8d 4c 44		sta  p8_address
.0a56	8c 4d 44		sty  p8_address+1
.0a59	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0a5c	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0a5f	a9 b9			lda  #<txt.get_column+0
.0a61	a0 14			ldy  #>txt.get_column+0
.0a63	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0a66	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0a69	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0a6c	8d 4c 44		sta  p8_address
.0a6f	8c 4d 44		sty  p8_address+1
.0a72	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0a75	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0a78	a9 bd			lda  #<txt.row+0
.0a7a	a0 14			ldy  #>txt.row+0
.0a7c	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0a7f	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0a82	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0a85	8d 4c 44		sta  p8_address
.0a88	8c 4d 44		sty  p8_address+1
.0a8b	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0a8e	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0a91	a9 c6			lda  #<txt.get_row+0
.0a93	a0 14			ldy  #>txt.get_row+0
.0a95	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0a98	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0a9b	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0a9e	8d 4c 44		sta  p8_address
.0aa1	8c 4d 44		sty  p8_address+1
.0aa4	a9 00			lda  #<$0400
.0aa6	a0 04			ldy  #>$0400
.0aa8	8d 4c 44		sta  p8_address
.0aab	8c 4d 44		sty  p8_address+1
.0aae	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0ab1	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0ab4	a9 b3			lda  #<p8_struct.p8_set+0
.0ab6	a0 29			ldy  #>p8_struct.p8_set+0
.0ab8	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0abb	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0abe	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0ac1	8d 4c 44		sta  p8_address
.0ac4	8c 4d 44		sty  p8_address+1
.0ac7	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0aca	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0acd	a9 c3			lda  #<p8_struct.p8_get+0
.0acf	a0 29			ldy  #>p8_struct.p8_get+0
.0ad1	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0ad4	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0ad7	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0ada	8d 4c 44		sta  p8_address
.0add	8c 4d 44		sty  p8_address+1
.0ae0	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0ae3	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0ae6	a9 d3			lda  #<p8_struct.p8_set_w+0
.0ae8	a0 29			ldy  #>p8_struct.p8_set_w+0
.0aea	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0aed	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0af0	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0af3	8d 4c 44		sta  p8_address
.0af6	8c 4d 44		sty  p8_address+1
.0af9	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0afc	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0aff	a9 e5			lda  #<p8_struct.p8_set_wi+0
.0b01	a0 29			ldy  #>p8_struct.p8_set_wi+0
.0b03	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0b06	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0b09	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0b0c	8d 4c 44		sta  p8_address
.0b0f	8c 4d 44		sty  p8_address+1
.0b12	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0b15	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0b18	a9 ef			lda  #<p8_struct.p8_get_w+0
.0b1a	a0 29			ldy  #>p8_struct.p8_get_w+0
.0b1c	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0b1f	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0b22	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0b25	8d 4c 44		sta  p8_address
.0b28	8c 4d 44		sty  p8_address+1
.0b2b	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0b2e	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0b31	a9 ff			lda  #<p8_ptr.p8_set_w+0
.0b33	a0 29			ldy  #>p8_ptr.p8_set_w+0
.0b35	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0b38	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0b3b	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0b3e	8d 4c 44		sta  p8_address
.0b41	8c 4d 44		sty  p8_address+1
.0b44	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0b47	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0b4a	a9 0b			lda  #<p8_ptr.p8_get_w+0
.0b4c	a0 2a			ldy  #>p8_ptr.p8_get_w+0
.0b4e	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0b51	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0b54	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0b57	8d 4c 44		sta  p8_address
.0b5a	8c 4d 44		sty  p8_address+1
.0b5d	a9 20			lda  #<$0420
.0b5f	a0 04			ldy  #>$0420
.0b61	8d 4c 44		sta  p8_address
.0b64	8c 4d 44		sty  p8_address+1
.0b67	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0b6a	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0b6d	a9 17			lda  #<p8_fstruct.p8_set_zfp+0
.0b6f	a0 2a			ldy  #>p8_fstruct.p8_set_zfp+0
.0b71	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0b74	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0b77	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0b7a	8d 4c 44		sta  p8_address
.0b7d	8c 4d 44		sty  p8_address+1
.0b80	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0b83	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0b86	a9 3a			lda  #<p8_fstruct.p8_set+0
.0b88	a0 2a			ldy  #>p8_fstruct.p8_set+0
.0b8a	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0b8d	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0b90	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0b93	8d 4c 44		sta  p8_address
.0b96	8c 4d 44		sty  p8_address+1
.0b99	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0b9c	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0b9f	a9 6c			lda  #<p8_fstruct.p8_get+0
.0ba1	a0 2a			ldy  #>p8_fstruct.p8_get+0
.0ba3	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0ba6	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0ba9	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0bac	8d 4c 44		sta  p8_address
.0baf	8c 4d 44		sty  p8_address+1
.0bb2	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0bb5	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0bb8	a9 9e			lda  #<p8_fstruct.p8_set_w+0
.0bba	a0 2a			ldy  #>p8_fstruct.p8_set_w+0
.0bbc	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0bbf	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0bc2	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0bc5	8d 4c 44		sta  p8_address
.0bc8	8c 4d 44		sty  p8_address+1
.0bcb	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0bce	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0bd1	a9 dc			lda  #<p8_fstruct.p8_set_wi+0
.0bd3	a0 2a			ldy  #>p8_fstruct.p8_set_wi+0
.0bd5	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0bd8	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0bdb	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0bde	8d 4c 44		sta  p8_address
.0be1	8c 4d 44		sty  p8_address+1
.0be4	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0be7	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0bea	a9 14			lda  #<p8_fstruct.p8_get_w+0
.0bec	a0 2b			ldy  #>p8_fstruct.p8_get_w+0
.0bee	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0bf1	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0bf4	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0bf7	8d 4c 44		sta  p8_address
.0bfa	8c 4d 44		sty  p8_address+1
.0bfd	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0c00	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0c03	a9 55			lda  #<p8_fptr.p8_set+0
.0c05	a0 2b			ldy  #>p8_fptr.p8_set+0
.0c07	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0c0a	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0c0d	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0c10	8d 4c 44		sta  p8_address
.0c13	8c 4d 44		sty  p8_address+1
.0c16	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0c19	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0c1c	a9 7c			lda  #<p8_fptr.p8_get+0
.0c1e	a0 2b			ldy  #>p8_fptr.p8_get+0
.0c20	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0c23	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0c26	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0c29	8d 4c 44		sta  p8_address
.0c2c	8c 4d 44		sty  p8_address+1
.0c2f	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0c32	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0c35	a9 a3			lda  #<p8_fptr.p8_memcopy_in+0
.0c37	a0 2b			ldy  #>p8_fptr.p8_memcopy_in+0
.0c39	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0c3c	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0c3f	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0c42	8d 4c 44		sta  p8_address
.0c45	8c 4d 44		sty  p8_address+1
.0c48	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0c4b	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0c4e	a9 c4			lda  #<p8_fptr.p8_memcopy_out+0
.0c50	a0 2b			ldy  #>p8_fptr.p8_memcopy_out+0
.0c52	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0c55	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0c58	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0c5b	8d 4c 44		sta  p8_address
.0c5e	8c 4d 44		sty  p8_address+1
.0c61	a9 40			lda  #<$0440
.0c63	a0 04			ldy  #>$0440
.0c65	8d 4c 44		sta  p8_address
.0c68	8c 4d 44		sty  p8_address+1
.0c6b	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0c6e	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0c71	a9 94			lda  #<p8_api.p8_pmalloc_malloc_stub+0
.0c73	a0 13			ldy  #>p8_api.p8_pmalloc_malloc_stub+0
.0c75	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0c78	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0c7b	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0c7e	8d 4c 44		sta  p8_address
.0c81	8c 4d 44		sty  p8_address+1
.0c84	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0c87	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0c8a	a9 b0			lda  #<p8_api.p8_pmalloc_free_stub+0
.0c8c	a0 13			ldy  #>p8_api.p8_pmalloc_free_stub+0
.0c8e	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0c91	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0c94	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0c97	8d 4c 44		sta  p8_address
.0c9a	8c 4d 44		sty  p8_address+1
.0c9d	a9 48			lda  #<$0448
.0c9f	a0 04			ldy  #>$0448
.0ca1	8d 4c 44		sta  p8_address
.0ca4	8c 4d 44		sty  p8_address+1
.0ca7	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0caa	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0cad	a9 c7			lda  #<p8_api.p8_fmalloc_malloc_stub+0
.0caf	a0 13			ldy  #>p8_api.p8_fmalloc_malloc_stub+0
.0cb1	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0cb4	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0cb7	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0cba	8d 4c 44		sta  p8_address
.0cbd	8c 4d 44		sty  p8_address+1
.0cc0	8d 4e 44		sta  p8_api.p8_registerjumpitem.p8_address
.0cc3	8c 4f 44		sty  p8_api.p8_registerjumpitem.p8_address+1
.0cc6	a9 e8			lda  #<p8_api.p8_fmalloc_free_stub+0
.0cc8	a0 13			ldy  #>p8_api.p8_fmalloc_free_stub+0
.0cca	8d 50 44		sta  p8_api.p8_registerjumpitem.p8_ptr
.0ccd	8c 51 44		sty  p8_api.p8_registerjumpitem.p8_ptr+1
.0cd0	20 fb 0c		jsr  p8_api.p8_registerjumpitem
.0cd3	8d 4c 44		sta  p8_address
.0cd6	8c 4d 44		sty  p8_address+1
.0cd9	a9 2a			lda  #<p8_main.p8_fpm+0
.0cdb	a0 44			ldy  #>p8_main.p8_fpm+0
.0cdd	8d ce 45		sta  p8_linkedlist.p8_init.p8_heap
.0ce0	8c cf 45		sty  p8_linkedlist.p8_init.p8_heap+1
.0ce3	a9 49			lda  #<p8_api.p8_pTaskList+0
.0ce5	a0 44			ldy  #>p8_api.p8_pTaskList+0
.0ce7	8d d0 45		sta  p8_linkedlist.p8_init.p8_root
.0cea	8c d1 45		sty  p8_linkedlist.p8_init.p8_root+1
.0ced	20 48 36		jsr  p8_linkedlist.p8_init
.0cf0	20 d9 39		jsr  monogfx2.hires
.0cf3	20 74 3a		jsr  monogfx2.clear_screen_stipple
.0cf6	a9 00			lda  #0
.0cf8	4c cf 3a		jmp  monogfx2.stipple
>444c			p8_address	.word  ?
.0cfb			p8_registerjumpitem
.0cfb	a9 4c			lda  #$4c
.0cfd	ac 4e 44		ldy  p8_address
.0d00	84 7e			sty  P8ZP_SCRATCH_W2
.0d02	ac 4f 44		ldy  p8_address+1
.0d05	84 7f			sty  P8ZP_SCRATCH_W2+1
.0d07	92 7e			sta  (P8ZP_SCRATCH_W2)
.0d09	ac 4f 44		ldy  p8_address+1
.0d0c	ad 4e 44		lda  p8_address
.0d0f	18			clc
.0d10	69 01			adc  #<1
.0d12	aa			tax
.0d13	98			tya
.0d14	69 00			adc  #>1
.0d16	a8			tay
.0d17	8a			txa
.0d18	85 7c			sta  P8ZP_SCRATCH_W1
.0d1a	84 7d			sty  P8ZP_SCRATCH_W1+1
.0d1c	ac 51 44		ldy  p8_ptr+1
.0d1f	ad 50 44		lda  p8_ptr
.0d22	20 1e 44		jsr  prog8_lib.func_pokew
.0d25	ac 4f 44		ldy  p8_address+1
.0d28	ad 4e 44		lda  p8_address
.0d2b	18			clc
.0d2c	69 03			adc  #<3
.0d2e	aa			tax
.0d2f	98			tya
.0d30	69 00			adc  #>3
.0d32	a8			tay
.0d33	8a			txa
.0d34	60			rts
>444e			p8_address	.word  ?
>4450			p8_ptr	.word  ?
.0d35			p8_mainloop
.0d35	a9 00			lda  #<$8000
.0d37	a0 80			ldy  #>$8000
.0d39	8d 52 44		sta  p8_message
.0d3c	8c 53 44		sty  p8_message+1
.0d3f			p8_prog8_label_98_repeat
.0d3f	ac 53 44		ldy  p8_message+1
.0d42	ad 52 44		lda  p8_message
.0d45	c0 80			cpy  #>32768
.0d47	90 73			bcc  prog8_label_asm_3_if_end
.0d49	d0 04			bne  +
.0d4b	c9 00			cmp  #<32768
.0d4d	90 6d			bcc  prog8_label_asm_3_if_end
.0d4f			+
.0d4f	a9 49			lda  #<p8_api.p8_pTaskList+0
.0d51	a0 44			ldy  #>p8_api.p8_pTaskList+0
.0d53	8d ef 45		sta  p8_linkedlist.p8_last.p8_root
.0d56	8c f0 45		sty  p8_linkedlist.p8_last.p8_root+1
.0d59	a9 57			lda  #<p8_pTask+0
.0d5b	a0 44			ldy  #>p8_pTask+0
.0d5d	8d ed 45		sta  p8_linkedlist.p8_last.p8_result
.0d60	8c ee 45		sty  p8_linkedlist.p8_last.p8_result+1
.0d63	20 3c 38		jsr  p8_linkedlist.p8_last
.0d66			p8_prog8_label_5_whileloop
.0d66	a9 57			lda  #<p8_pTask+0
.0d68	85 02			sta  cx16.r0
.0d6a	a9 44			lda  #>p8_pTask+0
.0d6c	85 03			sta  cx16.r0+1
.0d6e	a0 00		    ldy  #0
.0d70	b1 02			lda  (cx16.r0),y
.0d72	c8			iny
.0d73	18			clc
.0d74	71 02			adc  (cx16.r0),y
.0d76	c8			iny
.0d77	18			clc
.0d78	71 02			adc  (cx16.r0),y
.0d7a	f0 02			beq  +
.0d7c	a9 01			lda  #1
.0d7e			    +
.0d7e	49 01		    eor  #1
.0d80	c9 00			cmp  #0
.0d82	d0 38			bne  p8_prog8_label_6_afterwhile
.0d84	a9 57			lda  #<p8_pTask+0
.0d86	a0 44			ldy  #>p8_pTask+0
.0d88	8d 5e 44		sta  p8_api.p8_send_message.p8_pTask
.0d8b	8c 5f 44		sty  p8_api.p8_send_message.p8_pTask+1
.0d8e	ad 52 44		lda  p8_message
.0d91	ac 53 44		ldy  p8_message+1
.0d94	8d 5a 44		sta  p8_api.p8_send_message.p8_messageId
.0d97	8c 5b 44		sty  p8_api.p8_send_message.p8_messageId+1
.0d9a	a9 54			lda  #<p8_pMessage+0
.0d9c	a0 44			ldy  #>p8_pMessage+0
.0d9e	8d 5c 44		sta  p8_api.p8_send_message.p8_pMessage
.0da1	8c 5d 44		sty  p8_api.p8_send_message.p8_pMessage+1
.0da4	20 43 0e		jsr  p8_api.p8_send_message
.0da7	a9 57			lda  #<p8_pTask+0
.0da9	a0 44			ldy  #>p8_pTask+0
.0dab	8d f8 45		sta  p8_linkedlist.p8_prev.p8_current
.0dae	8c f9 45		sty  p8_linkedlist.p8_prev.p8_current+1
.0db1	8d fd 45		sta  p8_linkedlist.p8_prev.p8_result
.0db4	8c fe 45		sty  p8_linkedlist.p8_prev.p8_result+1
.0db7	20 d6 38		jsr  p8_linkedlist.p8_prev
.0dba	80 aa			bra  p8_prog8_label_5_whileloop
.0dbc			p8_prog8_label_6_afterwhile
.0dbc			prog8_label_asm_3_if_end
.0dbc	ac 53 44		ldy  p8_message+1
.0dbf	ad 52 44		lda  p8_message
.0dc2	c0 80			cpy  #>32768
.0dc4	90 06			bcc  +
.0dc6	d0 71			bne  prog8_label_asm_4_if_end
.0dc8	c9 00			cmp  #<32768
.0dca	b0 6d			bcs  prog8_label_asm_4_if_end
.0dcc			+
.0dcc	a9 49			lda  #<p8_api.p8_pTaskList+0
.0dce	a0 44			ldy  #>p8_api.p8_pTaskList+0
.0dd0	8d e8 45		sta  p8_linkedlist.p8_first.p8_root
.0dd3	8c e9 45		sty  p8_linkedlist.p8_first.p8_root+1
.0dd6	a9 57			lda  #<p8_pTask+0
.0dd8	a0 44			ldy  #>p8_pTask+0
.0dda	8d e6 45		sta  p8_linkedlist.p8_first.p8_result
.0ddd	8c e7 45		sty  p8_linkedlist.p8_first.p8_result+1
.0de0	20 ef 37		jsr  p8_linkedlist.p8_first
.0de3			p8_prog8_label_7_whileloop
.0de3	a9 57			lda  #<p8_pTask+0
.0de5	85 02			sta  cx16.r0
.0de7	a9 44			lda  #>p8_pTask+0
.0de9	85 03			sta  cx16.r0+1
.0deb	a0 00		    ldy  #0
.0ded	b1 02			lda  (cx16.r0),y
.0def	c8			iny
.0df0	18			clc
.0df1	71 02			adc  (cx16.r0),y
.0df3	c8			iny
.0df4	18			clc
.0df5	71 02			adc  (cx16.r0),y
.0df7	f0 02			beq  +
.0df9	a9 01			lda  #1
.0dfb			    +
.0dfb	49 01		    eor  #1
.0dfd	c9 00			cmp  #0
.0dff	d0 38			bne  p8_prog8_label_8_afterwhile
.0e01	a9 57			lda  #<p8_pTask+0
.0e03	a0 44			ldy  #>p8_pTask+0
.0e05	8d 5e 44		sta  p8_api.p8_send_message.p8_pTask
.0e08	8c 5f 44		sty  p8_api.p8_send_message.p8_pTask+1
.0e0b	ad 52 44		lda  p8_message
.0e0e	ac 53 44		ldy  p8_message+1
.0e11	8d 5a 44		sta  p8_api.p8_send_message.p8_messageId
.0e14	8c 5b 44		sty  p8_api.p8_send_message.p8_messageId+1
.0e17	a9 54			lda  #<p8_pMessage+0
.0e19	a0 44			ldy  #>p8_pMessage+0
.0e1b	8d 5c 44		sta  p8_api.p8_send_message.p8_pMessage
.0e1e	8c 5d 44		sty  p8_api.p8_send_message.p8_pMessage+1
.0e21	20 43 0e		jsr  p8_api.p8_send_message
.0e24	a9 57			lda  #<p8_pTask+0
.0e26	a0 44			ldy  #>p8_pTask+0
.0e28	8d f1 45		sta  p8_linkedlist.p8_next.p8_current
.0e2b	8c f2 45		sty  p8_linkedlist.p8_next.p8_current+1
.0e2e	8d f6 45		sta  p8_linkedlist.p8_next.p8_result
.0e31	8c f7 45		sty  p8_linkedlist.p8_next.p8_result+1
.0e34	20 89 38		jsr  p8_linkedlist.p8_next
.0e37	80 aa			bra  p8_prog8_label_7_whileloop
.0e39			p8_prog8_label_8_afterwhile
.0e39			prog8_label_asm_4_if_end
.0e39	9c 52 44		stz  p8_message
.0e3c	9c 53 44		stz  p8_message+1
.0e3f	4c 3f 0d		bra  p8_prog8_label_98_repeat
.0e42	60			rts
>4452			p8_message	.word  ?
>4454			p8_pMessage	.fill  3
>4457			p8_pTask	.fill  3
.0e43			p8_send_message
.0e43	ad 5e 44		lda  p8_pTask
.0e46	ac 5f 44		ldy  p8_pTask+1
.0e49	8d 64 44		sta  p8_api.p8_process_message.p8_pTask
.0e4c	8c 65 44		sty  p8_api.p8_process_message.p8_pTask+1
.0e4f	ad 5a 44		lda  p8_messageId
.0e52	ac 5b 44		ldy  p8_messageId+1
.0e55	8d 60 44		sta  p8_api.p8_process_message.p8_messageId
.0e58	8c 61 44		sty  p8_api.p8_process_message.p8_messageId+1
.0e5b	ad 5c 44		lda  p8_pMessage
.0e5e	ac 5d 44		ldy  p8_pMessage+1
.0e61	8d 62 44		sta  p8_api.p8_process_message.p8_pMessage
.0e64	8c 63 44		sty  p8_api.p8_process_message.p8_pMessage+1
.0e67	20 96 0e		jsr  p8_api.p8_process_message
.0e6a	c9 00			cmp  #0
.0e6c	f0 27			beq  prog8_label_asm_5_if_end
.0e6e	ad 5e 44		lda  p8_pTask
.0e71	ac 5f 44		ldy  p8_pTask+1
.0e74	8d a5 44		sta  p8_api.p8_run_task.p8_pTask
.0e77	8c a6 44		sty  p8_api.p8_run_task.p8_pTask+1
.0e7a	ad 5a 44		lda  p8_messageId
.0e7d	ac 5b 44		ldy  p8_messageId+1
.0e80	8d a1 44		sta  p8_api.p8_run_task.p8_messageId
.0e83	8c a2 44		sty  p8_api.p8_run_task.p8_messageId+1
.0e86	ad 5c 44		lda  p8_pMessage
.0e89	ac 5d 44		ldy  p8_pMessage+1
.0e8c	8d a3 44		sta  p8_api.p8_run_task.p8_pMessage
.0e8f	8c a4 44		sty  p8_api.p8_run_task.p8_pMessage+1
.0e92	20 db 12		jsr  p8_api.p8_run_task
.0e95			prog8_label_asm_5_if_end
.0e95	60			rts
>445a			p8_messageId	.word  ?
>445c			p8_pMessage	.word  ?
>445e			p8_pTask	.word  ?
.0e96			p8_process_message
.0e96	ac 61 44		ldy  p8_messageId+1
.0e99	ad 60 44		lda  p8_messageId
.0e9c	c9 00			cmp  #<$8000
.0e9e	d0 04			bne  +
.0ea0	c0 80			cpy  #>$8000
.0ea2	f0 02			beq  prog8_label_asm_7_choice
.0ea4			+
.0ea4	80 09			bra  prog8_label_asm_6_choice_end
.0ea6			prog8_label_asm_7_choice
.0ea6	ac 65 44		ldy  p8_pTask+1
.0ea9	ad 64 44		lda  p8_pTask
.0eac	4c b0 0e		jmp  p8_api.p8_paint
.0eaf			prog8_label_asm_6_choice_end
.0eaf	60			rts
>4460			p8_messageId	.word  ?
>4462			p8_pMessage	.word  ?
>4464			p8_pTask	.word  ?
.0eb0			p8_paint
.0eb0	8d 68 44		sta  p8_pTask
.0eb3	8c 69 44		sty  p8_pTask+1
.0eb6	9c 6f 44		stz  p8_x
.0eb9	9c 70 44		stz  p8_x+1
.0ebc	9c 71 44		stz  p8_y
.0ebf	9c 72 44		stz  p8_y+1
.0ec2	9c 66 44		stz  p8_h
.0ec5	9c 67 44		stz  p8_h+1
.0ec8	9c 6d 44		stz  p8_w
.0ecb	9c 6e 44		stz  p8_w+1
.0ece	ad 68 44		lda  p8_pTask
.0ed1	ac 69 44		ldy  p8_pTask+1
.0ed4	8d 0f 46		sta  p8_linkedlist_item.p8_data_get.p8_ptr
.0ed7	8c 10 46		sty  p8_linkedlist_item.p8_data_get.p8_ptr+1
.0eda	a9 6a			lda  #<p8_pTaskData+0
.0edc	a0 44			ldy  #>p8_pTaskData+0
.0ede	8d 11 46		sta  p8_linkedlist_item.p8_data_get.p8_result
.0ee1	8c 12 46		sty  p8_linkedlist_item.p8_data_get.p8_result+1
.0ee4	20 9b 39		jsr  p8_linkedlist_item.p8_data_get
.0ee7	a9 6a			lda  #<p8_pTaskData+0
.0ee9	a0 44			ldy  #>p8_pTaskData+0
.0eeb	85 30			sta  p8_task.p8_x_get.p8_ptr
.0eed	84 31			sty  p8_task.p8_x_get.p8_ptr+1
.0eef	a9 6f			lda  #<p8_x+0
.0ef1	a0 44			ldy  #>p8_x+0
.0ef3	85 2e			sta  p8_task.p8_x_get.p8_result
.0ef5	84 2f			sty  p8_task.p8_x_get.p8_result+1
.0ef7	20 ca 17		jsr  p8_task.p8_x_get
.0efa	a9 6a			lda  #<p8_pTaskData+0
.0efc	a0 44			ldy  #>p8_pTaskData+0
.0efe	85 28			sta  p8_task.p8_y_get.p8_ptr
.0f00	84 29			sty  p8_task.p8_y_get.p8_ptr+1
.0f02	a9 71			lda  #<p8_y+0
.0f04	a0 44			ldy  #>p8_y+0
.0f06	85 26			sta  p8_task.p8_y_get.p8_result
.0f08	84 27			sty  p8_task.p8_y_get.p8_result+1
.0f0a	20 f4 17		jsr  p8_task.p8_y_get
.0f0d	a9 6a			lda  #<p8_pTaskData+0
.0f0f	a0 44			ldy  #>p8_pTaskData+0
.0f11	85 4c			sta  p8_task.p8_h_get.p8_ptr
.0f13	84 4d			sty  p8_task.p8_h_get.p8_ptr+1
.0f15	a9 66			lda  #<p8_h+0
.0f17	a0 44			ldy  #>p8_h+0
.0f19	85 4a			sta  p8_task.p8_h_get.p8_result
.0f1b	84 4b			sty  p8_task.p8_h_get.p8_result+1
.0f1d	20 1e 18		jsr  p8_task.p8_h_get
.0f20	a9 6a			lda  #<p8_pTaskData+0
.0f22	a0 44			ldy  #>p8_pTaskData+0
.0f24	85 38			sta  p8_task.p8_w_get.p8_ptr
.0f26	84 39			sty  p8_task.p8_w_get.p8_ptr+1
.0f28	a9 6d			lda  #<p8_w+0
.0f2a	a0 44			ldy  #>p8_w+0
.0f2c	85 36			sta  p8_task.p8_w_get.p8_result
.0f2e	84 37			sty  p8_task.p8_w_get.p8_result+1
.0f30	20 48 18		jsr  p8_task.p8_w_get
.0f33	ad 6f 44		lda  p8_x
.0f36	ac 70 44		ldy  p8_x+1
.0f39	8d 32 46		sta  monogfx2.fillrect.xx
.0f3c	8c 33 46		sty  monogfx2.fillrect.xx+1
.0f3f	ad 71 44		lda  p8_y
.0f42	ac 72 44		ldy  p8_y+1
.0f45	8d 34 46		sta  monogfx2.fillrect.yy
.0f48	8c 35 46		sty  monogfx2.fillrect.yy+1
.0f4b	ad 6d 44		lda  p8_w
.0f4e	ac 6e 44		ldy  p8_w+1
.0f51	8d 30 46		sta  monogfx2.fillrect.rwidth
.0f54	8c 31 46		sty  monogfx2.fillrect.rwidth+1
.0f57	ad 66 44		lda  p8_h
.0f5a	ac 67 44		ldy  p8_h+1
.0f5d	8d 2e 46		sta  monogfx2.fillrect.rheight
.0f60	8c 2f 46		sty  monogfx2.fillrect.rheight+1
.0f63	a9 01			lda  #1
.0f65	8d 2d 46		sta  monogfx2.fillrect.draw
.0f68	20 26 3c		jsr  monogfx2.fillrect
.0f6b	ad 6f 44		lda  p8_x
.0f6e	ac 70 44		ldy  p8_x+1
.0f71	8d 27 46		sta  monogfx2.rect.xx
.0f74	8c 28 46		sty  monogfx2.rect.xx+1
.0f77	ad 71 44		lda  p8_y
.0f7a	ac 72 44		ldy  p8_y+1
.0f7d	8d 29 46		sta  monogfx2.rect.yy
.0f80	8c 2a 46		sty  monogfx2.rect.yy+1
.0f83	ad 6d 44		lda  p8_w
.0f86	ac 6e 44		ldy  p8_w+1
.0f89	8d 25 46		sta  monogfx2.rect.rwidth
.0f8c	8c 26 46		sty  monogfx2.rect.rwidth+1
.0f8f	ad 66 44		lda  p8_h
.0f92	ac 67 44		ldy  p8_h+1
.0f95	8d 23 46		sta  monogfx2.rect.rheight
.0f98	8c 24 46		sty  monogfx2.rect.rheight+1
.0f9b	9c 22 46		stz  monogfx2.rect.draw
.0f9e	20 df 3a		jsr  monogfx2.rect
.0fa1	a9 01			lda  #1
.0fa3	60			rts
>4466			p8_h	.word  ?
>4468			p8_pTask	.word  ?
>446a			p8_pTaskData	.fill  3
>446d			p8_w	.word  ?
>446f			p8_x	.word  ?
>4471			p8_y	.word  ?
.0fa4			p8_findByFilename
.0fa4	a9 49			lda  #<p8_api.p8_pTaskList+0
.0fa6	a0 44			ldy  #>p8_api.p8_pTaskList+0
.0fa8	8d e8 45		sta  p8_linkedlist.p8_first.p8_root
.0fab	8c e9 45		sty  p8_linkedlist.p8_first.p8_root+1
.0fae	a9 78			lda  #<p8_pTask2+0
.0fb0	a0 44			ldy  #>p8_pTask2+0
.0fb2	8d e6 45		sta  p8_linkedlist.p8_first.p8_result
.0fb5	8c e7 45		sty  p8_linkedlist.p8_first.p8_result+1
.0fb8	20 ef 37		jsr  p8_linkedlist.p8_first
.0fbb			p8_prog8_label_9_whileloop
.0fbb	a9 78			lda  #<p8_pTask2+0
.0fbd	85 02			sta  cx16.r0
.0fbf	a9 44			lda  #>p8_pTask2+0
.0fc1	85 03			sta  cx16.r0+1
.0fc3	a0 00		    ldy  #0
.0fc5	b1 02			lda  (cx16.r0),y
.0fc7	c8			iny
.0fc8	18			clc
.0fc9	71 02			adc  (cx16.r0),y
.0fcb	c8			iny
.0fcc	18			clc
.0fcd	71 02			adc  (cx16.r0),y
.0fcf	f0 02			beq  +
.0fd1	a9 01			lda  #1
.0fd3			    +
.0fd3	49 01		    eor  #1
.0fd5	c9 00			cmp  #0
.0fd7	f0 03			bne  p8_prog8_label_10_afterwhile
.0fd9	4c 66 10
.0fdc	a9 78			lda  #<p8_pTask2+0
.0fde	a0 44			ldy  #>p8_pTask2+0
.0fe0	8d 0f 46		sta  p8_linkedlist_item.p8_data_get.p8_ptr
.0fe3	8c 10 46		sty  p8_linkedlist_item.p8_data_get.p8_ptr+1
.0fe6	a9 7b			lda  #<p8_pTaskData2+0
.0fe8	a0 44			ldy  #>p8_pTaskData2+0
.0fea	8d 11 46		sta  p8_linkedlist_item.p8_data_get.p8_result
.0fed	8c 12 46		sty  p8_linkedlist_item.p8_data_get.p8_result+1
.0ff0	20 9b 39		jsr  p8_linkedlist_item.p8_data_get
.0ff3	a9 7b			lda  #<p8_pTaskData2+0
.0ff5	a0 44			ldy  #>p8_pTaskData2+0
.0ff7	85 54			sta  p8_task.p8_filename_get.p8_ptr
.0ff9	84 55			sty  p8_task.p8_filename_get.p8_ptr+1
.0ffb	a9 75			lda  #<p8_pFileName2+0
.0ffd	a0 44			ldy  #>p8_pFileName2+0
.0fff	85 52			sta  p8_task.p8_filename_get.p8_result
.1001	84 53			sty  p8_task.p8_filename_get.p8_result+1
.1003	20 72 18		jsr  p8_task.p8_filename_get
.1006	a9 75			lda  #<p8_pFileName2+0
.1008	85 02			sta  cx16.r0
.100a	a9 44			lda  #>p8_pFileName2+0
.100c	85 03			sta  cx16.r0+1
.100e	a9 69			lda  #<p8_api.p8_findByFilename.p8_filename2+0
.1010	85 04			sta  cx16.r1
.1012	a9 10			lda  #>p8_api.p8_findByFilename.p8_filename2+0
.1014	85 05			sta  cx16.r1+1
.1016	a0 10			ldy  #>p8_api.p8_findByFilename.p8_filename2+0
.1018	a9 69			lda  #<p8_api.p8_findByFilename.p8_filename2+0
.101a	20 64 17		jsr  string.length
.101d	98			tya
.101e	38			sec
.101f	e9 01			sbc  #1
.1021	aa			tax
.1022	20 c4 2b		jsr  p8_fptr.p8_memcopy_out
.1025	ad 73 44		lda  p8_filename
.1028	85 02			sta  cx16.r0
.102a	ad 74 44		lda  p8_filename+1
.102d	85 03			sta  cx16.r0+1
.102f	a0 10			ldy  #>p8_api.p8_findByFilename.p8_filename2+0
.1031	a9 69			lda  #<p8_api.p8_findByFilename.p8_filename2+0
.1033	20 72 17		jsr  string.compare
.1036	c9 00			cmp  #0
.1038	d0 16			bne  prog8_label_asm_8_if_end
.103a	a9 7b			lda  #<p8_pTaskData2+0
.103c	a0 44			ldy  #>p8_pTaskData2+0
.103e	85 44			sta  p8_task.p8_taskimage_get.p8_ptr
.1040	84 45			sty  p8_task.p8_taskimage_get.p8_ptr+1
.1042	a9 7e			lda  #<p8_pTaskImage+0
.1044	a0 44			ldy  #>p8_pTaskImage+0
.1046	85 42			sta  p8_task.p8_taskimage_get.p8_result
.1048	84 43			sty  p8_task.p8_taskimage_get.p8_result+1
.104a	20 7d 17		jsr  p8_task.p8_taskimage_get
.104d	a9 01			lda  #1
.104f	60			rts
.1050			prog8_label_asm_8_if_end
.1050	a9 78			lda  #<p8_pTask2+0
.1052	a0 44			ldy  #>p8_pTask2+0
.1054	8d f1 45		sta  p8_linkedlist.p8_next.p8_current
.1057	8c f2 45		sty  p8_linkedlist.p8_next.p8_current+1
.105a	8d f6 45		sta  p8_linkedlist.p8_next.p8_result
.105d	8c f7 45		sty  p8_linkedlist.p8_next.p8_result+1
.1060	20 89 38		jsr  p8_linkedlist.p8_next
.1063	4c bb 0f		bra  p8_prog8_label_9_whileloop
.1066			p8_prog8_label_10_afterwhile
.1066	a9 00			lda  #0
.1068	60			rts
>4473			p8_filename	.word  ?
>4475			p8_pFileName2	.fill  3
>4478			p8_pTask2	.fill  3
>447b			p8_pTaskData2	.fill  3
>447e			p8_pTaskImage	.word  ?
.1069			p8_filename2
>1069	20 20 20 20		.byte  $20, $20, $20, $20, $20, $20, $20, $20, $20, $20, $20, $20, $20, $20, $20, $20
>106d	20 20 20 20 20 20 20 20 20 20 20 20
>1079	20 00			.byte  $20, $00
.107b			p8_init_task
.107b	ad 80 44		lda  p8_filename
.107e	ac 81 44		ldy  p8_filename+1
.1081	8d 73 44		sta  p8_api.p8_findByFilename.p8_filename
.1084	8c 74 44		sty  p8_api.p8_findByFilename.p8_filename+1
.1087	a9 8f			lda  #<p8_pTaskImage+0
.1089	a0 44			ldy  #>p8_pTaskImage+0
.108b	8d 7e 44		sta  p8_api.p8_findByFilename.p8_pTaskImage
.108e	8c 7f 44		sty  p8_api.p8_findByFilename.p8_pTaskImage+1
.1091	20 a4 0f		jsr  p8_api.p8_findByFilename
.1094	c9 00			cmp  #0
.1096	d0 61			bne  prog8_label_asm_9_if_end
.1098	a9 2a			lda  #<p8_main.p8_fpm+0
.109a	a0 44			ldy  #>p8_main.p8_fpm+0
.109c	8d 2e 45		sta  p8_fmalloc.p8_malloc.p8_pm
.109f	8c 2f 45		sty  p8_fmalloc.p8_malloc.p8_pm+1
.10a2	a9 f8			lda  #<$1ff8
.10a4	a0 1f			ldy  #>$1ff8
.10a6	8d 32 45		sta  p8_fmalloc.p8_malloc.p8_size
.10a9	8c 33 45		sty  p8_fmalloc.p8_malloc.p8_size+1
.10ac	a9 8f			lda  #<p8_pTaskImage+0
.10ae	a0 44			ldy  #>p8_pTaskImage+0
.10b0	8d 30 45		sta  p8_fmalloc.p8_malloc.p8_result
.10b3	8c 31 45		sty  p8_fmalloc.p8_malloc.p8_result+1
.10b6	20 61 1c		jsr  p8_fmalloc.p8_malloc
.10b9	ad 8f 44		lda  p8_pTaskImage+0
.10bc	85 00		        sta  $00
.10be	ad 80 44		lda  p8_filename
.10c1	ac 81 44		ldy  p8_filename+1
.10c4	8d bf 44		sta  diskio.load.filenameptr
.10c7	8c c0 44		sty  diskio.load.filenameptr+1
.10ca	a9 08			lda  #<$a008
.10cc	a0 a0			ldy  #>$a008
.10ce	8d bd 44		sta  diskio.load.address_override
.10d1	8c be 44		sty  diskio.load.address_override+1
.10d4	20 36 14		jsr  diskio.load
.10d7	8d 95 44		sta  p8_result
.10da	8c 96 44		sty  p8_result+1
.10dd	0d 96 44		ora  p8_result+1
.10e0	d0 17			bne  prog8_label_asm_10_if_end
.10e2	a9 2a			lda  #<p8_main.p8_fpm+0
.10e4	a0 44			ldy  #>p8_main.p8_fpm+0
.10e6	8d 3f 45		sta  p8_fmalloc.p8_free.p8_pm
.10e9	8c 40 45		sty  p8_fmalloc.p8_free.p8_pm+1
.10ec	a9 8f			lda  #<p8_pTaskImage+0
.10ee	a0 44			ldy  #>p8_pTaskImage+0
.10f0	8d 41 45		sta  p8_fmalloc.p8_free.p8_ptr
.10f3	8c 42 45		sty  p8_fmalloc.p8_free.p8_ptr+1
.10f6	20 e9 1f		jsr  p8_fmalloc.p8_free
.10f9			prog8_label_asm_10_if_end
.10f9			prog8_label_asm_9_if_end
.10f9	a9 8f			lda  #<p8_pTaskImage+0
.10fb	85 02			sta  cx16.r0
.10fd	a9 44			lda  #>p8_pTaskImage+0
.10ff	85 03			sta  cx16.r0+1
.1101	a0 00		    ldy  #0
.1103	b1 02			lda  (cx16.r0),y
.1105	c8			iny
.1106	18			clc
.1107	71 02			adc  (cx16.r0),y
.1109	c8			iny
.110a	18			clc
.110b	71 02			adc  (cx16.r0),y
.110d	f0 02			beq  +
.110f	a9 01			lda  #1
.1111			    +
.1111	49 01		    eor  #1
.1113	c9 00			cmp  #0
.1115	f0 03			bne  prog8_label_asm_11_if_else
.1117	4c d7 12
.111a	a9 2a			lda  #<p8_main.p8_fpm+0
.111c	a0 44			ldy  #>p8_main.p8_fpm+0
.111e	8d 2e 45		sta  p8_fmalloc.p8_malloc.p8_pm
.1121	8c 2f 45		sty  p8_fmalloc.p8_malloc.p8_pm+1
.1124	ac 81 44		ldy  p8_filename+1
.1127	ad 80 44		lda  p8_filename
.112a	20 64 17		jsr  string.length
.112d	98			tya
.112e	18			clc
.112f	69 01			adc  #1
.1131	8d 32 45		sta  p8_fmalloc.p8_malloc.p8_size
.1134	9c 33 45		stz  p8_fmalloc.p8_malloc.p8_size+1
.1137	a9 87			lda  #<p8_pFileName+0
.1139	a0 44			ldy  #>p8_pFileName+0
.113b	8d 30 45		sta  p8_fmalloc.p8_malloc.p8_result
.113e	8c 31 45		sty  p8_fmalloc.p8_malloc.p8_result+1
.1141	20 61 1c		jsr  p8_fmalloc.p8_malloc
.1144	a9 87			lda  #<p8_pFileName+0
.1146	85 02			sta  cx16.r0
.1148	a9 44			lda  #>p8_pFileName+0
.114a	85 03			sta  cx16.r0+1
.114c	ad 80 44		lda  p8_filename
.114f	85 04			sta  cx16.r1
.1151	ad 81 44		lda  p8_filename+1
.1154	85 05			sta  cx16.r1+1
.1156	ac 81 44		ldy  p8_filename+1
.1159	ad 80 44		lda  p8_filename
.115c	20 64 17		jsr  string.length
.115f	98			tya
.1160	18			clc
.1161	69 01			adc  #1
.1163	aa			tax
.1164	20 a3 2b		jsr  p8_fptr.p8_memcopy_in
.1167	a9 2a			lda  #<p8_main.p8_fpm+0
.1169	a0 44			ldy  #>p8_main.p8_fpm+0
.116b	8d 2e 45		sta  p8_fmalloc.p8_malloc.p8_pm
.116e	8c 2f 45		sty  p8_fmalloc.p8_malloc.p8_pm+1
.1171	ac 98 44		ldy  p8_title+1
.1174	ad 97 44		lda  p8_title
.1177	20 64 17		jsr  string.length
.117a	98			tya
.117b	18			clc
.117c	69 01			adc  #1
.117e	8d 32 45		sta  p8_fmalloc.p8_malloc.p8_size
.1181	9c 33 45		stz  p8_fmalloc.p8_malloc.p8_size+1
.1184	a9 92			lda  #<p8_pTitle+0
.1186	a0 44			ldy  #>p8_pTitle+0
.1188	8d 30 45		sta  p8_fmalloc.p8_malloc.p8_result
.118b	8c 31 45		sty  p8_fmalloc.p8_malloc.p8_result+1
.118e	20 61 1c		jsr  p8_fmalloc.p8_malloc
.1191	a9 92			lda  #<p8_pTitle+0
.1193	85 02			sta  cx16.r0
.1195	a9 44			lda  #>p8_pTitle+0
.1197	85 03			sta  cx16.r0+1
.1199	ad 97 44		lda  p8_title
.119c	85 04			sta  cx16.r1
.119e	ad 98 44		lda  p8_title+1
.11a1	85 05			sta  cx16.r1+1
.11a3	ac 98 44		ldy  p8_title+1
.11a6	ad 97 44		lda  p8_title
.11a9	20 64 17		jsr  string.length
.11ac	98			tya
.11ad	18			clc
.11ae	69 01			adc  #1
.11b0	aa			tax
.11b1	20 a3 2b		jsr  p8_fptr.p8_memcopy_in
.11b4	a9 2a			lda  #<p8_main.p8_fpm+0
.11b6	a0 44			ldy  #>p8_main.p8_fpm+0
.11b8	8d 2e 45		sta  p8_fmalloc.p8_malloc.p8_pm
.11bb	8c 2f 45		sty  p8_fmalloc.p8_malloc.p8_pm+1
.11be	a9 18			lda  #<$18
.11c0	a0 00			ldy  #>$18
.11c2	8d 32 45		sta  p8_fmalloc.p8_malloc.p8_size
.11c5	8c 33 45		sty  p8_fmalloc.p8_malloc.p8_size+1
.11c8	a9 8c			lda  #<p8_pTaskData+0
.11ca	a0 44			ldy  #>p8_pTaskData+0
.11cc	8d 30 45		sta  p8_fmalloc.p8_malloc.p8_result
.11cf	8c 31 45		sty  p8_fmalloc.p8_malloc.p8_result+1
.11d2	20 61 1c		jsr  p8_fmalloc.p8_malloc
.11d5	a9 8c			lda  #<p8_pTaskData+0
.11d7	a0 44			ldy  #>p8_pTaskData+0
.11d9	85 40			sta  p8_task.p8_taskimage_set.p8_ptr
.11db	84 41			sty  p8_task.p8_taskimage_set.p8_ptr+1
.11dd	a9 8f			lda  #<p8_pTaskImage+0
.11df	a0 44			ldy  #>p8_pTaskImage+0
.11e1	85 3e			sta  p8_task.p8_taskimage_set.p8_value
.11e3	84 3f			sty  p8_task.p8_taskimage_set.p8_value+1
.11e5	20 96 17		jsr  p8_task.p8_taskimage_set
.11e8	a9 8c			lda  #<p8_pTaskData+0
.11ea	a0 44			ldy  #>p8_pTaskData+0
.11ec	85 50			sta  p8_task.p8_filename_set.p8_ptr
.11ee	84 51			sty  p8_task.p8_filename_set.p8_ptr+1
.11f0	a9 87			lda  #<p8_pFileName+0
.11f2	a0 44			ldy  #>p8_pFileName+0
.11f4	85 4e			sta  p8_task.p8_filename_set.p8_value
.11f6	84 4f			sty  p8_task.p8_filename_set.p8_value+1
.11f8	20 8d 18		jsr  p8_task.p8_filename_set
.11fb	a9 8c			lda  #<p8_pTaskData+0
.11fd	a0 44			ldy  #>p8_pTaskData+0
.11ff	85 3c			sta  p8_task.p8_title_set.p8_ptr
.1201	84 3d			sty  p8_task.p8_title_set.p8_ptr+1
.1203	a9 92			lda  #<p8_pTitle+0
.1205	a0 44			ldy  #>p8_pTitle+0
.1207	85 3a			sta  p8_task.p8_title_set.p8_value
.1209	84 3b			sty  p8_task.p8_title_set.p8_value+1
.120b	20 af 17		jsr  p8_task.p8_title_set
.120e	a9 8c			lda  #<p8_pTaskData+0
.1210	a0 44			ldy  #>p8_pTaskData+0
.1212	85 2c			sta  p8_task.p8_x_set.p8_ptr
.1214	84 2d			sty  p8_task.p8_x_set.p8_ptr+1
.1216	a9 9b			lda  #<p8_x+0
.1218	a0 44			ldy  #>p8_x+0
.121a	85 2a			sta  p8_task.p8_x_set.p8_value
.121c	84 2b			sty  p8_task.p8_x_set.p8_value+1
.121e	20 df 17		jsr  p8_task.p8_x_set
.1221	a9 8c			lda  #<p8_pTaskData+0
.1223	a0 44			ldy  #>p8_pTaskData+0
.1225	85 24			sta  p8_task.p8_y_set.p8_ptr
.1227	84 25			sty  p8_task.p8_y_set.p8_ptr+1
.1229	a9 9d			lda  #<p8_y+0
.122b	a0 44			ldy  #>p8_y+0
.122d	85 22			sta  p8_task.p8_y_set.p8_value
.122f	84 23			sty  p8_task.p8_y_set.p8_value+1
.1231	20 09 18		jsr  p8_task.p8_y_set
.1234	a9 8c			lda  #<p8_pTaskData+0
.1236	a0 44			ldy  #>p8_pTaskData+0
.1238	85 48			sta  p8_task.p8_h_set.p8_ptr
.123a	84 49			sty  p8_task.p8_h_set.p8_ptr+1
.123c	a9 82			lda  #<p8_h+0
.123e	a0 44			ldy  #>p8_h+0
.1240	85 46			sta  p8_task.p8_h_set.p8_value
.1242	84 47			sty  p8_task.p8_h_set.p8_value+1
.1244	20 33 18		jsr  p8_task.p8_h_set
.1247	a9 8c			lda  #<p8_pTaskData+0
.1249	a0 44			ldy  #>p8_pTaskData+0
.124b	85 34			sta  p8_task.p8_w_set.p8_ptr
.124d	84 35			sty  p8_task.p8_w_set.p8_ptr+1
.124f	a9 99			lda  #<p8_w+0
.1251	a0 44			ldy  #>p8_w+0
.1253	85 32			sta  p8_task.p8_w_set.p8_value
.1255	84 33			sty  p8_task.p8_w_set.p8_value+1
.1257	20 5d 18		jsr  p8_task.p8_w_set
.125a	a9 8c			lda  #<p8_pTaskData+0
.125c	a0 44			ldy  #>p8_pTaskData+0
.125e	85 58			sta  p8_task.p8_done_set_wi.p8_ptr
.1260	84 59			sty  p8_task.p8_done_set_wi.p8_ptr+1
.1262	64 56			stz  p8_task.p8_done_set_wi.p8_value
.1264	64 57			stz  p8_task.p8_done_set_wi.p8_value+1
.1266	20 bd 18		jsr  p8_task.p8_done_set_wi
.1269	a9 8c			lda  #<p8_pTaskData+0
.126b	a0 44			ldy  #>p8_pTaskData+0
.126d	85 60			sta  p8_task.p8_canvas_set.p8_ptr
.126f	84 61			sty  p8_task.p8_canvas_set.p8_ptr+1
.1271	a9 84			lda  #<p8_pCanvas+0
.1273	a0 44			ldy  #>p8_pCanvas+0
.1275	85 5e			sta  p8_task.p8_canvas_set.p8_value
.1277	84 5f			sty  p8_task.p8_canvas_set.p8_value+1
.1279	20 d2 18		jsr  p8_task.p8_canvas_set
.127c	a9 2a			lda  #<p8_main.p8_fpm+0
.127e	a0 44			ldy  #>p8_main.p8_fpm+0
.1280	8d d4 45		sta  p8_linkedlist.p8_add_last.p8_heap
.1283	8c d5 45		sty  p8_linkedlist.p8_add_last.p8_heap+1
.1286	a9 49			lda  #<p8_api.p8_pTaskList+0
.1288	a0 44			ldy  #>p8_api.p8_pTaskList+0
.128a	8d e1 45		sta  p8_linkedlist.p8_add_last.p8_root
.128d	8c e2 45		sty  p8_linkedlist.p8_add_last.p8_root+1
.1290	a9 8c			lda  #<p8_pTaskData+0
.1292	a0 44			ldy  #>p8_pTaskData+0
.1294	8d d2 45		sta  p8_linkedlist.p8_add_last.p8_data
.1297	8c d3 45		sty  p8_linkedlist.p8_add_last.p8_data+1
.129a	ad 8a 44		lda  p8_pTask
.129d	ac 8b 44		ldy  p8_pTask+1
.12a0	8d df 45		sta  p8_linkedlist.p8_add_last.p8_result
.12a3	8c e0 45		sty  p8_linkedlist.p8_add_last.p8_result+1
.12a6	20 9f 36		jsr  p8_linkedlist.p8_add_last
.12a9	ad 8f 44		lda  p8_pTaskImage+0
.12ac	8d ad 44		sta  p8_api.p8_run.p8_bank
.12af	a9 01			lda  #<1
.12b1	a0 00			ldy  #>1
.12b3	8d ae 44		sta  p8_api.p8_run.p8_messageId
.12b6	8c af 44		sty  p8_api.p8_run.p8_messageId+1
.12b9	9c b2 44		stz  p8_api.p8_run.p8_param1
.12bc	9c b3 44		stz  p8_api.p8_run.p8_param1+1
.12bf	9c b4 44		stz  p8_api.p8_run.p8_param2
.12c2	9c b5 44		stz  p8_api.p8_run.p8_param2+1
.12c5	ad 8a 44		lda  p8_pTask
.12c8	ac 8b 44		ldy  p8_pTask+1
.12cb	8d b0 44		sta  p8_api.p8_run.p8_pTask
.12ce	8c b1 44		sty  p8_api.p8_run.p8_pTask+1
.12d1	20 64 13		jsr  p8_api.p8_run
.12d4	a9 01			lda  #1
.12d6	60			rts
.12d7			prog8_label_asm_11_if_else
.12d7	a9 00			lda  #0
.12d9	60			rts
.12da			prog8_label_asm_12_if_end
.12da	60			rts
>4480			p8_filename	.word  ?
>4482			p8_h	.word  ?
>4484			p8_pCanvas	.fill  3
>4487			p8_pFileName	.fill  3
>448a			p8_pTask	.word  ?
>448c			p8_pTaskData	.fill  3
>448f			p8_pTaskImage	.fill  3
>4492			p8_pTitle	.fill  3
>4495			p8_result	.word  ?
>4497			p8_title	.word  ?
>4499			p8_w	.word  ?
>449b			p8_x	.word  ?
>449d			p8_y	.word  ?
.12db			p8_run_task
.12db	9c 9f 44		stz  p8_done
.12de	9c a0 44		stz  p8_done+1
.12e1	ad a5 44		lda  p8_pTask
.12e4	ac a6 44		ldy  p8_pTask+1
.12e7	8d 0f 46		sta  p8_linkedlist_item.p8_data_get.p8_ptr
.12ea	8c 10 46		sty  p8_linkedlist_item.p8_data_get.p8_ptr+1
.12ed	a9 a7			lda  #<p8_pTaskData+0
.12ef	a0 44			ldy  #>p8_pTaskData+0
.12f1	8d 11 46		sta  p8_linkedlist_item.p8_data_get.p8_result
.12f4	8c 12 46		sty  p8_linkedlist_item.p8_data_get.p8_result+1
.12f7	20 9b 39		jsr  p8_linkedlist_item.p8_data_get
.12fa	a9 a7			lda  #<p8_pTaskData+0
.12fc	a0 44			ldy  #>p8_pTaskData+0
.12fe	85 44			sta  p8_task.p8_taskimage_get.p8_ptr
.1300	84 45			sty  p8_task.p8_taskimage_get.p8_ptr+1
.1302	a9 aa			lda  #<p8_pTaskImage+0
.1304	a0 44			ldy  #>p8_pTaskImage+0
.1306	85 42			sta  p8_task.p8_taskimage_get.p8_result
.1308	84 43			sty  p8_task.p8_taskimage_get.p8_result+1
.130a	20 7d 17		jsr  p8_task.p8_taskimage_get
.130d	ad aa 44		lda  p8_pTaskImage+0
.1310	8d ad 44		sta  p8_api.p8_run.p8_bank
.1313	a9 02			lda  #<2
.1315	a0 00			ldy  #>2
.1317	8d ae 44		sta  p8_api.p8_run.p8_messageId
.131a	8c af 44		sty  p8_api.p8_run.p8_messageId+1
.131d	ad a1 44		lda  p8_messageId
.1320	ac a2 44		ldy  p8_messageId+1
.1323	8d b2 44		sta  p8_api.p8_run.p8_param1
.1326	8c b3 44		sty  p8_api.p8_run.p8_param1+1
.1329	a9 a3			lda  #<p8_pMessage+0
.132b	a0 44			ldy  #>p8_pMessage+0
.132d	8d b4 44		sta  p8_api.p8_run.p8_param2
.1330	8c b5 44		sty  p8_api.p8_run.p8_param2+1
.1333	ad a5 44		lda  p8_pTask
.1336	ac a6 44		ldy  p8_pTask+1
.1339	8d b0 44		sta  p8_api.p8_run.p8_pTask
.133c	8c b1 44		sty  p8_api.p8_run.p8_pTask+1
.133f	20 64 13		jsr  p8_api.p8_run
.1342	a9 a7			lda  #<p8_pTaskData+0
.1344	a0 44			ldy  #>p8_pTaskData+0
.1346	85 5c			sta  p8_task.p8_done_get.p8_ptr
.1348	84 5d			sty  p8_task.p8_done_get.p8_ptr+1
.134a	a9 9f			lda  #<p8_done+0
.134c	a0 44			ldy  #>p8_done+0
.134e	85 5a			sta  p8_task.p8_done_get.p8_result
.1350	84 5b			sty  p8_task.p8_done_get.p8_result+1
.1352	20 a8 18		jsr  p8_task.p8_done_get
.1355	ac a0 44		ldy  p8_done+1
.1358	ad 9f 44		lda  p8_done
.135b	84 7a			sty  P8ZP_SCRATCH_B1
.135d	05 7a			ora  P8ZP_SCRATCH_B1
.135f	f0 02			beq  +
.1361	a9 01			lda  #1
.1363			+
.1363	60			rts
>449f			p8_done	.word  ?
>44a1			p8_messageId	.word  ?
>44a3			p8_pMessage	.word  ?
>44a5			p8_pTask	.word  ?
>44a7			p8_pTaskData	.fill  3
>44aa			p8_pTaskImage	.fill  3
.1364			p8_run
.1364	ad ad 44		lda  p8_bank
.1367	85 00		        sta  $00
.1369	ad ae 44		lda  p8_messageId
.136c	85 02			sta  cx16.r0
.136e	ad af 44		lda  p8_messageId+1
.1371	85 03			sta  cx16.r0+1
.1373	ad b2 44		lda  p8_param1
.1376	85 04			sta  cx16.r1
.1378	ad b3 44		lda  p8_param1+1
.137b	85 05			sta  cx16.r1+1
.137d	ad b4 44		lda  p8_param2
.1380	85 06			sta  cx16.r2
.1382	ad b5 44		lda  p8_param2+1
.1385	85 07			sta  cx16.r2+1
.1387	ad b0 44		lda  p8_pTask
.138a	85 08			sta  cx16.r3
.138c	ad b1 44		lda  p8_pTask+1
.138f	85 09			sta  cx16.r3+1
.1391	4c 08 a0		jmp  p8_api.p8_external_command
>44ad			p8_bank	.byte  ?
>44ae			p8_messageId	.word  ?
>44b0			p8_pTask	.word  ?
>44b2			p8_param1	.word  ?
>44b4			p8_param2	.word  ?
.1394			p8_pmalloc_malloc_stub
.1394	a9 38			lda  #<p8_main.p8_pm+0
.1396	a0 44			ldy  #>p8_main.p8_pm+0
.1398	8d 9a 45		sta  p8_pmalloc.p8_malloc.p8_pm
.139b	8c 9b 45		sty  p8_pmalloc.p8_malloc.p8_pm+1
.139e	a5 02			lda  cx16.r0
.13a0	8d 9c 45		sta  p8_pmalloc.p8_malloc.p8_size
.13a3	a5 03			lda  cx16.r0+1
.13a5	8d 9d 45		sta  p8_pmalloc.p8_malloc.p8_size+1
.13a8	20 58 2d		jsr  p8_pmalloc.p8_malloc
.13ab	85 04			sta  cx16.r1
.13ad	84 05			sty  cx16.r1+1
.13af	60			rts
.13b0			p8_pmalloc_free_stub
.13b0	a9 38			lda  #<p8_main.p8_pm+0
.13b2	a0 44			ldy  #>p8_main.p8_pm+0
.13b4	8d a6 45		sta  p8_pmalloc.p8_free.p8_pm
.13b7	8c a7 45		sty  p8_pmalloc.p8_free.p8_pm+1
.13ba	a5 02			lda  cx16.r0
.13bc	8d a8 45		sta  p8_pmalloc.p8_free.p8_ptr
.13bf	a5 03			lda  cx16.r0+1
.13c1	8d a9 45		sta  p8_pmalloc.p8_free.p8_ptr+1
.13c4	4c 01 30		jmp  p8_pmalloc.p8_free
.13c7			p8_fmalloc_malloc_stub
.13c7	a9 2a			lda  #<p8_main.p8_fpm+0
.13c9	a0 44			ldy  #>p8_main.p8_fpm+0
.13cb	8d 2e 45		sta  p8_fmalloc.p8_malloc.p8_pm
.13ce	8c 2f 45		sty  p8_fmalloc.p8_malloc.p8_pm+1
.13d1	a5 02			lda  cx16.r0
.13d3	8d 32 45		sta  p8_fmalloc.p8_malloc.p8_size
.13d6	a5 03			lda  cx16.r0+1
.13d8	8d 33 45		sta  p8_fmalloc.p8_malloc.p8_size+1
.13db	a5 04			lda  cx16.r1
.13dd	8d 30 45		sta  p8_fmalloc.p8_malloc.p8_result
.13e0	a5 05			lda  cx16.r1+1
.13e2	8d 31 45		sta  p8_fmalloc.p8_malloc.p8_result+1
.13e5	4c 61 1c		jmp  p8_fmalloc.p8_malloc
.13e8			p8_fmalloc_free_stub
.13e8	a9 2a			lda  #<p8_main.p8_fpm+0
.13ea	a0 44			ldy  #>p8_main.p8_fpm+0
.13ec	8d 3f 45		sta  p8_fmalloc.p8_free.p8_pm
.13ef	8c 40 45		sty  p8_fmalloc.p8_free.p8_pm+1
.13f2	a5 02			lda  cx16.r0
.13f4	8d 41 45		sta  p8_fmalloc.p8_free.p8_ptr
.13f7	a5 03			lda  cx16.r0+1
.13f9	8d 42 45		sta  p8_fmalloc.p8_free.p8_ptr+1
.13fc	4c e9 1f		jmp  p8_fmalloc.p8_free
.13ff			diskio
=12				READ_IO_CHANNEL = 12
=13				WRITE_IO_CHANNEL = 13
>44b6			drivenumber	.byte  ?
>44b7			iteration_in_progress	.byte  ?
>44b8			list_blocks	.word  ?
>44ba			list_pattern	.word  ?
>44bc			list_skip_disk_name	.byte  ?
.13ff			list_filename
>13ff	3f 3f 3f 3f		.byte  $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f
>1403	3f 3f 3f 3f 3f 3f 3f 3f 3f 3f 3f 3f
>140f	3f 3f 3f 3f		.byte  $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f
>1413	3f 3f 3f 3f 3f 3f 3f 3f 3f 3f 3f 3f
>141f	3f 3f 3f 3f		.byte  $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f
>1423	3f 3f 3f 3f 3f 3f 3f 3f 3f 3f 3f 3f
>142f	3f 3f 00		.byte  $3f, $3f, $00
.1432			list_filetype
>1432	3f 3f 3f 00		.byte  $3f, $3f, $3f, $00
.1436			load
.1436	ad bf 44		lda  filenameptr
.1439	ac c0 44		ldy  filenameptr+1
.143c	8d c3 44		sta  diskio.internal_load_routine.filenameptr
.143f	8c c4 44		sty  diskio.internal_load_routine.filenameptr+1
.1442	ad bd 44		lda  address_override
.1445	ac be 44		ldy  address_override+1
.1448	8d c1 44		sta  diskio.internal_load_routine.address_override
.144b	8c c2 44		sty  diskio.internal_load_routine.address_override+1
.144e	9c c5 44		stz  diskio.internal_load_routine.headerless
.1451	4c 54 14		jmp  diskio.internal_load_routine
>44bd			address_override	.word  ?
>44bf			filenameptr	.word  ?
.1454			internal_load_routine
.1454	ac c4 44		ldy  filenameptr+1
.1457	ae c3 44		ldx  filenameptr
.145a	da			phx
.145b	5a			phy
.145c	ac c4 44		ldy  filenameptr+1
.145f	ad c3 44		lda  filenameptr
.1462	20 64 17		jsr  string.length
.1465	98			tya
.1466	7a			ply
.1467	fa			plx
.1468	20 bd ff		jsr  cbm.SETNAM
.146b	a9 01			lda  #1
.146d	8d c6 44		sta  secondary
.1470	64 04			stz  cx16.r1
.1472	64 05			stz  cx16.r1+1
.1474	ad c1 44		lda  address_override
.1477	0d c2 44		ora  address_override+1
.147a	f0 03			beq  prog8_label_asm_15_if_end
.147c	9c c6 44		stz  secondary
.147f			prog8_label_asm_15_if_end
.147f	ad c5 44		lda  headerless
.1482	f0 05			beq  prog8_label_asm_16_if_end
.1484	a9 02			lda  #2
.1486	0c c6 44		tsb  secondary
.1489			prog8_label_asm_16_if_end
.1489	ac c6 44		ldy  secondary
.148c	ae b6 44		ldx  diskio.drivenumber
.148f	a9 01			lda  #1
.1491	20 ba ff		jsr  cbm.SETLFS
.1494	a9 00		            lda  #0
.1496	ae c1 44	            ldx  address_override
.1499	ac c2 44	            ldy  address_override+1
.149c	20 d5 ff	            jsr  cbm.LOAD
.149f	b0 04		            bcs  +
.14a1	86 04		            stx  cx16.r1
.14a3	84 05		            sty  cx16.r1+1
.14a5			+
.14a5	a5 04			lda  cx16.r1
.14a7	a4 05			ldy  cx16.r1+1
.14a9	60			rts
>44c1			address_override	.word  ?
>44c3			filenameptr	.word  ?
>44c5			headerless	.byte  ?
>44c6			secondary	.byte  ?
.14aa			prog8_init_vars
.14aa	a9 08			lda  #8
.14ac	8d b6 44		sta  diskio.drivenumber
.14af	60			rts
.14b0			txt
=$3c				DEFAULT_HEIGHT = $3c
=$50				DEFAULT_WIDTH = $50
=$b000				VERA_TEXTMATRIX_ADDR = $b000
=1				VERA_TEXTMATRIX_BANK = 1
=$ffd2				chrout = $ffd2
.14b0			column
.14b0	38		        sec
.14b1	20 f0 ff	        jsr  cbm.PLOT
.14b4	a8		        tay
.14b5	18		        clc
.14b6	4c f0 ff	        jmp  cbm.PLOT
.14b9			get_column
.14b9	38		        sec
.14ba	4c f0 ff	        jmp cbm.PLOT
.14bd			row
.14bd	38		        sec
.14be	20 f0 ff	        jsr  cbm.PLOT
.14c1	aa		        tax
.14c2	18		        clc
.14c3	4c f0 ff	        jmp  cbm.PLOT
.14c6			get_row
.14c6	38		        sec
.14c7	4c f0 ff	        jmp cbm.PLOT
.14ca			print
.14ca	85 7a				sta  P8ZP_SCRATCH_B1
.14cc	84 7b				sty  P8ZP_SCRATCH_REG
.14ce	a0 00				ldy  #0
.14d0	b1 7a		-		lda  (P8ZP_SCRATCH_B1),y
.14d2	f0 06				beq  +
.14d4	20 d2 ff			jsr  cbm.CHROUT
.14d7	c8				iny
.14d8	d0 f6				bne  -
.14da	60		+		rts
.14db			print_ub
.14db	20 6e 16			jsr  conv.ubyte2decimal
.14de			_print_byte_digits
.14de	48				pha
.14df	c0 30				cpy  #'0'
.14e1	f0 0a				beq  +
.14e3	98				tya
.14e4	20 d2 ff			jsr  cbm.CHROUT
.14e7	68				pla
.14e8	20 d2 ff			jsr  cbm.CHROUT
.14eb	80 08				bra  _ones
.14ed	68		+       pla
.14ee	c9 30		        cmp  #'0'
.14f0	f0 03		        beq  _ones
.14f2	20 d2 ff	        jsr  cbm.CHROUT
.14f5	8a		_ones   txa
.14f6	4c d2 ff			jmp  cbm.CHROUT
.14f9			print_ubhex
.14f9	90 07				bcc  +
.14fb	48				pha
.14fc	a9 24				lda  #'$'
.14fe	20 d2 ff			jsr  cbm.CHROUT
.1501	68				pla
.1502	20 43 17	+		jsr  conv.ubyte2hex
.1505	20 d2 ff			jsr  cbm.CHROUT
.1508	98				tya
.1509	4c d2 ff			jmp  cbm.CHROUT
.150c			print_uwhex
.150c	48				pha
.150d	98				tya
.150e	20 f9 14			jsr  print_ubhex
.1511	68				pla
.1512	18				clc
.1513	80 e4				bra  print_ubhex
.1515			print_uw
.1515	20 73 16			jsr  conv.uword2decimal
.1518	a0 00				ldy  #0
.151a	b9 3d 17	-		lda  conv.uword2decimal.decTenThousands,y
.151d	f0 11				beq  _allzero
.151f	c9 30				cmp  #'0'
.1521	d0 03				bne  _gotdigit
.1523	c8				iny
.1524	d0 f4				bne  -
.1526			_gotdigit
.1526	20 d2 ff			jsr  cbm.CHROUT
.1529	c8				iny
.152a	b9 3d 17			lda  conv.uword2decimal.decTenThousands,y
.152d	d0 f7				bne  _gotdigit
.152f	60				rts
.1530			_allzero
.1530	a9 30		        lda  #'0'
.1532	4c d2 ff	        jmp  cbm.CHROUT
.1535			cbm
=$ff81				CINT = $ff81
=$ff84				IOINIT = $ff84
=$ff87				RAMTAS = $ff87
=$ff8a				RESTOR = $ff8a
=$ff8d				VECTOR = $ff8d
=$ff90				SETMSG = $ff90
=$ff93				SECOND = $ff93
=$ff96				TKSA = $ff96
=$ff99				MEMTOP = $ff99
=$ff9c				MEMBOT = $ff9c
=$ff9f				SCNKEY = $ff9f
=$ffa2				SETTMO = $ffa2
=$ffa5				ACPTR = $ffa5
=$ffa8				CIOUT = $ffa8
=$ffab				UNTLK = $ffab
=$ffae				UNLSN = $ffae
=$ffb1				LISTEN = $ffb1
=$ffb4				TALK = $ffb4
=$ffb7				READST = $ffb7
=$ffba				SETLFS = $ffba
=$ffbd				SETNAM = $ffbd
=$ffc0				OPEN = $ffc0
=$ffc3				CLOSE = $ffc3
=$ffc6				CHKIN = $ffc6
=$ffc9				CHKOUT = $ffc9
=$ffcc				CLRCHN = $ffcc
=$ffcf				CHRIN = $ffcf
=$ffd2				CHROUT = $ffd2
=$ffd5				LOAD = $ffd5
=$ffd8				SAVE = $ffd8
=$ffdb				SETTIM = $ffdb
=$ffde				RDTIM = $ffde
=$ffe1				STOP = $ffe1
=$ffe4				GETIN = $ffe4
=$ffe7				CLALL = $ffe7
=$ffea				UDTIM = $ffea
=$ffed				SCREEN = $ffed
=$fff0				PLOT = $fff0
=$fff3				IOBASE = $fff3
.1535			cx16
=2				r0 = 2
=2				r0s = 2
=2				r0L = 2
=2				r0sL = 2
=3				r0H = 3
=3				r0sH = 3
=4				r1 = 4
=4				r1s = 4
=4				r1L = 4
=4				r1sL = 4
=5				r1H = 5
=5				r1sH = 5
=6				r2 = 6
=6				r2s = 6
=6				r2L = 6
=6				r2sL = 6
=7				r2H = 7
=7				r2sH = 7
=8				r3 = 8
=8				r3s = 8
=8				r3L = 8
=8				r3sL = 8
=9				r3H = 9
=9				r3sH = 9
=10				r4 = 10
=10				r4s = 10
=10				r4L = 10
=10				r4sL = 10
=11				r4H = 11
=11				r4sH = 11
=12				r5 = 12
=12				r5s = 12
=12				r5L = 12
=12				r5sL = 12
=13				r5H = 13
=13				r5sH = 13
=14				r6 = 14
=14				r6s = 14
=14				r6L = 14
=14				r6sL = 14
=15				r6H = 15
=15				r6sH = 15
=$10				r7 = $10
=$10				r7s = $10
=$10				r7L = $10
=$10				r7sL = $10
=$11				r7H = $11
=$11				r7sH = $11
=$12				r8 = $12
=$12				r8s = $12
=$12				r8L = $12
=$12				r8sL = $12
=$13				r8H = $13
=$13				r8sH = $13
=$14				r9 = $14
=$14				r9s = $14
=$14				r9L = $14
=$14				r9sL = $14
=$15				r9H = $15
=$15				r9sH = $15
=$16				r10 = $16
=$16				r10s = $16
=$16				r10L = $16
=$16				r10sL = $16
=$17				r10H = $17
=$17				r10sH = $17
=$18				r11 = $18
=$18				r11s = $18
=$18				r11L = $18
=$18				r11sL = $18
=$19				r11H = $19
=$19				r11sH = $19
=$1a				r12 = $1a
=$1a				r12s = $1a
=$1a				r12L = $1a
=$1a				r12sL = $1a
=$1b				r12H = $1b
=$1b				r12sH = $1b
=$1c				r13 = $1c
=$1c				r13s = $1c
=$1c				r13L = $1c
=$1c				r13sL = $1c
=$1d				r13H = $1d
=$1d				r13sH = $1d
=$1e				r14 = $1e
=$1e				r14s = $1e
=$1e				r14L = $1e
=$1e				r14sL = $1e
=$1f				r14H = $1f
=$1f				r14sH = $1f
=$20				r15 = $20
=$20				r15s = $20
=$20				r15L = $20
=$20				r15sL = $20
=$21				r15H = $21
=$21				r15sH = $21
=$0300				IERROR = $0300
=$0302				IMAIN = $0302
=$0304				ICRNCH = $0304
=$0306				IQPLOP = $0306
=$0308				IGONE = $0308
=$030a				IEVAL = $030a
=$030c				SAREG = $030c
=$030d				SXREG = $030d
=$030e				SYREG = $030e
=$030f				SPREG = $030f
=$0311				USRADD = $0311
=$0314				CINV = $0314
=$0316				CBINV = $0316
=$0318				NMINV = $0318
=$031a				IOPEN = $031a
=$031c				ICLOSE = $031c
=$031e				ICHKIN = $031e
=$0320				ICKOUT = $0320
=$0322				ICLRCH = $0322
=$0324				IBASIN = $0324
=$0326				IBSOUT = $0326
=$0328				ISTOP = $0328
=$032a				IGETIN = $032a
=$032c				ICLALL = $032c
=$032e				KEYHDL = $032e
=$0330				ILOAD = $0330
=$0332				ISAVE = $0332
=$9f00				via1prb = $9f00
=$9f01				via1pra = $9f01
=$9f02				via1ddrb = $9f02
=$9f03				via1ddra = $9f03
=$9f04				via1t1l = $9f04
=$9f05				via1t1h = $9f05
=$9f06				via1t1ll = $9f06
=$9f07				via1t1lh = $9f07
=$9f08				via1t2l = $9f08
=$9f09				via1t2h = $9f09
=$9f0a				via1sr = $9f0a
=$9f0b				via1acr = $9f0b
=$9f0c				via1pcr = $9f0c
=$9f0d				via1ifr = $9f0d
=$9f0e				via1ier = $9f0e
=$9f0f				via1ora = $9f0f
=$9f10				via2prb = $9f10
=$9f11				via2pra = $9f11
=$9f12				via2ddrb = $9f12
=$9f13				via2ddra = $9f13
=$9f14				via2t1l = $9f14
=$9f15				via2t1h = $9f15
=$9f16				via2t1ll = $9f16
=$9f17				via2t1lh = $9f17
=$9f18				via2t2l = $9f18
=$9f19				via2t2h = $9f19
=$9f1a				via2sr = $9f1a
=$9f1b				via2acr = $9f1b
=$9f1c				via2pcr = $9f1c
=$9f1d				via2ifr = $9f1d
=$9f1e				via2ier = $9f1e
=$9f1f				via2ora = $9f1f
=$9f20				VERA_ADDR_L = $9f20
=$9f21				VERA_ADDR_M = $9f21
=$9f22				VERA_ADDR_H = $9f22
=$9f23				VERA_DATA0 = $9f23
=$9f24				VERA_DATA1 = $9f24
=$9f25				VERA_CTRL = $9f25
=$9f26				VERA_IEN = $9f26
=$9f27				VERA_ISR = $9f27
=$9f28				VERA_IRQLINE_L = $9f28
=$9f28				VERA_SCANLINE_L = $9f28
=$9f29				VERA_DC_VIDEO = $9f29
=$9f29				VERA_DC_HSTART = $9f29
=$9f29				VERA_DC_VER0 = $9f29
=$9f29				VERA_FX_CTRL = $9f29
=$9f29				VERA_FX_X_INCR_L = $9f29
=$9f29				VERA_FX_X_POS_L = $9f29
=$9f29				VERA_FX_X_POS_S = $9f29
=$9f29				VERA_FX_CACHE_L = $9f29
=$9f29				VERA_FX_ACCUM_RESET = $9f29
=$9f2a				VERA_DC_HSCALE = $9f2a
=$9f2a				VERA_DC_HSTOP = $9f2a
=$9f2a				VERA_DC_VER1 = $9f2a
=$9f2a				VERA_FX_TILEBASE = $9f2a
=$9f2a				VERA_FX_X_INCR_H = $9f2a
=$9f2a				VERA_FX_X_POS_H = $9f2a
=$9f2a				VERA_FX_Y_POS_S = $9f2a
=$9f2a				VERA_FX_CACHE_M = $9f2a
=$9f2a				VERA_FX_ACCUM = $9f2a
=$9f2b				VERA_DC_VSCALE = $9f2b
=$9f2b				VERA_DC_VSTART = $9f2b
=$9f2b				VERA_DC_VER2 = $9f2b
=$9f2b				VERA_FX_MAPBASE = $9f2b
=$9f2b				VERA_FX_Y_INCR_L = $9f2b
=$9f2b				VERA_FX_Y_POS_L = $9f2b
=$9f2b				VERA_FX_POLY_FILL_L = $9f2b
=$9f2b				VERA_FX_CACHE_H = $9f2b
=$9f2c				VERA_DC_BORDER = $9f2c
=$9f2c				VERA_DC_VSTOP = $9f2c
=$9f2c				VERA_DC_VER3 = $9f2c
=$9f2c				VERA_FX_MULT = $9f2c
=$9f2c				VERA_FX_Y_INCR_H = $9f2c
=$9f2c				VERA_FX_Y_POS_H = $9f2c
=$9f2c				VERA_FX_POLY_FILL_H = $9f2c
=$9f2c				VERA_FX_CACHE_U = $9f2c
=$9f2d				VERA_L0_CONFIG = $9f2d
=$9f2e				VERA_L0_MAPBASE = $9f2e
=$9f2f				VERA_L0_TILEBASE = $9f2f
=$9f30				VERA_L0_HSCROLL_L = $9f30
=$9f31				VERA_L0_HSCROLL_H = $9f31
=$9f32				VERA_L0_VSCROLL_L = $9f32
=$9f33				VERA_L0_VSCROLL_H = $9f33
=$9f34				VERA_L1_CONFIG = $9f34
=$9f35				VERA_L1_MAPBASE = $9f35
=$9f36				VERA_L1_TILEBASE = $9f36
=$9f37				VERA_L1_HSCROLL_L = $9f37
=$9f38				VERA_L1_HSCROLL_H = $9f38
=$9f39				VERA_L1_VSCROLL_L = $9f39
=$9f3a				VERA_L1_VSCROLL_H = $9f3a
=$9f3b				VERA_AUDIO_CTRL = $9f3b
=$9f3c				VERA_AUDIO_RATE = $9f3c
=$9f3d				VERA_AUDIO_DATA = $9f3d
=$9f3e				VERA_SPI_DATA = $9f3e
=$9f3f				VERA_SPI_CTRL = $9f3f
=$9f40				YM_ADDRESS = $9f40
=$9f41				YM_DATA = $9f41
=$ac03				edkeyvec = $ac03
=$ac05				edkeybk = $ac05
=$fffa				NMI_VEC = $fffa
=$fffc				RESET_VEC = $fffc
=$fffe				IRQ_VEC = $fffe
=$9f20				VERA_BASE = $9f20
=$9f00				VIA1_BASE = $9f00
=$9f10				VIA2_BASE = $9f10
=$9f60				extdev = $9f60
=$ff4a				CLOSE_ALL = $ff4a
=$ff59				LKUPLA = $ff59
=$ff5c				LKUPSA = $ff5c
=$ff5f				screen_mode = $ff5f
=$ff62				screen_set_charset = $ff62
=$ff6e				JSRFAR = $ff6e
=$ff74				fetch = $ff74
=$ff77				stash = $ff77
=$ff7d				PRIMM = $ff7d
=$ff20				GRAPH_init = $ff20
=$ff23				GRAPH_clear = $ff23
=$ff26				GRAPH_set_window = $ff26
=$ff29				GRAPH_set_colors = $ff29
=$ff2c				GRAPH_draw_line = $ff2c
=$ff2f				GRAPH_draw_rect = $ff2f
=$ff32				GRAPH_move_rect = $ff32
=$ff35				GRAPH_draw_oval = $ff35
=$ff38				GRAPH_draw_image = $ff38
=$ff3b				GRAPH_set_font = $ff3b
=$ff3e				GRAPH_get_char_size = $ff3e
=$ff41				GRAPH_put_char = $ff41
=$ff41				GRAPH_put_next_char = $ff41
=$fef6				FB_init = $fef6
=$fef9				FB_get_info = $fef9
=$fefc				FB_set_palette = $fefc
=$feff				FB_cursor_position = $feff
=$ff02				FB_cursor_next_line = $ff02
=$ff05				FB_get_pixel = $ff05
=$ff08				FB_get_pixels = $ff08
=$ff0b				FB_set_pixel = $ff0b
=$ff0e				FB_set_pixels = $ff0e
=$ff11				FB_set_8_pixels = $ff11
=$ff14				FB_set_8_pixels_opaque = $ff14
=$ff17				FB_fill_pixels = $ff17
=$ff1a				FB_filter_pixels = $ff1a
=$ff1d				FB_move_pixels = $ff1d
=$feba				BSAVE = $feba
=$fec6				i2c_read_byte = $fec6
=$fec9				i2c_write_byte = $fec9
=$fef0				sprite_set_image = $fef0
=$fef3				sprite_set_position = $fef3
=$fee4				memory_fill = $fee4
=$fee7				memory_copy = $fee7
=$feea				memory_crc = $feea
=$feed				memory_decompress = $feed
=$fedb				console_init = $fedb
=$fede				console_put_char = $fede
=$fee1				console_get_char = $fee1
=$fed8				console_put_image = $fed8
=$fed5				console_set_paging_message = $fed5
=$fecf				entropy_get = $fecf
=$fecc				monitor = $fecc
=$ff44				MACPTR = $ff44
=$feb1				MCIOUT = $feb1
=$ff47				enter_basic = $ff47
=$ff4d				clock_set_date_time = $ff4d
=$ff50				clock_get_date_time = $ff50
=$febd				kbdbuf_peek = $febd
=$febd				kbdbuf_peek2 = $febd
=$fec0				kbdbuf_get_modifiers = $fec0
=$fec3				kbdbuf_put = $fec3
=$fed2				keymap = $fed2
=$ff68				mouse_config = $ff68
=$ff6b				mouse_get = $ff6b
=$ff71				mouse_scan = $ff71
=$ff53				joystick_scan = $ff53
=$ff56				joystick_get = $ff56
=$ff56				joystick_get2 = $ff56
=$c04b				psg_init = $c04b
=$c063				ym_init = $c063
=$c066				ym_loaddefpatches = $c066
=$c09f				audio_init = $c09f
.1535			vaddr
.1535	29 01		            and  #1
.1537	48		            pha
.1538	a5 04		            lda  cx16.r1
.153a	29 01		            and  #1
.153c	8d 25 9f	            sta  cx16.VERA_CTRL
.153f	a5 02		            lda  cx16.r0
.1541	8d 20 9f	            sta  cx16.VERA_ADDR_L
.1544	a5 03		            lda  cx16.r0+1
.1546	8d 21 9f	            sta  cx16.VERA_ADDR_M
.1549	68		            pla
.154a	c0 00		            cpy  #0
.154c	30 08		            bmi  ++
.154e	f0 02		            beq  +
.1550	09 10		            ora  #%00010000
.1552	8d 22 9f	+           sta  cx16.VERA_ADDR_H
.1555	60		            rts
.1556	09 18		+           ora  #%00011000
.1558	8d 22 9f	            sta  cx16.VERA_ADDR_H
.155b	60		            rts
.155c			vaddr_clone
.155c	8d 25 9f	        sta  VERA_CTRL
.155f	ae 20 9f	        ldx  VERA_ADDR_L
.1562	ac 22 9f	        ldy  VERA_ADDR_H
.1565	5a		        phy
.1566	ac 21 9f	        ldy  VERA_ADDR_M
.1569	49 01		        eor  #1
.156b	8d 25 9f	        sta  VERA_CTRL
.156e	8e 20 9f	        stx  VERA_ADDR_L
.1571	8c 21 9f	        sty  VERA_ADDR_M
.1574	7a		        ply
.1575	8c 22 9f	        sty  VERA_ADDR_H
.1578	49 01		        eor  #1
.157a	8d 25 9f	        sta  VERA_CTRL
.157d	60		        rts
.157e			vaddr_autoincr
.157e	20 90 15	            jsr  _setup
.1581	a5 07		            lda  cx16.r2H
.1583	05 06		            ora  cx16.r2L
.1585	f0 03		            beq  +
.1587	20 a6 15	            jsr  _determine_incr_bits
.158a	05 7b		+           ora  P8ZP_SCRATCH_REG
.158c	8d 22 9f	            sta  cx16.VERA_ADDR_H
.158f	60		            rts
.1590	29 01		_setup      and  #1
.1592	85 7b		            sta  P8ZP_SCRATCH_REG
.1594	a5 04		            lda  cx16.r1
.1596	29 01		            and  #1
.1598	8d 25 9f	            sta  cx16.VERA_CTRL
.159b	a5 02		            lda  cx16.r0
.159d	8d 20 9f	            sta  cx16.VERA_ADDR_L
.15a0	a5 03		            lda  cx16.r0+1
.15a2	8d 21 9f	            sta  cx16.VERA_ADDR_M
.15a5	60		            rts
.15a6			_determine_incr_bits
.15a6	a5 07		            lda  cx16.r2H
.15a8	d0 12		            bne  _large
.15aa	a5 06		            lda  cx16.r2L
.15ac	a0 0d		            ldy  #13
.15ae	d9 dd 15	-           cmp  _strides_lsb,y
.15b1	f0 03		            beq  +
.15b3	88		            dey
.15b4	10 f8		            bpl  -
.15b6	98		+           tya
.15b7	0a		            asl  a
.15b8	0a		            asl  a
.15b9	0a		            asl  a
.15ba	0a		            asl  a
.15bb	60		            rts
.15bc	05 06		_large      ora  cx16.r2L
.15be	c9 01		            cmp  #1         ; 256
.15c0	d0 03		            bne  +
.15c2	a9 90		            lda  #9<<4
.15c4	60		            rts
.15c5	c9 02		+           cmp  #2         ; 512
.15c7	d0 03		            bne  +
.15c9	a9 a0		            lda  #10<<4
.15cb	60		            rts
.15cc	c9 41		+           cmp  #65        ; 320
.15ce	d0 03		            bne  +
.15d0	a9 e0		            lda  #14<<4
.15d2	60		            rts
.15d3	c9 82		+           cmp  #130       ; 640
.15d5	d0 03		            bne  +
.15d7	a9 f0		            lda  #15<<4
.15d9	60		            rts
.15da	a9 00		+           lda  #0
.15dc	60		            rts
>15dd	00 01 02 04	_strides_lsb    .byte   0,1,2,4,8,16,32,64,128,255,255,40,80,160,255,255
>15e1	08 10 20 40 80 ff ff 28 50 a0 ff ff
.15ed			sys
=$10				target = $10
.15ed			init_system_phase2
.15ed	78		        sei
.15ee	ad 14 03	        lda  cx16.CINV
.15f1	8d 24 16	        sta  restore_irq._orig_irqvec
.15f4	ad 15 03	        lda  cx16.CINV+1
.15f7	8d 25 16	        sta  restore_irq._orig_irqvec+1
.15fa	a9 01		        lda  #PROG8_VARSHIGH_RAMBANK
.15fc	85 00		        sta  $00    ; select ram bank
.15fe	58		        cli
.15ff	60		        rts
.1600			cleanup_at_exit
.1600	a9 01		        lda  #1
.1602	85 00		        sta  $00        ; ram bank 1
.1604	a9 04		        lda  #4
.1606	85 01		        sta  $01        ; rom bank 4 (basic)
.1608	64 2d		        stz  $2d        ; hack to reset machine code monitor bank to 0
.160a	60		        rts
.160b			restore_irq
.160b	78			    sei
.160c	ad 24 16		    lda  _orig_irqvec
.160f	8d 14 03		    sta  cx16.CINV
.1612	ad 25 16		    lda  _orig_irqvec+1
.1615	8d 15 03		    sta  cx16.CINV+1
.1618	ad 26 9f		    lda  cx16.VERA_IEN
.161b	29 f0			    and  #%11110000     ; disable all Vera IRQs but the vsync
.161d	09 01			    ora  #%00000001
.161f	8d 26 9f		    sta  cx16.VERA_IEN
.1622	58			    cli
.1623	60			    rts
>1624	00 00		_orig_irqvec    .word  0
.1626			memcopy
.1626	c0 00		            cpy  #0
.1628	d0 1c		            bne  _longcopy
.162a	a8		            tay
.162b	d0 01		            bne  _copyshort
.162d	60		            rts     ; nothing to copy
.162e			_copyshort
.162e	a5 02		            lda  cx16.r0
.1630	d0 02		            bne  +
.1632	c6 03		            dec  cx16.r0+1
.1634	c6 02		+           dec  cx16.r0
.1636	a5 04		            lda  cx16.r1
.1638	d0 02		            bne  +
.163a	c6 05		            dec  cx16.r1+1
.163c	c6 04		+           dec  cx16.r1
.163e	b1 02		-           lda  (cx16.r0),y
.1640	91 04		            sta  (cx16.r1),y
.1642	88		            dey
.1643	d0 f9		            bne  -
.1645	60		            rts
.1646			_longcopy
.1646	48		            pha                         ; lsb(count) = remainder in last page
.1647	98		            tya
.1648	aa		            tax                         ; x = num pages (1+)
.1649	a0 00		            ldy  #0
.164b	b1 02		-           lda  (cx16.r0),y
.164d	91 04		            sta  (cx16.r1),y
.164f	c8		            iny
.1650	d0 f9		            bne  -
.1652	e6 03		            inc  cx16.r0+1
.1654	e6 05		            inc  cx16.r1+1
.1656	ca		            dex
.1657	d0 f2		            bne  -
.1659	7a		            ply
.165a	d0 d2		            bne  _copyshort
.165c	60		            rts
.165d			conv
.165d			string_out
>165d	3f 3f 3f 3f		.byte  $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f, $3f
>1661	3f 3f 3f 3f 3f 3f 3f 3f 3f 3f 3f 3f
>166d	00			.byte  $00
.166e			ubyte2decimal
.166e	a0 30				ldy  #uword2decimal.ASCII_0_OFFSET
.1670	4c d5 16			jmp  uword2decimal.hex_try200
.1673			uword2decimal
=$30			ASCII_0_OFFSET 	= $30
=122			temp       	    = P8ZP_SCRATCH_B1	; byte in zeropage
=124			hexHigh      	= P8ZP_SCRATCH_W1	; byte in zeropage
=125			hexLow       	= P8ZP_SCRATCH_W1+1	; byte in zeropage
.1673			HexToDec65535
.1673	84 7c		    sty    hexHigh               ;3  @9
.1675	85 7d		    sta    hexLow                ;3  @12
.1677	98		    tya
.1678	aa		    tax                          ;2  @14
.1679	4a		    lsr    a                     ;2  @16
.167a	4a		    lsr    a                     ;2  @18   integer divide 1024 (result 0-63)
.167b	e0 a7		    cpx    #$A7                  ;2  @20   account for overflow of multiplying 24 from 43,000 ($A7F8) onward,
.167d	69 01		    adc    #1                    ;2  @22   we can just round it to $A700, and the divide by 1024 is fine...
.167f	85 7a		    sta    temp                  ;3  @25
.1681	0a		    asl    a                     ;2  @27
.1682	65 7a		    adc    temp                  ;3  @30  x3
.1684	a8		    tay                          ;2  @32
.1685	4a		    lsr    a                     ;2  @34
.1686	4a		    lsr    a                     ;2  @36
.1687	4a		    lsr    a                     ;2  @38
.1688	4a		    lsr    a                     ;2  @40
.1689	4a		    lsr    a                     ;2  @42
.168a	aa		    tax                          ;2  @44
.168b	98		    tya                          ;2  @46
.168c	0a		    asl    a                     ;2  @48
.168d	0a		    asl    a                     ;2  @50
.168e	0a		    asl    a                     ;2  @52
.168f	18		    clc                          ;2  @54
.1690	65 7d		    adc    hexLow                ;3  @57
.1692	85 7d		    sta    hexLow                ;3  @60
.1694	8a		    txa                          ;2  @62
.1695	65 7c		    adc    hexHigh               ;3  @65
.1697	85 7c		    sta    hexHigh               ;3  @68
.1699	6a		    ror    a                     ;2  @70
.169a	4a		    lsr    a                     ;2  @72
.169b	a8		    tay                          ;2  @74    integer divide 1,000 (result 0-65)
.169c	4a		    lsr    a                     ;2  @76    split the 1,000 and 10,000 digit
.169d	aa		    tax                          ;2  @78
.169e	bd 0b 17	    lda    ShiftedBcdTab,x       ;4  @82
.16a1	aa		    tax                          ;2  @84
.16a2	2a		    rol    a                     ;2  @86
.16a3	29 0f		    and    #$0F                  ;2  @88
.16a5	09 30		    ora    #ASCII_0_OFFSET
.16a7	8d 3e 17	    sta    decThousands          ;3  @91
.16aa	8a		    txa                          ;2  @93
.16ab	4a		    lsr    a                     ;2  @95
.16ac	4a		    lsr    a                     ;2  @97
.16ad	4a		    lsr    a                     ;2  @99
.16ae	09 30		    ora    #ASCII_0_OFFSET
.16b0	8d 3d 17	    sta    decTenThousands       ;3  @102
.16b3	a5 7d		    lda    hexLow                ;3  @105
.16b5	c4 7a		    cpy    temp                  ;3  @108
.16b7	30 04		    bmi    _doSubtract           ;2 @110/111
.16b9	f0 06		    beq    _useZero               ;2 @112/113
.16bb	69 2f		    adc    #23 + 24              ;2  @114
.16bd			_doSubtract
.16bd	e9 17		    sbc    #23                   ;2  @116
.16bf	85 7d		    sta    hexLow                ;3  @119
.16c1			_useZero
.16c1	a5 7c		    lda    hexHigh               ;3  @122
.16c3	e9 00		    sbc    #0                    ;2  @124
.16c5			Start100s
.16c5	29 03		    and    #$03                  ;2  @126
.16c7	aa		    tax                          ;2  @128   0,1,2,3
.16c8	c9 02		    cmp    #2                    ;2  @130
.16ca	2a		    rol    a                     ;2  @132   0,2,5,7
.16cb	09 30		    ora    #ASCII_0_OFFSET
.16cd	a8		    tay                          ;2  @134   Y = Hundreds digit
.16ce	a5 7d		    lda    hexLow                ;3  @137
.16d0	7d 07 17	    adc    Mod100Tab,x           ;4  @141    adding remainder of 256, 512, and 256+512 (all mod 100)
.16d3	b0 04		    bcs    hex_doSub200             ;2 @143/144
.16d5			hex_try200
.16d5	c9 c8		    cmp    #200                  ;2  @145
.16d7	90 04		    bcc    hex_try100               ;2 @147/148
.16d9			hex_doSub200
.16d9	c8		    iny                          ;2  @149
.16da	c8		    iny                          ;2  @151
.16db	e9 c8		    sbc    #200                  ;2  @153
.16dd			hex_try100
.16dd	c9 64		    cmp    #100                  ;2  @155
.16df	90 03		    bcc    HexToDec99            ;2 @157/158
.16e1	c8		    iny                          ;2  @159
.16e2	e9 64		    sbc    #100                  ;2  @161
.16e4			HexToDec99
.16e4	4a		    lsr    a                     ;2  @163
.16e5	aa		    tax                          ;2  @165
.16e6	bd 0b 17	    lda    ShiftedBcdTab,x       ;4  @169
.16e9	aa		    tax                          ;2  @171
.16ea	2a		    rol    a                     ;2  @173
.16eb	29 0f		    and    #$0F                  ;2  @175
.16ed	09 30		    ora    #ASCII_0_OFFSET
.16ef	8d 41 17	    sta    decOnes               ;3  @178
.16f2	8a		    txa                          ;2  @180
.16f3	4a		    lsr    a                     ;2  @182
.16f4	4a		    lsr    a                     ;2  @184
.16f5	4a		    lsr    a                     ;2  @186
.16f6	09 30		    ora    #ASCII_0_OFFSET
.16f8	8c 3f 17	    sty  decHundreds
.16fb	8d 40 17	    sta  decTens
.16fe	ae 41 17	    ldx  decOnes
.1701	60		    rts                          ;6  @192   Y=hundreds, A = tens digit, X=ones digit
.1702			HexToDec999
.1702	84 7d		    sty    hexLow                ;3  @9
.1704	4c c5 16	    jmp    Start100s             ;3  @12
.1707			Mod100Tab
>1707	00 38 0c 44	    .byte 0,56,12,56+12
.170b			ShiftedBcdTab
>170b	00 01 02 03	    .byte $00,$01,$02,$03,$04,$08,$09,$0A,$0B,$0C
>170f	04 08 09 0a 0b 0c
>1715	10 11 12 13	    .byte $10,$11,$12,$13,$14,$18,$19,$1A,$1B,$1C
>1719	14 18 19 1a 1b 1c
>171f	20 21 22 23	    .byte $20,$21,$22,$23,$24,$28,$29,$2A,$2B,$2C
>1723	24 28 29 2a 2b 2c
>1729	30 31 32 33	    .byte $30,$31,$32,$33,$34,$38,$39,$3A,$3B,$3C
>172d	34 38 39 3a 3b 3c
>1733	40 41 42 43	    .byte $40,$41,$42,$43,$44,$48,$49,$4A,$4B,$4C
>1737	44 48 49 4a 4b 4c
>173d	00		decTenThousands   	.byte  0
>173e	00		decThousands    	.byte  0
>173f	00		decHundreds		.byte  0
>1740	00		decTens			.byte  0
>1741	00		decOnes   		.byte  0
>1742	00					.byte  0		; zero-terminate the decimal output string
.1743			ubyte2hex
.1743	48				pha
.1744	29 0f				and  #$0f
.1746	aa				tax
.1747	bc 54 17			ldy  _hex_digits,x
.174a	68				pla
.174b	4a				lsr  a
.174c	4a				lsr  a
.174d	4a				lsr  a
.174e	4a				lsr  a
.174f	aa				tax
.1750	bd 54 17			lda  _hex_digits,x
.1753	60				rts
>1754	30 31 32 33	_hex_digits	.text "0123456789abcdef"	; can probably be reused for other stuff as well
>1758	34 35 36 37 38 39 41 42 43 44 45 46
.1764			string
.1764			length
.1764	85 7c				sta  P8ZP_SCRATCH_W1
.1766	84 7d				sty  P8ZP_SCRATCH_W1+1
.1768	a0 00				ldy  #0
.176a	b1 7c		-		lda  (P8ZP_SCRATCH_W1),y
.176c	f0 03				beq  +
.176e	c8				iny
.176f	d0 f9				bne  -
.1771	60		+		rts
.1772			compare
.1772	85 7e				sta  P8ZP_SCRATCH_W2
.1774	84 7f				sty  P8ZP_SCRATCH_W2+1
.1776	a5 02				lda  cx16.r0
.1778	a4 03				ldy  cx16.r0+1
.177a	4c f4 43			jmp  prog8_lib.strcmp_mem
.177d			p8_task
=$16				p8_TASK_CANVAS = $16
=$14				p8_TASK_DONE = $14
=$11				p8_TASK_FILENAME = $11
=13				p8_TASK_H = 13
=$18				p8_TASK_SIZEOF = $18
=6				p8_TASK_STATE = 6
=0				p8_TASK_TASKIMAGE = 0
=3				p8_TASK_TITLE = 3
=15				p8_TASK_W = 15
=9				p8_TASK_X = 9
=11				p8_TASK_Y = 11
.177d			p8_taskimage_get
=66			p8_result 	= 66 	; zp UWORD
=68			p8_ptr 	= 68 	; zp UWORD
.177d	a5 44			lda  p8_ptr
.177f	85 02			sta  cx16.r0
.1781	a5 45			lda  p8_ptr+1
.1783	85 03			sta  cx16.r0+1
.1785	64 06			stz  cx16.r2
.1787	64 07			stz  cx16.r2+1
.1789	a5 42			lda  p8_result
.178b	85 04			sta  cx16.r1
.178d	a5 43			lda  p8_result+1
.178f	85 05			sta  cx16.r1+1
.1791	a2 03			ldx  #3
.1793	4c 6c 2a		jmp  p8_fstruct.p8_get
.1796			p8_taskimage_set
=62			p8_value 	= 62 	; zp UWORD
=64			p8_ptr 	= 64 	; zp UWORD
.1796	a5 40			lda  p8_ptr
.1798	85 02			sta  cx16.r0
.179a	a5 41			lda  p8_ptr+1
.179c	85 03			sta  cx16.r0+1
.179e	64 06			stz  cx16.r2
.17a0	64 07			stz  cx16.r2+1
.17a2	a5 3e			lda  p8_value
.17a4	85 04			sta  cx16.r1
.17a6	a5 3f			lda  p8_value+1
.17a8	85 05			sta  cx16.r1+1
.17aa	a2 03			ldx  #3
.17ac	4c 3a 2a		jmp  p8_fstruct.p8_set
.17af			p8_title_set
=58			p8_value 	= 58 	; zp UWORD
=60			p8_ptr 	= 60 	; zp UWORD
.17af	a5 3c			lda  p8_ptr
.17b1	85 02			sta  cx16.r0
.17b3	a5 3d			lda  p8_ptr+1
.17b5	85 03			sta  cx16.r0+1
.17b7	a9 03			lda  #3
.17b9	85 06			sta  cx16.r2
.17bb	64 07			stz  cx16.r2+1
.17bd	a5 3a			lda  p8_value
.17bf	85 04			sta  cx16.r1
.17c1	a5 3b			lda  p8_value+1
.17c3	85 05			sta  cx16.r1+1
.17c5	a2 03			ldx  #3
.17c7	4c 3a 2a		jmp  p8_fstruct.p8_set
.17ca			p8_x_get
=46			p8_result 	= 46 	; zp UWORD
=48			p8_ptr 	= 48 	; zp UWORD
.17ca	a5 30			lda  p8_ptr
.17cc	85 02			sta  cx16.r0
.17ce	a5 31			lda  p8_ptr+1
.17d0	85 03			sta  cx16.r0+1
.17d2	a5 2e			lda  p8_result
.17d4	85 04			sta  cx16.r1
.17d6	a5 2f			lda  p8_result+1
.17d8	85 05			sta  cx16.r1+1
.17da	a0 09			ldy  #9
.17dc	4c 14 2b		jmp  p8_fstruct.p8_get_w
.17df			p8_x_set
=42			p8_value 	= 42 	; zp UWORD
=44			p8_ptr 	= 44 	; zp UWORD
.17df	a5 2c			lda  p8_ptr
.17e1	85 02			sta  cx16.r0
.17e3	a5 2d			lda  p8_ptr+1
.17e5	85 03			sta  cx16.r0+1
.17e7	a5 2a			lda  p8_value
.17e9	85 04			sta  cx16.r1
.17eb	a5 2b			lda  p8_value+1
.17ed	85 05			sta  cx16.r1+1
.17ef	a0 09			ldy  #9
.17f1	4c 9e 2a		jmp  p8_fstruct.p8_set_w
.17f4			p8_y_get
=38			p8_result 	= 38 	; zp UWORD
=40			p8_ptr 	= 40 	; zp UWORD
.17f4	a5 28			lda  p8_ptr
.17f6	85 02			sta  cx16.r0
.17f8	a5 29			lda  p8_ptr+1
.17fa	85 03			sta  cx16.r0+1
.17fc	a5 26			lda  p8_result
.17fe	85 04			sta  cx16.r1
.1800	a5 27			lda  p8_result+1
.1802	85 05			sta  cx16.r1+1
.1804	a0 0b			ldy  #11
.1806	4c 14 2b		jmp  p8_fstruct.p8_get_w
.1809			p8_y_set
=34			p8_value 	= 34 	; zp UWORD
=36			p8_ptr 	= 36 	; zp UWORD
.1809	a5 24			lda  p8_ptr
.180b	85 02			sta  cx16.r0
.180d	a5 25			lda  p8_ptr+1
.180f	85 03			sta  cx16.r0+1
.1811	a5 22			lda  p8_value
.1813	85 04			sta  cx16.r1
.1815	a5 23			lda  p8_value+1
.1817	85 05			sta  cx16.r1+1
.1819	a0 0b			ldy  #11
.181b	4c 9e 2a		jmp  p8_fstruct.p8_set_w
.181e			p8_h_get
=74			p8_result 	= 74 	; zp UWORD
=76			p8_ptr 	= 76 	; zp UWORD
.181e	a5 4c			lda  p8_ptr
.1820	85 02			sta  cx16.r0
.1822	a5 4d			lda  p8_ptr+1
.1824	85 03			sta  cx16.r0+1
.1826	a5 4a			lda  p8_result
.1828	85 04			sta  cx16.r1
.182a	a5 4b			lda  p8_result+1
.182c	85 05			sta  cx16.r1+1
.182e	a0 0d			ldy  #13
.1830	4c 14 2b		jmp  p8_fstruct.p8_get_w
.1833			p8_h_set
=70			p8_value 	= 70 	; zp UWORD
=72			p8_ptr 	= 72 	; zp UWORD
.1833	a5 48			lda  p8_ptr
.1835	85 02			sta  cx16.r0
.1837	a5 49			lda  p8_ptr+1
.1839	85 03			sta  cx16.r0+1
.183b	a5 46			lda  p8_value
.183d	85 04			sta  cx16.r1
.183f	a5 47			lda  p8_value+1
.1841	85 05			sta  cx16.r1+1
.1843	a0 0d			ldy  #13
.1845	4c 9e 2a		jmp  p8_fstruct.p8_set_w
.1848			p8_w_get
=54			p8_result 	= 54 	; zp UWORD
=56			p8_ptr 	= 56 	; zp UWORD
.1848	a5 38			lda  p8_ptr
.184a	85 02			sta  cx16.r0
.184c	a5 39			lda  p8_ptr+1
.184e	85 03			sta  cx16.r0+1
.1850	a5 36			lda  p8_result
.1852	85 04			sta  cx16.r1
.1854	a5 37			lda  p8_result+1
.1856	85 05			sta  cx16.r1+1
.1858	a0 0f			ldy  #15
.185a	4c 14 2b		jmp  p8_fstruct.p8_get_w
.185d			p8_w_set
=50			p8_value 	= 50 	; zp UWORD
=52			p8_ptr 	= 52 	; zp UWORD
.185d	a5 34			lda  p8_ptr
.185f	85 02			sta  cx16.r0
.1861	a5 35			lda  p8_ptr+1
.1863	85 03			sta  cx16.r0+1
.1865	a5 32			lda  p8_value
.1867	85 04			sta  cx16.r1
.1869	a5 33			lda  p8_value+1
.186b	85 05			sta  cx16.r1+1
.186d	a0 0f			ldy  #15
.186f	4c 9e 2a		jmp  p8_fstruct.p8_set_w
.1872			p8_filename_get
=82			p8_result 	= 82 	; zp UWORD
=84			p8_ptr 	= 84 	; zp UWORD
.1872	a5 54			lda  p8_ptr
.1874	85 02			sta  cx16.r0
.1876	a5 55			lda  p8_ptr+1
.1878	85 03			sta  cx16.r0+1
.187a	a9 11			lda  #$11
.187c	85 06			sta  cx16.r2
.187e	64 07			stz  cx16.r2+1
.1880	a5 52			lda  p8_result
.1882	85 04			sta  cx16.r1
.1884	a5 53			lda  p8_result+1
.1886	85 05			sta  cx16.r1+1
.1888	a2 03			ldx  #3
.188a	4c 6c 2a		jmp  p8_fstruct.p8_get
.188d			p8_filename_set
=78			p8_value 	= 78 	; zp UWORD
=80			p8_ptr 	= 80 	; zp UWORD
.188d	a5 50			lda  p8_ptr
.188f	85 02			sta  cx16.r0
.1891	a5 51			lda  p8_ptr+1
.1893	85 03			sta  cx16.r0+1
.1895	a9 11			lda  #$11
.1897	85 06			sta  cx16.r2
.1899	64 07			stz  cx16.r2+1
.189b	a5 4e			lda  p8_value
.189d	85 04			sta  cx16.r1
.189f	a5 4f			lda  p8_value+1
.18a1	85 05			sta  cx16.r1+1
.18a3	a2 03			ldx  #3
.18a5	4c 3a 2a		jmp  p8_fstruct.p8_set
.18a8			p8_done_get
=90			p8_result 	= 90 	; zp UWORD
=92			p8_ptr 	= 92 	; zp UWORD
.18a8	a5 5c			lda  p8_ptr
.18aa	85 02			sta  cx16.r0
.18ac	a5 5d			lda  p8_ptr+1
.18ae	85 03			sta  cx16.r0+1
.18b0	a5 5a			lda  p8_result
.18b2	85 04			sta  cx16.r1
.18b4	a5 5b			lda  p8_result+1
.18b6	85 05			sta  cx16.r1+1
.18b8	a0 14			ldy  #$14
.18ba	4c 14 2b		jmp  p8_fstruct.p8_get_w
.18bd			p8_done_set_wi
=86			p8_value 	= 86 	; zp UWORD
=88			p8_ptr 	= 88 	; zp UWORD
.18bd	a5 58			lda  p8_ptr
.18bf	85 02			sta  cx16.r0
.18c1	a5 59			lda  p8_ptr+1
.18c3	85 03			sta  cx16.r0+1
.18c5	a5 56			lda  p8_value
.18c7	85 04			sta  cx16.r1
.18c9	a5 57			lda  p8_value+1
.18cb	85 05			sta  cx16.r1+1
.18cd	a0 14			ldy  #$14
.18cf	4c dc 2a		jmp  p8_fstruct.p8_set_wi
.18d2			p8_canvas_set
=94			p8_value 	= 94 	; zp UWORD
=96			p8_ptr 	= 96 	; zp UWORD
.18d2	a5 60			lda  p8_ptr
.18d4	85 02			sta  cx16.r0
.18d6	a5 61			lda  p8_ptr+1
.18d8	85 03			sta  cx16.r0+1
.18da	a9 16			lda  #$16
.18dc	85 06			sta  cx16.r2
.18de	64 07			stz  cx16.r2+1
.18e0	a5 5e			lda  p8_value
.18e2	85 04			sta  cx16.r1
.18e4	a5 5f			lda  p8_value+1
.18e6	85 05			sta  cx16.r1+1
.18e8	a2 03			ldx  #3
.18ea	4c 3a 2a		jmp  p8_fstruct.p8_set
.18ed			p8_fmalloc_root
=3				p8_FMALLOC_assigned = 3
=0				p8_FMALLOC_available = 0
=6				p8_FMALLOC_freemem = 6
=8				p8_FMALLOC_totalmem = 8
=10				p8_FMALLOC_totalnodes = 10
=12				p8_SIZEOF_FMALLOC = 12
.18ed			p8_available_get
.18ed	ad c7 44		lda  p8_ptr
.18f0	85 02			sta  cx16.r0
.18f2	ad c8 44		lda  p8_ptr+1
.18f5	85 03			sta  cx16.r0+1
.18f7	64 06			stz  cx16.r2
.18f9	64 07			stz  cx16.r2+1
.18fb	ad c9 44		lda  p8_result
.18fe	85 04			sta  cx16.r1
.1900	ad ca 44		lda  p8_result+1
.1903	85 05			sta  cx16.r1+1
.1905	a2 03			ldx  #3
.1907	4c c3 29		jmp  p8_struct.p8_get
>44c7			p8_ptr	.word  ?
>44c9			p8_result	.word  ?
.190a			p8_available_set
.190a	ad cb 44		lda  p8_ptr
.190d	85 02			sta  cx16.r0
.190f	ad cc 44		lda  p8_ptr+1
.1912	85 03			sta  cx16.r0+1
.1914	64 06			stz  cx16.r2
.1916	64 07			stz  cx16.r2+1
.1918	ad cd 44		lda  p8_value
.191b	85 04			sta  cx16.r1
.191d	ad ce 44		lda  p8_value+1
.1920	85 05			sta  cx16.r1+1
.1922	a2 03			ldx  #3
.1924	4c b3 29		jmp  p8_struct.p8_set
>44cb			p8_ptr	.word  ?
>44cd			p8_value	.word  ?
.1927			p8_assigned_set
.1927	ad cf 44		lda  p8_ptr
.192a	85 02			sta  cx16.r0
.192c	ad d0 44		lda  p8_ptr+1
.192f	85 03			sta  cx16.r0+1
.1931	a9 03			lda  #3
.1933	85 06			sta  cx16.r2
.1935	64 07			stz  cx16.r2+1
.1937	ad d1 44		lda  p8_value
.193a	85 04			sta  cx16.r1
.193c	ad d2 44		lda  p8_value+1
.193f	85 05			sta  cx16.r1+1
.1941	a2 03			ldx  #3
.1943	4c b3 29		jmp  p8_struct.p8_set
>44cf			p8_ptr	.word  ?
>44d1			p8_value	.word  ?
.1946			p8_freemem_get
.1946	ad d3 44		lda  p8_ptr
.1949	85 02			sta  cx16.r0
.194b	ad d4 44		lda  p8_ptr+1
.194e	85 03			sta  cx16.r0+1
.1950	ad d5 44		lda  p8_result
.1953	85 04			sta  cx16.r1
.1955	ad d6 44		lda  p8_result+1
.1958	85 05			sta  cx16.r1+1
.195a	a0 06			ldy  #6
.195c	4c ef 29		jmp  p8_struct.p8_get_w
>44d3			p8_ptr	.word  ?
>44d5			p8_result	.word  ?
.195f			p8_freemem_set
.195f	ad d7 44		lda  p8_ptr
.1962	85 02			sta  cx16.r0
.1964	ad d8 44		lda  p8_ptr+1
.1967	85 03			sta  cx16.r0+1
.1969	ad d9 44		lda  p8_value
.196c	85 04			sta  cx16.r1
.196e	ad da 44		lda  p8_value+1
.1971	85 05			sta  cx16.r1+1
.1973	a0 06			ldy  #6
.1975	4c d3 29		jmp  p8_struct.p8_set_w
>44d7			p8_ptr	.word  ?
>44d9			p8_value	.word  ?
.1978			p8_freemem_set_wi
.1978	ad db 44		lda  p8_ptr
.197b	85 02			sta  cx16.r0
.197d	ad dc 44		lda  p8_ptr+1
.1980	85 03			sta  cx16.r0+1
.1982	ad dd 44		lda  p8_value
.1985	85 04			sta  cx16.r1
.1987	ad de 44		lda  p8_value+1
.198a	85 05			sta  cx16.r1+1
.198c	a0 06			ldy  #6
.198e	4c e5 29		jmp  p8_struct.p8_set_wi
>44db			p8_ptr	.word  ?
>44dd			p8_value	.word  ?
.1991			p8_totalmem_get
.1991	ad df 44		lda  p8_ptr
.1994	85 02			sta  cx16.r0
.1996	ad e0 44		lda  p8_ptr+1
.1999	85 03			sta  cx16.r0+1
.199b	ad e1 44		lda  p8_result
.199e	85 04			sta  cx16.r1
.19a0	ad e2 44		lda  p8_result+1
.19a3	85 05			sta  cx16.r1+1
.19a5	a0 08			ldy  #8
.19a7	4c ef 29		jmp  p8_struct.p8_get_w
>44df			p8_ptr	.word  ?
>44e1			p8_result	.word  ?
.19aa			p8_totalmem_set
.19aa	ad e3 44		lda  p8_ptr
.19ad	85 02			sta  cx16.r0
.19af	ad e4 44		lda  p8_ptr+1
.19b2	85 03			sta  cx16.r0+1
.19b4	ad e5 44		lda  p8_value
.19b7	85 04			sta  cx16.r1
.19b9	ad e6 44		lda  p8_value+1
.19bc	85 05			sta  cx16.r1+1
.19be	a0 08			ldy  #8
.19c0	4c d3 29		jmp  p8_struct.p8_set_w
>44e3			p8_ptr	.word  ?
>44e5			p8_value	.word  ?
.19c3			p8_totalmem_set_wi
.19c3	ad e7 44		lda  p8_ptr
.19c6	85 02			sta  cx16.r0
.19c8	ad e8 44		lda  p8_ptr+1
.19cb	85 03			sta  cx16.r0+1
.19cd	ad e9 44		lda  p8_value
.19d0	85 04			sta  cx16.r1
.19d2	ad ea 44		lda  p8_value+1
.19d5	85 05			sta  cx16.r1+1
.19d7	a0 08			ldy  #8
.19d9	4c e5 29		jmp  p8_struct.p8_set_wi
>44e7			p8_ptr	.word  ?
>44e9			p8_value	.word  ?
.19dc			p8_totalnodes_get
.19dc	ad eb 44		lda  p8_ptr
.19df	85 02			sta  cx16.r0
.19e1	ad ec 44		lda  p8_ptr+1
.19e4	85 03			sta  cx16.r0+1
.19e6	ad ed 44		lda  p8_result
.19e9	85 04			sta  cx16.r1
.19eb	ad ee 44		lda  p8_result+1
.19ee	85 05			sta  cx16.r1+1
.19f0	a0 0a			ldy  #10
.19f2	4c ef 29		jmp  p8_struct.p8_get_w
>44eb			p8_ptr	.word  ?
>44ed			p8_result	.word  ?
.19f5			p8_totalnodes_set
.19f5	ad ef 44		lda  p8_ptr
.19f8	85 02			sta  cx16.r0
.19fa	ad f0 44		lda  p8_ptr+1
.19fd	85 03			sta  cx16.r0+1
.19ff	ad f1 44		lda  p8_value
.1a02	85 04			sta  cx16.r1
.1a04	ad f2 44		lda  p8_value+1
.1a07	85 05			sta  cx16.r1+1
.1a09	a0 0a			ldy  #10
.1a0b	4c d3 29		jmp  p8_struct.p8_set_w
>44ef			p8_ptr	.word  ?
>44f1			p8_value	.word  ?
.1a0e			p8_totalnodes_set_wi
.1a0e	ad f3 44		lda  p8_ptr
.1a11	85 02			sta  cx16.r0
.1a13	ad f4 44		lda  p8_ptr+1
.1a16	85 03			sta  cx16.r0+1
.1a18	ad f5 44		lda  p8_value
.1a1b	85 04			sta  cx16.r1
.1a1d	ad f6 44		lda  p8_value+1
.1a20	85 05			sta  cx16.r1+1
.1a22	a0 0a			ldy  #10
.1a24	4c e5 29		jmp  p8_struct.p8_set_wi
>44f3			p8_ptr	.word  ?
>44f5			p8_value	.word  ?
.1a27			p8_fmalloc_item
=3				p8_FMALLOC_ITEM_next = 3
=0				p8_FMALLOC_ITEM_prev = 0
=6				p8_FMALLOC_ITEM_size = 6
=8				p8_SIZEOF_FMALLOC_ITEM = 8
.1a27			p8_next_get
.1a27	ad f7 44		lda  p8_ptr
.1a2a	85 02			sta  cx16.r0
.1a2c	ad f8 44		lda  p8_ptr+1
.1a2f	85 03			sta  cx16.r0+1
.1a31	a9 03			lda  #3
.1a33	85 06			sta  cx16.r2
.1a35	64 07			stz  cx16.r2+1
.1a37	ad f9 44		lda  p8_result
.1a3a	85 04			sta  cx16.r1
.1a3c	ad fa 44		lda  p8_result+1
.1a3f	85 05			sta  cx16.r1+1
.1a41	a2 03			ldx  #3
.1a43	4c 6c 2a		jmp  p8_fstruct.p8_get
>44f7			p8_ptr	.word  ?
>44f9			p8_result	.word  ?
.1a46			p8_next_set
.1a46	ad fb 44		lda  p8_ptr
.1a49	85 02			sta  cx16.r0
.1a4b	ad fc 44		lda  p8_ptr+1
.1a4e	85 03			sta  cx16.r0+1
.1a50	a9 03			lda  #3
.1a52	85 06			sta  cx16.r2
.1a54	64 07			stz  cx16.r2+1
.1a56	ad fd 44		lda  p8_value
.1a59	85 04			sta  cx16.r1
.1a5b	ad fe 44		lda  p8_value+1
.1a5e	85 05			sta  cx16.r1+1
.1a60	a2 03			ldx  #3
.1a62	4c 3a 2a		jmp  p8_fstruct.p8_set
>44fb			p8_ptr	.word  ?
>44fd			p8_value	.word  ?
.1a65			p8_prev_get
.1a65	ad ff 44		lda  p8_ptr
.1a68	85 02			sta  cx16.r0
.1a6a	ad 00 45		lda  p8_ptr+1
.1a6d	85 03			sta  cx16.r0+1
.1a6f	64 06			stz  cx16.r2
.1a71	64 07			stz  cx16.r2+1
.1a73	ad 01 45		lda  p8_result
.1a76	85 04			sta  cx16.r1
.1a78	ad 02 45		lda  p8_result+1
.1a7b	85 05			sta  cx16.r1+1
.1a7d	a2 03			ldx  #3
.1a7f	4c 6c 2a		jmp  p8_fstruct.p8_get
>44ff			p8_ptr	.word  ?
>4501			p8_result	.word  ?
.1a82			p8_prev_set
.1a82	ad 03 45		lda  p8_ptr
.1a85	85 02			sta  cx16.r0
.1a87	ad 04 45		lda  p8_ptr+1
.1a8a	85 03			sta  cx16.r0+1
.1a8c	64 06			stz  cx16.r2
.1a8e	64 07			stz  cx16.r2+1
.1a90	ad 05 45		lda  p8_value
.1a93	85 04			sta  cx16.r1
.1a95	ad 06 45		lda  p8_value+1
.1a98	85 05			sta  cx16.r1+1
.1a9a	a2 03			ldx  #3
.1a9c	4c 3a 2a		jmp  p8_fstruct.p8_set
>4503			p8_ptr	.word  ?
>4505			p8_value	.word  ?
.1a9f			p8_size_get
.1a9f	ad 07 45		lda  p8_ptr
.1aa2	85 02			sta  cx16.r0
.1aa4	ad 08 45		lda  p8_ptr+1
.1aa7	85 03			sta  cx16.r0+1
.1aa9	ad 09 45		lda  p8_result
.1aac	85 04			sta  cx16.r1
.1aae	ad 0a 45		lda  p8_result+1
.1ab1	85 05			sta  cx16.r1+1
.1ab3	a0 06			ldy  #6
.1ab5	4c 14 2b		jmp  p8_fstruct.p8_get_w
>4507			p8_ptr	.word  ?
>4509			p8_result	.word  ?
.1ab8			p8_size_set
.1ab8	ad 0b 45		lda  p8_ptr
.1abb	85 02			sta  cx16.r0
.1abd	ad 0c 45		lda  p8_ptr+1
.1ac0	85 03			sta  cx16.r0+1
.1ac2	ad 0d 45		lda  p8_value
.1ac5	85 04			sta  cx16.r1
.1ac7	ad 0e 45		lda  p8_value+1
.1aca	85 05			sta  cx16.r1+1
.1acc	a0 06			ldy  #6
.1ace	4c 9e 2a		jmp  p8_fstruct.p8_set_w
>450b			p8_ptr	.word  ?
>450d			p8_value	.word  ?
.1ad1			p8_fmalloc
.1ad1			p8_init
.1ad1	8d 0f 45		sta  p8_pm
.1ad4	8c 10 45		sty  p8_pm+1
.1ad7	8d cb 44		sta  p8_fmalloc_root.p8_available_set.p8_ptr
.1ada	8c cc 44		sty  p8_fmalloc_root.p8_available_set.p8_ptr+1
.1add	a9 52			lda  #<p8_fptr.p8_NULL+0
.1adf	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.1ae1	8d cd 44		sta  p8_fmalloc_root.p8_available_set.p8_value
.1ae4	8c ce 44		sty  p8_fmalloc_root.p8_available_set.p8_value+1
.1ae7	20 0a 19		jsr  p8_fmalloc_root.p8_available_set
.1aea	ad 0f 45		lda  p8_pm
.1aed	ac 10 45		ldy  p8_pm+1
.1af0	8d cf 44		sta  p8_fmalloc_root.p8_assigned_set.p8_ptr
.1af3	8c d0 44		sty  p8_fmalloc_root.p8_assigned_set.p8_ptr+1
.1af6	a9 52			lda  #<p8_fptr.p8_NULL+0
.1af8	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.1afa	8d d1 44		sta  p8_fmalloc_root.p8_assigned_set.p8_value
.1afd	8c d2 44		sty  p8_fmalloc_root.p8_assigned_set.p8_value+1
.1b00	20 27 19		jsr  p8_fmalloc_root.p8_assigned_set
.1b03	ad 0f 45		lda  p8_pm
.1b06	ac 10 45		ldy  p8_pm+1
.1b09	8d db 44		sta  p8_fmalloc_root.p8_freemem_set_wi.p8_ptr
.1b0c	8c dc 44		sty  p8_fmalloc_root.p8_freemem_set_wi.p8_ptr+1
.1b0f	9c dd 44		stz  p8_fmalloc_root.p8_freemem_set_wi.p8_value
.1b12	9c de 44		stz  p8_fmalloc_root.p8_freemem_set_wi.p8_value+1
.1b15	20 78 19		jsr  p8_fmalloc_root.p8_freemem_set_wi
.1b18	ad 0f 45		lda  p8_pm
.1b1b	ac 10 45		ldy  p8_pm+1
.1b1e	8d e7 44		sta  p8_fmalloc_root.p8_totalmem_set_wi.p8_ptr
.1b21	8c e8 44		sty  p8_fmalloc_root.p8_totalmem_set_wi.p8_ptr+1
.1b24	9c e9 44		stz  p8_fmalloc_root.p8_totalmem_set_wi.p8_value
.1b27	9c ea 44		stz  p8_fmalloc_root.p8_totalmem_set_wi.p8_value+1
.1b2a	20 c3 19		jsr  p8_fmalloc_root.p8_totalmem_set_wi
.1b2d	ad 0f 45		lda  p8_pm
.1b30	ac 10 45		ldy  p8_pm+1
.1b33	8d f3 44		sta  p8_fmalloc_root.p8_totalnodes_set_wi.p8_ptr
.1b36	8c f4 44		sty  p8_fmalloc_root.p8_totalnodes_set_wi.p8_ptr+1
.1b39	9c f5 44		stz  p8_fmalloc_root.p8_totalnodes_set_wi.p8_value
.1b3c	9c f6 44		stz  p8_fmalloc_root.p8_totalnodes_set_wi.p8_value+1
.1b3f	4c 0e 1a		jmp  p8_fmalloc_root.p8_totalnodes_set_wi
>450f			p8_pm	.word  ?
.1b42			p8_addblock
.1b42	ac 18 45		ldy  p8_size+1
.1b45	ad 17 45		lda  p8_size
.1b48	38			sec
.1b49	e9 08			sbc  #<8
.1b4b	aa			tax
.1b4c	98			tya
.1b4d	e9 00			sbc  #>8
.1b4f	a8			tay
.1b50	8a			txa
.1b51	8d 1d 45		sta  p8_usableSize
.1b54	8c 1e 45		sty  p8_usableSize+1
.1b57	ad 15 45		lda  p8_ptr
.1b5a	ac 16 45		ldy  p8_ptr+1
.1b5d	8d 0b 45		sta  p8_fmalloc_item.p8_size_set.p8_ptr
.1b60	8c 0c 45		sty  p8_fmalloc_item.p8_size_set.p8_ptr+1
.1b63	a9 1d			lda  #<p8_usableSize+0
.1b65	a0 45			ldy  #>p8_usableSize+0
.1b67	8d 0d 45		sta  p8_fmalloc_item.p8_size_set.p8_value
.1b6a	8c 0e 45		sty  p8_fmalloc_item.p8_size_set.p8_value+1
.1b6d	20 b8 1a		jsr  p8_fmalloc_item.p8_size_set
.1b70	9c 11 45		stz  p8_freemem
.1b73	9c 12 45		stz  p8_freemem+1
.1b76	ad 13 45		lda  p8_pm
.1b79	ac 14 45		ldy  p8_pm+1
.1b7c	8d d3 44		sta  p8_fmalloc_root.p8_freemem_get.p8_ptr
.1b7f	8c d4 44		sty  p8_fmalloc_root.p8_freemem_get.p8_ptr+1
.1b82	a9 11			lda  #<p8_freemem+0
.1b84	a0 45			ldy  #>p8_freemem+0
.1b86	8d d5 44		sta  p8_fmalloc_root.p8_freemem_get.p8_result
.1b89	8c d6 44		sty  p8_fmalloc_root.p8_freemem_get.p8_result+1
.1b8c	20 46 19		jsr  p8_fmalloc_root.p8_freemem_get
.1b8f	ad 11 45		lda  p8_freemem
.1b92	18			clc
.1b93	6d 1d 45		adc  p8_usableSize
.1b96	8d 11 45		sta  p8_freemem
.1b99	ad 12 45		lda  p8_freemem+1
.1b9c	6d 1e 45		adc  p8_usableSize+1
.1b9f	8d 12 45		sta  p8_freemem+1
.1ba2	ad 13 45		lda  p8_pm
.1ba5	ac 14 45		ldy  p8_pm+1
.1ba8	8d d7 44		sta  p8_fmalloc_root.p8_freemem_set.p8_ptr
.1bab	8c d8 44		sty  p8_fmalloc_root.p8_freemem_set.p8_ptr+1
.1bae	a9 11			lda  #<p8_freemem+0
.1bb0	a0 45			ldy  #>p8_freemem+0
.1bb2	8d d9 44		sta  p8_fmalloc_root.p8_freemem_set.p8_value
.1bb5	8c da 44		sty  p8_fmalloc_root.p8_freemem_set.p8_value+1
.1bb8	20 5f 19		jsr  p8_fmalloc_root.p8_freemem_set
.1bbb	9c 19 45		stz  p8_totalmem
.1bbe	9c 1a 45		stz  p8_totalmem+1
.1bc1	ad 13 45		lda  p8_pm
.1bc4	ac 14 45		ldy  p8_pm+1
.1bc7	8d df 44		sta  p8_fmalloc_root.p8_totalmem_get.p8_ptr
.1bca	8c e0 44		sty  p8_fmalloc_root.p8_totalmem_get.p8_ptr+1
.1bcd	a9 19			lda  #<p8_totalmem+0
.1bcf	a0 45			ldy  #>p8_totalmem+0
.1bd1	8d e1 44		sta  p8_fmalloc_root.p8_totalmem_get.p8_result
.1bd4	8c e2 44		sty  p8_fmalloc_root.p8_totalmem_get.p8_result+1
.1bd7	20 91 19		jsr  p8_fmalloc_root.p8_totalmem_get
.1bda	ad 19 45		lda  p8_totalmem
.1bdd	18			clc
.1bde	6d 1d 45		adc  p8_usableSize
.1be1	8d 19 45		sta  p8_totalmem
.1be4	ad 1a 45		lda  p8_totalmem+1
.1be7	6d 1e 45		adc  p8_usableSize+1
.1bea	8d 1a 45		sta  p8_totalmem+1
.1bed	ad 13 45		lda  p8_pm
.1bf0	ac 14 45		ldy  p8_pm+1
.1bf3	8d e3 44		sta  p8_fmalloc_root.p8_totalmem_set.p8_ptr
.1bf6	8c e4 44		sty  p8_fmalloc_root.p8_totalmem_set.p8_ptr+1
.1bf9	a9 19			lda  #<p8_totalmem+0
.1bfb	a0 45			ldy  #>p8_totalmem+0
.1bfd	8d e5 44		sta  p8_fmalloc_root.p8_totalmem_set.p8_value
.1c00	8c e6 44		sty  p8_fmalloc_root.p8_totalmem_set.p8_value+1
.1c03	20 aa 19		jsr  p8_fmalloc_root.p8_totalmem_set
.1c06	ad 13 45		lda  p8_pm
.1c09	ac 14 45		ldy  p8_pm+1
.1c0c	8d 6e 45		sta  p8_fmalloc.p8_insert_item.p8_root
.1c0f	8c 6f 45		sty  p8_fmalloc.p8_insert_item.p8_root+1
.1c12	ad 15 45		lda  p8_ptr
.1c15	ac 16 45		ldy  p8_ptr+1
.1c18	8d 66 45		sta  p8_fmalloc.p8_insert_item.p8_node
.1c1b	8c 67 45		sty  p8_fmalloc.p8_insert_item.p8_node+1
.1c1e	20 b9 24		jsr  p8_fmalloc.p8_insert_item
.1c21	9c 1b 45		stz  p8_totalnodes
.1c24	9c 1c 45		stz  p8_totalnodes+1
.1c27	ad 13 45		lda  p8_pm
.1c2a	ac 14 45		ldy  p8_pm+1
.1c2d	8d eb 44		sta  p8_fmalloc_root.p8_totalnodes_get.p8_ptr
.1c30	8c ec 44		sty  p8_fmalloc_root.p8_totalnodes_get.p8_ptr+1
.1c33	a9 1b			lda  #<p8_totalnodes+0
.1c35	a0 45			ldy  #>p8_totalnodes+0
.1c37	8d ed 44		sta  p8_fmalloc_root.p8_totalnodes_get.p8_result
.1c3a	8c ee 44		sty  p8_fmalloc_root.p8_totalnodes_get.p8_result+1
.1c3d	20 dc 19		jsr  p8_fmalloc_root.p8_totalnodes_get
.1c40	ee 1b 45		inc  p8_totalnodes
.1c43	d0 03			bne  +
.1c45	ee 1c 45		inc  p8_totalnodes+1
.1c48			+
.1c48	ad 13 45		lda  p8_pm
.1c4b	ac 14 45		ldy  p8_pm+1
.1c4e	8d ef 44		sta  p8_fmalloc_root.p8_totalnodes_set.p8_ptr
.1c51	8c f0 44		sty  p8_fmalloc_root.p8_totalnodes_set.p8_ptr+1
.1c54	a9 1b			lda  #<p8_totalnodes+0
.1c56	a0 45			ldy  #>p8_totalnodes+0
.1c58	8d f1 44		sta  p8_fmalloc_root.p8_totalnodes_set.p8_value
.1c5b	8c f2 44		sty  p8_fmalloc_root.p8_totalnodes_set.p8_value+1
.1c5e	4c f5 19		jmp  p8_fmalloc_root.p8_totalnodes_set
>4511			p8_freemem	.word  ?
>4513			p8_pm	.word  ?
>4515			p8_ptr	.word  ?
>4517			p8_size	.word  ?
>4519			p8_totalmem	.word  ?
>451b			p8_totalnodes	.word  ?
>451d			p8_usableSize	.word  ?
.1c61			p8_malloc
.1c61	9c 36 45		stz  p8_totalnodes
.1c64	9c 37 45		stz  p8_totalnodes+1
.1c67	9c 25 45		stz  p8_current_size
.1c6a	9c 26 45		stz  p8_current_size+1
.1c6d	9c 27 45		stz  p8_freemem
.1c70	9c 28 45		stz  p8_freemem+1
.1c73	9c 34 45		stz  p8_temp_result
.1c76	9c 35 45		stz  p8_temp_result+1
.1c79	ad 32 45		lda  p8_size
.1c7c	18			clc
.1c7d	69 08			adc  #8
.1c7f	8d 32 45		sta  p8_size
.1c82	90 03			bcc  +
.1c84	ee 33 45		inc  p8_size+1
.1c87			+
.1c87	ac 33 45		ldy  p8_size+1
.1c8a	ad 32 45		lda  p8_size
.1c8d	18			clc
.1c8e	69 07			adc  #<7
.1c90	aa			tax
.1c91	98			tya
.1c92	69 00			adc  #>7
.1c94	a8			tay
.1c95	8a			txa
.1c96	29 f8			and  #<$fff8
.1c98	aa			tax
.1c99	98			tya
.1c9a	29 ff			and  #>$fff8
.1c9c	a8			tay
.1c9d	8a			txa
.1c9e	8d 32 45		sta  p8_size
.1ca1	8c 33 45		sty  p8_size+1
.1ca4	38			sec
.1ca5	e9 08			sbc  #8
.1ca7	8d 32 45		sta  p8_size
.1caa	b0 03			bcs  +
.1cac	ce 33 45		dec  p8_size+1
.1caf			+
.1caf	ad 2e 45		lda  p8_pm
.1cb2	ac 2f 45		ldy  p8_pm+1
.1cb5	8d c7 44		sta  p8_fmalloc_root.p8_available_get.p8_ptr
.1cb8	8c c8 44		sty  p8_fmalloc_root.p8_available_get.p8_ptr+1
.1cbb	a9 1f			lda  #<p8_current+0
.1cbd	a0 45			ldy  #>p8_current+0
.1cbf	8d c9 44		sta  p8_fmalloc_root.p8_available_get.p8_result
.1cc2	8c ca 44		sty  p8_fmalloc_root.p8_available_get.p8_result+1
.1cc5	20 ed 18		jsr  p8_fmalloc_root.p8_available_get
.1cc8	a9 1f			lda  #<p8_current+0
.1cca	a0 45			ldy  #>p8_current+0
.1ccc	8d 07 45		sta  p8_fmalloc_item.p8_size_get.p8_ptr
.1ccf	8c 08 45		sty  p8_fmalloc_item.p8_size_get.p8_ptr+1
.1cd2	a9 25			lda  #<p8_current_size+0
.1cd4	a0 45			ldy  #>p8_current_size+0
.1cd6	8d 09 45		sta  p8_fmalloc_item.p8_size_get.p8_result
.1cd9	8c 0a 45		sty  p8_fmalloc_item.p8_size_get.p8_result+1
.1cdc	20 9f 1a		jsr  p8_fmalloc_item.p8_size_get
.1cdf			p8_prog8_label_56_whileloop
.1cdf	a9 1f			lda  #<p8_current+0
.1ce1	85 02			sta  cx16.r0
.1ce3	a9 45			lda  #>p8_current+0
.1ce5	85 03			sta  cx16.r0+1
.1ce7	a9 52			lda  #<p8_fptr.p8_NULL+0
.1ce9	85 04			sta  cx16.r1
.1ceb	a9 2b			lda  #>p8_fptr.p8_NULL+0
.1ced	85 05			sta  cx16.r1+1
.1cef	a0 00		    ldy  #0
.1cf1	b1 02			lda  (cx16.r0),y
.1cf3	d1 04		    cmp  (cx16.r1),y
.1cf5	d0 12		    bne +
.1cf7	c8			iny
.1cf8	b1 02			lda  (cx16.r0),y
.1cfa	d1 04		    cmp  (cx16.r1),y
.1cfc	d0 0b		    bne +
.1cfe	c8			iny
.1cff	b1 02			lda  (cx16.r0),y
.1d01	d1 04		    cmp  (cx16.r1),y
.1d03	d0 04		    bne +
.1d05	a9 00			lda #0
.1d07	80 02		    bra ++
.1d09			    +
.1d09	a9 01		    lda #1
.1d0b			    +
.1d0b	48			pha
.1d0c	ac 26 45		ldy  p8_current_size+1
.1d0f	ad 25 45		lda  p8_current_size
.1d12	cc 33 45			cpy  p8_size+1
.1d15	90 07				bcc  +
.1d17	d0 09			bne  ++
.1d19	cd 32 45			cmp  p8_size
.1d1c	b0 04				bcs  ++
.1d1e	a9 01		+       lda  #1
.1d20	d0 02			bne  ++
.1d22	a9 00		+       lda  #0
.1d24			+
.1d24	85 7a			sta  P8ZP_SCRATCH_B1
.1d26	68			pla
.1d27	25 7a			and  P8ZP_SCRATCH_B1
.1d29	f0 2c			beq  p8_prog8_label_57_afterwhile
.1d2b	a9 1f			lda  #<p8_current+0
.1d2d	a0 45			ldy  #>p8_current+0
.1d2f	8d f7 44		sta  p8_fmalloc_item.p8_next_get.p8_ptr
.1d32	8c f8 44		sty  p8_fmalloc_item.p8_next_get.p8_ptr+1
.1d35	8d f9 44		sta  p8_fmalloc_item.p8_next_get.p8_result
.1d38	8c fa 44		sty  p8_fmalloc_item.p8_next_get.p8_result+1
.1d3b	20 27 1a		jsr  p8_fmalloc_item.p8_next_get
.1d3e	a9 1f			lda  #<p8_current+0
.1d40	a0 45			ldy  #>p8_current+0
.1d42	8d 07 45		sta  p8_fmalloc_item.p8_size_get.p8_ptr
.1d45	8c 08 45		sty  p8_fmalloc_item.p8_size_get.p8_ptr+1
.1d48	a9 25			lda  #<p8_current_size+0
.1d4a	a0 45			ldy  #>p8_current_size+0
.1d4c	8d 09 45		sta  p8_fmalloc_item.p8_size_get.p8_result
.1d4f	8c 0a 45		sty  p8_fmalloc_item.p8_size_get.p8_result+1
.1d52	20 9f 1a		jsr  p8_fmalloc_item.p8_size_get
.1d55	80 88			bra  p8_prog8_label_56_whileloop
.1d57			p8_prog8_label_57_afterwhile
.1d57	a9 1f			lda  #<p8_current+0
.1d59	85 02			sta  cx16.r0
.1d5b	a9 45			lda  #>p8_current+0
.1d5d	85 03			sta  cx16.r0+1
.1d5f	a0 00		    ldy  #0
.1d61	b1 02			lda  (cx16.r0),y
.1d63	c8			iny
.1d64	18			clc
.1d65	71 02			adc  (cx16.r0),y
.1d67	c8			iny
.1d68	18			clc
.1d69	71 02			adc  (cx16.r0),y
.1d6b	f0 02			beq  +
.1d6d	a9 01			lda  #1
.1d6f			    +
.1d6f	49 01		    eor  #1
.1d71	c9 00			cmp  #0
.1d73	f0 2e			beq  prog8_label_asm_17_if_end
.1d75	a9 00			lda  #0
.1d77	ac 30 45		ldy  p8_result
.1d7a	84 7e			sty  P8ZP_SCRATCH_W2
.1d7c	ac 31 45		ldy  p8_result+1
.1d7f	84 7f			sty  P8ZP_SCRATCH_W2+1
.1d81	92 7e			sta  (P8ZP_SCRATCH_W2)
.1d83	a0 01			ldy  #1
.1d85	ad 30 45		lda  p8_result
.1d88	85 7e			sta  P8ZP_SCRATCH_W2
.1d8a	ad 31 45		lda  p8_result+1
.1d8d	85 7f			sta  P8ZP_SCRATCH_W2+1
.1d8f	a9 00			lda  #0
.1d91	91 7e			sta  (P8ZP_SCRATCH_W2),y
.1d93	a0 02			ldy  #2
.1d95	ad 30 45		lda  p8_result
.1d98	85 7e			sta  P8ZP_SCRATCH_W2
.1d9a	ad 31 45		lda  p8_result+1
.1d9d	85 7f			sta  P8ZP_SCRATCH_W2+1
.1d9f	a9 00			lda  #0
.1da1	91 7e			sta  (P8ZP_SCRATCH_W2),y
.1da3			prog8_label_asm_17_if_end
.1da3	ad 2e 45		lda  p8_pm
.1da6	ac 2f 45		ldy  p8_pm+1
.1da9	8d 7b 45		sta  p8_fmalloc.p8_remove_item.p8_root
.1dac	8c 7c 45		sty  p8_fmalloc.p8_remove_item.p8_root+1
.1daf	a9 1f			lda  #<p8_current+0
.1db1	a0 45			ldy  #>p8_current+0
.1db3	8d 73 45		sta  p8_fmalloc.p8_remove_item.p8_node
.1db6	8c 74 45		sty  p8_fmalloc.p8_remove_item.p8_node+1
.1db9	20 2f 28		jsr  p8_fmalloc.p8_remove_item
.1dbc	ac 2f 45		ldy  p8_pm+1
.1dbf	ad 2e 45		lda  p8_pm
.1dc2	18			clc
.1dc3	69 03			adc  #<3
.1dc5	aa			tax
.1dc6	98			tya
.1dc7	69 00			adc  #>3
.1dc9	a8			tay
.1dca	8a			txa
.1dcb	8d 6e 45		sta  p8_fmalloc.p8_insert_item.p8_root
.1dce	8c 6f 45		sty  p8_fmalloc.p8_insert_item.p8_root+1
.1dd1	a9 1f			lda  #<p8_current+0
.1dd3	a0 45			ldy  #>p8_current+0
.1dd5	8d 66 45		sta  p8_fmalloc.p8_insert_item.p8_node
.1dd8	8c 67 45		sty  p8_fmalloc.p8_insert_item.p8_node+1
.1ddb	20 b9 24		jsr  p8_fmalloc.p8_insert_item
.1dde	ac 26 45		ldy  p8_current_size+1
.1de1	ad 25 45		lda  p8_current_size
.1de4	cd 32 45		cmp  p8_size
.1de7	d0 08			bne  +
.1de9	cc 33 45		cpy  p8_size+1
.1dec	d0 03			beq  prog8_label_asm_18_if_end
.1dee	4c 58 1f
.1df1			+
.1df1	ad 20 45		lda  p8_current+1
.1df4	48			pha
.1df5	ad 21 45		lda  p8_current+2
.1df8	a8			tay
.1df9	68			pla
.1dfa	18			clc
.1dfb	69 08			adc  #<8
.1dfd	aa			tax
.1dfe	98			tya
.1dff	69 00			adc  #>8
.1e01	a8			tay
.1e02	8a			txa
.1e03	18			clc
.1e04	6d 32 45		adc  p8_size
.1e07	aa			tax
.1e08	98			tya
.1e09	6d 33 45		adc  p8_size+1
.1e0c	a8			tay
.1e0d	8a			txa
.1e0e	8d 34 45		sta  p8_temp_result
.1e11	8c 35 45		sty  p8_temp_result+1
.1e14	ad 1f 45		lda  p8_current+0
.1e17	8d 2b 45		sta  p8_newfree+0
.1e1a	ad 34 45		lda  p8_temp_result
.1e1d	8d 2c 45		sta  p8_newfree+1
.1e20	ad 35 45		lda  p8_temp_result+1
.1e23	8d 2d 45		sta  p8_newfree+2
.1e26	ac 26 45		ldy  p8_current_size+1
.1e29	ad 25 45		lda  p8_current_size
.1e2c	38			sec
.1e2d	e9 08			sbc  #<8
.1e2f	aa			tax
.1e30	98			tya
.1e31	e9 00			sbc  #>8
.1e33	a8			tay
.1e34	8a			txa
.1e35	38			sec
.1e36	ed 32 45		sbc  p8_size
.1e39	aa			tax
.1e3a	98			tya
.1e3b	ed 33 45		sbc  p8_size+1
.1e3e	a8			tay
.1e3f	8a			txa
.1e40	8d 29 45		sta  p8_new_size
.1e43	8c 2a 45		sty  p8_new_size+1
.1e46	a9 2b			lda  #<p8_newfree+0
.1e48	a0 45			ldy  #>p8_newfree+0
.1e4a	8d 0b 45		sta  p8_fmalloc_item.p8_size_set.p8_ptr
.1e4d	8c 0c 45		sty  p8_fmalloc_item.p8_size_set.p8_ptr+1
.1e50	a9 29			lda  #<p8_new_size+0
.1e52	a0 45			ldy  #>p8_new_size+0
.1e54	8d 0d 45		sta  p8_fmalloc_item.p8_size_set.p8_value
.1e57	8c 0e 45		sty  p8_fmalloc_item.p8_size_set.p8_value+1
.1e5a	20 b8 1a		jsr  p8_fmalloc_item.p8_size_set
.1e5d	a9 1f			lda  #<p8_current+0
.1e5f	a0 45			ldy  #>p8_current+0
.1e61	8d f7 44		sta  p8_fmalloc_item.p8_next_get.p8_ptr
.1e64	8c f8 44		sty  p8_fmalloc_item.p8_next_get.p8_ptr+1
.1e67	a9 22			lda  #<p8_current_next+0
.1e69	a0 45			ldy  #>p8_current_next+0
.1e6b	8d f9 44		sta  p8_fmalloc_item.p8_next_get.p8_result
.1e6e	8c fa 44		sty  p8_fmalloc_item.p8_next_get.p8_result+1
.1e71	20 27 1a		jsr  p8_fmalloc_item.p8_next_get
.1e74	a9 2b			lda  #<p8_newfree+0
.1e76	a0 45			ldy  #>p8_newfree+0
.1e78	8d fb 44		sta  p8_fmalloc_item.p8_next_set.p8_ptr
.1e7b	8c fc 44		sty  p8_fmalloc_item.p8_next_set.p8_ptr+1
.1e7e	a9 22			lda  #<p8_current_next+0
.1e80	a0 45			ldy  #>p8_current_next+0
.1e82	8d fd 44		sta  p8_fmalloc_item.p8_next_set.p8_value
.1e85	8c fe 44		sty  p8_fmalloc_item.p8_next_set.p8_value+1
.1e88	20 46 1a		jsr  p8_fmalloc_item.p8_next_set
.1e8b	a9 1f			lda  #<p8_current+0
.1e8d	a0 45			ldy  #>p8_current+0
.1e8f	8d fb 44		sta  p8_fmalloc_item.p8_next_set.p8_ptr
.1e92	8c fc 44		sty  p8_fmalloc_item.p8_next_set.p8_ptr+1
.1e95	a9 52			lda  #<p8_fptr.p8_NULL+0
.1e97	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.1e99	8d fd 44		sta  p8_fmalloc_item.p8_next_set.p8_value
.1e9c	8c fe 44		sty  p8_fmalloc_item.p8_next_set.p8_value+1
.1e9f	20 46 1a		jsr  p8_fmalloc_item.p8_next_set
.1ea2	ad 32 45		lda  p8_size
.1ea5	ac 33 45		ldy  p8_size+1
.1ea8	8d 25 45		sta  p8_current_size
.1eab	8c 26 45		sty  p8_current_size+1
.1eae	a9 1f			lda  #<p8_current+0
.1eb0	a0 45			ldy  #>p8_current+0
.1eb2	8d 0b 45		sta  p8_fmalloc_item.p8_size_set.p8_ptr
.1eb5	8c 0c 45		sty  p8_fmalloc_item.p8_size_set.p8_ptr+1
.1eb8	a9 25			lda  #<p8_current_size+0
.1eba	a0 45			ldy  #>p8_current_size+0
.1ebc	8d 0d 45		sta  p8_fmalloc_item.p8_size_set.p8_value
.1ebf	8c 0e 45		sty  p8_fmalloc_item.p8_size_set.p8_value+1
.1ec2	20 b8 1a		jsr  p8_fmalloc_item.p8_size_set
.1ec5	ad 2e 45		lda  p8_pm
.1ec8	ac 2f 45		ldy  p8_pm+1
.1ecb	8d 6e 45		sta  p8_fmalloc.p8_insert_item.p8_root
.1ece	8c 6f 45		sty  p8_fmalloc.p8_insert_item.p8_root+1
.1ed1	a9 2b			lda  #<p8_newfree+0
.1ed3	a0 45			ldy  #>p8_newfree+0
.1ed5	8d 66 45		sta  p8_fmalloc.p8_insert_item.p8_node
.1ed8	8c 67 45		sty  p8_fmalloc.p8_insert_item.p8_node+1
.1edb	20 b9 24		jsr  p8_fmalloc.p8_insert_item
.1ede	ad 2e 45		lda  p8_pm
.1ee1	ac 2f 45		ldy  p8_pm+1
.1ee4	8d d3 44		sta  p8_fmalloc_root.p8_freemem_get.p8_ptr
.1ee7	8c d4 44		sty  p8_fmalloc_root.p8_freemem_get.p8_ptr+1
.1eea	a9 27			lda  #<p8_freemem+0
.1eec	a0 45			ldy  #>p8_freemem+0
.1eee	8d d5 44		sta  p8_fmalloc_root.p8_freemem_get.p8_result
.1ef1	8c d6 44		sty  p8_fmalloc_root.p8_freemem_get.p8_result+1
.1ef4	20 46 19		jsr  p8_fmalloc_root.p8_freemem_get
.1ef7	ad 27 45		lda  p8_freemem
.1efa	38			sec
.1efb	e9 08			sbc  #8
.1efd	8d 27 45		sta  p8_freemem
.1f00	b0 03			bcs  +
.1f02	ce 28 45		dec  p8_freemem+1
.1f05			+
.1f05	ad 2e 45		lda  p8_pm
.1f08	ac 2f 45		ldy  p8_pm+1
.1f0b	8d d7 44		sta  p8_fmalloc_root.p8_freemem_set.p8_ptr
.1f0e	8c d8 44		sty  p8_fmalloc_root.p8_freemem_set.p8_ptr+1
.1f11	a9 27			lda  #<p8_freemem+0
.1f13	a0 45			ldy  #>p8_freemem+0
.1f15	8d d9 44		sta  p8_fmalloc_root.p8_freemem_set.p8_value
.1f18	8c da 44		sty  p8_fmalloc_root.p8_freemem_set.p8_value+1
.1f1b	20 5f 19		jsr  p8_fmalloc_root.p8_freemem_set
.1f1e	ad 2e 45		lda  p8_pm
.1f21	ac 2f 45		ldy  p8_pm+1
.1f24	8d eb 44		sta  p8_fmalloc_root.p8_totalnodes_get.p8_ptr
.1f27	8c ec 44		sty  p8_fmalloc_root.p8_totalnodes_get.p8_ptr+1
.1f2a	a9 36			lda  #<p8_totalnodes+0
.1f2c	a0 45			ldy  #>p8_totalnodes+0
.1f2e	8d ed 44		sta  p8_fmalloc_root.p8_totalnodes_get.p8_result
.1f31	8c ee 44		sty  p8_fmalloc_root.p8_totalnodes_get.p8_result+1
.1f34	20 dc 19		jsr  p8_fmalloc_root.p8_totalnodes_get
.1f37	ee 36 45		inc  p8_totalnodes
.1f3a	d0 03			bne  +
.1f3c	ee 37 45		inc  p8_totalnodes+1
.1f3f			+
.1f3f	ad 2e 45		lda  p8_pm
.1f42	ac 2f 45		ldy  p8_pm+1
.1f45	8d ef 44		sta  p8_fmalloc_root.p8_totalnodes_set.p8_ptr
.1f48	8c f0 44		sty  p8_fmalloc_root.p8_totalnodes_set.p8_ptr+1
.1f4b	a9 36			lda  #<p8_totalnodes+0
.1f4d	a0 45			ldy  #>p8_totalnodes+0
.1f4f	8d f1 44		sta  p8_fmalloc_root.p8_totalnodes_set.p8_value
.1f52	8c f2 44		sty  p8_fmalloc_root.p8_totalnodes_set.p8_value+1
.1f55	20 f5 19		jsr  p8_fmalloc_root.p8_totalnodes_set
.1f58			prog8_label_asm_18_if_end
.1f58	ad 2e 45		lda  p8_pm
.1f5b	ac 2f 45		ldy  p8_pm+1
.1f5e	8d d3 44		sta  p8_fmalloc_root.p8_freemem_get.p8_ptr
.1f61	8c d4 44		sty  p8_fmalloc_root.p8_freemem_get.p8_ptr+1
.1f64	a9 27			lda  #<p8_freemem+0
.1f66	a0 45			ldy  #>p8_freemem+0
.1f68	8d d5 44		sta  p8_fmalloc_root.p8_freemem_get.p8_result
.1f6b	8c d6 44		sty  p8_fmalloc_root.p8_freemem_get.p8_result+1
.1f6e	20 46 19		jsr  p8_fmalloc_root.p8_freemem_get
.1f71	ad 27 45		lda  p8_freemem
.1f74	38			sec
.1f75	ed 25 45		sbc  p8_current_size
.1f78	8d 27 45		sta  p8_freemem
.1f7b	ad 28 45		lda  p8_freemem+1
.1f7e	ed 26 45		sbc  p8_current_size+1
.1f81	8d 28 45		sta  p8_freemem+1
.1f84	ad 2e 45		lda  p8_pm
.1f87	ac 2f 45		ldy  p8_pm+1
.1f8a	8d d7 44		sta  p8_fmalloc_root.p8_freemem_set.p8_ptr
.1f8d	8c d8 44		sty  p8_fmalloc_root.p8_freemem_set.p8_ptr+1
.1f90	a9 27			lda  #<p8_freemem+0
.1f92	a0 45			ldy  #>p8_freemem+0
.1f94	8d d9 44		sta  p8_fmalloc_root.p8_freemem_set.p8_value
.1f97	8c da 44		sty  p8_fmalloc_root.p8_freemem_set.p8_value+1
.1f9a	20 5f 19		jsr  p8_fmalloc_root.p8_freemem_set
.1f9d	ad 20 45		lda  p8_current+1
.1fa0	48			pha
.1fa1	ad 21 45		lda  p8_current+2
.1fa4	a8			tay
.1fa5	68			pla
.1fa6	18			clc
.1fa7	69 08			adc  #<8
.1fa9	aa			tax
.1faa	98			tya
.1fab	69 00			adc  #>8
.1fad	a8			tay
.1fae	8a			txa
.1faf	8d 34 45		sta  p8_temp_result
.1fb2	8c 35 45		sty  p8_temp_result+1
.1fb5	ad 1f 45		lda  p8_current+0
.1fb8	ac 30 45		ldy  p8_result
.1fbb	84 7c			sty  P8ZP_SCRATCH_W1
.1fbd	ac 31 45		ldy  p8_result+1
.1fc0	84 7d			sty  P8ZP_SCRATCH_W1+1
.1fc2	a0 00			ldy  #0
.1fc4	91 7c			sta  (P8ZP_SCRATCH_W1),y
.1fc6	ad 34 45		lda  p8_temp_result
.1fc9	ac 30 45		ldy  p8_result
.1fcc	84 7c			sty  P8ZP_SCRATCH_W1
.1fce	ac 31 45		ldy  p8_result+1
.1fd1	84 7d			sty  P8ZP_SCRATCH_W1+1
.1fd3	a0 01			ldy  #1
.1fd5	91 7c			sta  (P8ZP_SCRATCH_W1),y
.1fd7	ad 35 45		lda  p8_temp_result+1
.1fda	ac 30 45		ldy  p8_result
.1fdd	84 7c			sty  P8ZP_SCRATCH_W1
.1fdf	ac 31 45		ldy  p8_result+1
.1fe2	84 7d			sty  P8ZP_SCRATCH_W1+1
.1fe4	a0 02			ldy  #2
.1fe6	91 7c			sta  (P8ZP_SCRATCH_W1),y
.1fe8	60			rts
>451f			p8_current	.fill  3
>4522			p8_current_next	.fill  3
>4525			p8_current_size	.word  ?
>4527			p8_freemem	.word  ?
>4529			p8_new_size	.word  ?
>452b			p8_newfree	.fill  3
>452e			p8_pm	.word  ?
>4530			p8_result	.word  ?
>4532			p8_size	.word  ?
>4534			p8_temp_result	.word  ?
>4536			p8_totalnodes	.word  ?
.1fe9			p8_free
.1fe9	a9 41			lda  #<p8_ptr+0
.1feb	85 02			sta  cx16.r0
.1fed	a9 45			lda  #>p8_ptr+0
.1fef	85 03			sta  cx16.r0+1
.1ff1	a0 00		    ldy  #0
.1ff3	b1 02			lda  (cx16.r0),y
.1ff5	c8			iny
.1ff6	18			clc
.1ff7	71 02			adc  (cx16.r0),y
.1ff9	c8			iny
.1ffa	18			clc
.1ffb	71 02			adc  (cx16.r0),y
.1ffd	f0 02			beq  +
.1fff	a9 01			lda  #1
.2001			    +
.2001	49 01		    eor  #1
.2003	c9 00			cmp  #0
.2005	f0 01			beq  prog8_label_asm_19_if_end
.2007	60			rts
.2008			prog8_label_asm_19_if_end
.2008	a0 01			ldy  #1
.200a	ad 41 45		lda  p8_ptr
.200d	85 7c			sta  P8ZP_SCRATCH_W1
.200f	ad 42 45		lda  p8_ptr+1
.2012	85 7d			sta  P8ZP_SCRATCH_W1+1
.2014	b1 7c			lda  (P8ZP_SCRATCH_W1),y
.2016	48			pha
.2017	a0 02			ldy  #2
.2019	ad 41 45		lda  p8_ptr
.201c	85 7c			sta  P8ZP_SCRATCH_W1
.201e	ad 42 45		lda  p8_ptr+1
.2021	85 7d			sta  P8ZP_SCRATCH_W1+1
.2023	b1 7c			lda  (P8ZP_SCRATCH_W1),y
.2025	a8			tay
.2026	68			pla
.2027	38			sec
.2028	e9 08			sbc  #<8
.202a	aa			tax
.202b	98			tya
.202c	e9 00			sbc  #>8
.202e	a8			tay
.202f	8a			txa
.2030	8d 43 45		sta  p8_temp_result
.2033	8c 44 45		sty  p8_temp_result+1
.2036	ad 41 45		lda  p8_ptr
.2039	85 7c			sta  P8ZP_SCRATCH_W1
.203b	ad 42 45		lda  p8_ptr+1
.203e	85 7d			sta  P8ZP_SCRATCH_W1+1
.2040	b2 7c			lda  (P8ZP_SCRATCH_W1)
.2042	8d 3a 45		sta  p8_node+0
.2045	ad 43 45		lda  p8_temp_result
.2048	8d 3b 45		sta  p8_node+1
.204b	ad 44 45		lda  p8_temp_result+1
.204e	8d 3c 45		sta  p8_node+2
.2051	ac 40 45		ldy  p8_pm+1
.2054	ad 3f 45		lda  p8_pm
.2057	18			clc
.2058	69 03			adc  #<3
.205a	aa			tax
.205b	98			tya
.205c	69 00			adc  #>3
.205e	a8			tay
.205f	8a			txa
.2060	8d 7b 45		sta  p8_fmalloc.p8_remove_item.p8_root
.2063	8c 7c 45		sty  p8_fmalloc.p8_remove_item.p8_root+1
.2066	a9 3a			lda  #<p8_node+0
.2068	a0 45			ldy  #>p8_node+0
.206a	8d 73 45		sta  p8_fmalloc.p8_remove_item.p8_node
.206d	8c 74 45		sty  p8_fmalloc.p8_remove_item.p8_node+1
.2070	20 2f 28		jsr  p8_fmalloc.p8_remove_item
.2073	9c 38 45		stz  p8_freemem
.2076	9c 39 45		stz  p8_freemem+1
.2079	9c 3d 45		stz  p8_node_size
.207c	9c 3e 45		stz  p8_node_size+1
.207f	ad 3f 45		lda  p8_pm
.2082	ac 40 45		ldy  p8_pm+1
.2085	8d d3 44		sta  p8_fmalloc_root.p8_freemem_get.p8_ptr
.2088	8c d4 44		sty  p8_fmalloc_root.p8_freemem_get.p8_ptr+1
.208b	a9 38			lda  #<p8_freemem+0
.208d	a0 45			ldy  #>p8_freemem+0
.208f	8d d5 44		sta  p8_fmalloc_root.p8_freemem_get.p8_result
.2092	8c d6 44		sty  p8_fmalloc_root.p8_freemem_get.p8_result+1
.2095	20 46 19		jsr  p8_fmalloc_root.p8_freemem_get
.2098	a9 3a			lda  #<p8_node+0
.209a	a0 45			ldy  #>p8_node+0
.209c	8d 07 45		sta  p8_fmalloc_item.p8_size_get.p8_ptr
.209f	8c 08 45		sty  p8_fmalloc_item.p8_size_get.p8_ptr+1
.20a2	a9 3d			lda  #<p8_node_size+0
.20a4	a0 45			ldy  #>p8_node_size+0
.20a6	8d 09 45		sta  p8_fmalloc_item.p8_size_get.p8_result
.20a9	8c 0a 45		sty  p8_fmalloc_item.p8_size_get.p8_result+1
.20ac	20 9f 1a		jsr  p8_fmalloc_item.p8_size_get
.20af	ad 38 45		lda  p8_freemem
.20b2	18			clc
.20b3	6d 3d 45		adc  p8_node_size
.20b6	8d 38 45		sta  p8_freemem
.20b9	ad 39 45		lda  p8_freemem+1
.20bc	6d 3e 45		adc  p8_node_size+1
.20bf	8d 39 45		sta  p8_freemem+1
.20c2	ad 3f 45		lda  p8_pm
.20c5	ac 40 45		ldy  p8_pm+1
.20c8	8d d7 44		sta  p8_fmalloc_root.p8_freemem_set.p8_ptr
.20cb	8c d8 44		sty  p8_fmalloc_root.p8_freemem_set.p8_ptr+1
.20ce	a9 38			lda  #<p8_freemem+0
.20d0	a0 45			ldy  #>p8_freemem+0
.20d2	8d d9 44		sta  p8_fmalloc_root.p8_freemem_set.p8_value
.20d5	8c da 44		sty  p8_fmalloc_root.p8_freemem_set.p8_value+1
.20d8	20 5f 19		jsr  p8_fmalloc_root.p8_freemem_set
.20db	ad 3f 45		lda  p8_pm
.20de	ac 40 45		ldy  p8_pm+1
.20e1	8d 6e 45		sta  p8_fmalloc.p8_insert_item.p8_root
.20e4	8c 6f 45		sty  p8_fmalloc.p8_insert_item.p8_root+1
.20e7	a9 3a			lda  #<p8_node+0
.20e9	a0 45			ldy  #>p8_node+0
.20eb	8d 66 45		sta  p8_fmalloc.p8_insert_item.p8_node
.20ee	8c 67 45		sty  p8_fmalloc.p8_insert_item.p8_node+1
.20f1	20 b9 24		jsr  p8_fmalloc.p8_insert_item
.20f4	ad 3f 45		lda  p8_pm
.20f7	ac 40 45		ldy  p8_pm+1
.20fa	8d 55 45		sta  p8_fmalloc.p8_merge.p8_pm
.20fd	8c 56 45		sty  p8_fmalloc.p8_merge.p8_pm+1
.2100	a9 3a			lda  #<p8_node+0
.2102	a0 45			ldy  #>p8_node+0
.2104	8d 47 45		sta  p8_fmalloc.p8_merge.p8_node
.2107	8c 48 45		sty  p8_fmalloc.p8_merge.p8_node+1
.210a	4c 0d 21		jmp  p8_fmalloc.p8_merge
>4538			p8_freemem	.word  ?
>453a			p8_node	.fill  3
>453d			p8_node_size	.word  ?
>453f			p8_pm	.word  ?
>4541			p8_ptr	.word  ?
>4543			p8_temp_result	.word  ?
.210d			p8_merge
.210d	9c 5e 45		stz  p8_totalnodes
.2110	9c 5f 45		stz  p8_totalnodes+1
.2113	9c 45 45		stz  p8_freemem
.2116	9c 46 45		stz  p8_freemem+1
.2119	9c 4c 45		stz  p8_node_next_size
.211c	9c 4d 45		stz  p8_node_next_size+1
.211f	9c 51 45		stz  p8_node_prev_size
.2122	9c 52 45		stz  p8_node_prev_size+1
.2125	9c 53 45		stz  p8_node_size
.2128	9c 54 45		stz  p8_node_size+1
.212b	9c 5c 45		stz  p8_temp_result
.212e	9c 5d 45		stz  p8_temp_result+1
.2131	ad 47 45		lda  p8_node
.2134	ac 48 45		ldy  p8_node+1
.2137	8d ff 44		sta  p8_fmalloc_item.p8_prev_get.p8_ptr
.213a	8c 00 45		sty  p8_fmalloc_item.p8_prev_get.p8_ptr+1
.213d	a9 4e			lda  #<p8_node_prev+0
.213f	a0 45			ldy  #>p8_node_prev+0
.2141	8d 01 45		sta  p8_fmalloc_item.p8_prev_get.p8_result
.2144	8c 02 45		sty  p8_fmalloc_item.p8_prev_get.p8_result+1
.2147	20 65 1a		jsr  p8_fmalloc_item.p8_prev_get
.214a	a9 4e			lda  #<p8_node_prev+0
.214c	a0 45			ldy  #>p8_node_prev+0
.214e	8d 07 45		sta  p8_fmalloc_item.p8_size_get.p8_ptr
.2151	8c 08 45		sty  p8_fmalloc_item.p8_size_get.p8_ptr+1
.2154	a9 51			lda  #<p8_node_prev_size+0
.2156	a0 45			ldy  #>p8_node_prev_size+0
.2158	8d 09 45		sta  p8_fmalloc_item.p8_size_get.p8_result
.215b	8c 0a 45		sty  p8_fmalloc_item.p8_size_get.p8_result+1
.215e	20 9f 1a		jsr  p8_fmalloc_item.p8_size_get
.2161	ad 4f 45		lda  p8_node_prev+1
.2164	48			pha
.2165	ad 50 45		lda  p8_node_prev+2
.2168	a8			tay
.2169	68			pla
.216a	18			clc
.216b	69 08			adc  #<8
.216d	aa			tax
.216e	98			tya
.216f	69 00			adc  #>8
.2171	a8			tay
.2172	8a			txa
.2173	18			clc
.2174	6d 51 45		adc  p8_node_prev_size
.2177	aa			tax
.2178	98			tya
.2179	6d 52 45		adc  p8_node_prev_size+1
.217c	a8			tay
.217d	8a			txa
.217e	8d 5c 45		sta  p8_temp_result
.2181	8c 5d 45		sty  p8_temp_result+1
.2184	ad 4e 45		lda  p8_node_prev+0
.2187	8d 59 45		sta  p8_temp_ptr+0
.218a	ad 5c 45		lda  p8_temp_result
.218d	8d 5a 45		sta  p8_temp_ptr+1
.2190	ad 5d 45		lda  p8_temp_result+1
.2193	8d 5b 45		sta  p8_temp_ptr+2
.2196			p8_prog8_label_58_whileloop
.2196	a9 4e			lda  #<p8_node_prev+0
.2198	85 02			sta  cx16.r0
.219a	a9 45			lda  #>p8_node_prev+0
.219c	85 03			sta  cx16.r0+1
.219e	a0 00		    ldy  #0
.21a0	b1 02			lda  (cx16.r0),y
.21a2	c8			iny
.21a3	18			clc
.21a4	71 02			adc  (cx16.r0),y
.21a6	c8			iny
.21a7	18			clc
.21a8	71 02			adc  (cx16.r0),y
.21aa	f0 02			beq  +
.21ac	a9 01			lda  #1
.21ae			    +
.21ae	49 01		    eor  #1
.21b0	f0 02			beq  +
.21b2	a9 01			lda  #1
.21b4	49 01		+                           eor  #1
.21b6	48			pha
.21b7	a9 47			lda  #<p8_node+0
.21b9	85 02			sta  cx16.r0
.21bb	a9 45			lda  #>p8_node+0
.21bd	85 03			sta  cx16.r0+1
.21bf	a9 59			lda  #<p8_temp_ptr+0
.21c1	85 04			sta  cx16.r1
.21c3	a9 45			lda  #>p8_temp_ptr+0
.21c5	85 05			sta  cx16.r1+1
.21c7	a0 00		    ldy  #0
.21c9	b1 02			lda  (cx16.r0),y
.21cb	d1 04		    cmp  (cx16.r1),y
.21cd	d0 12		    bne +
.21cf	c8			iny
.21d0	b1 02			lda  (cx16.r0),y
.21d2	d1 04		    cmp  (cx16.r1),y
.21d4	d0 0b		    bne +
.21d6	c8			iny
.21d7	b1 02			lda  (cx16.r0),y
.21d9	d1 04		    cmp  (cx16.r1),y
.21db	d0 04		    bne +
.21dd	a9 00			lda #0
.21df	80 02		    bra ++
.21e1			    +
.21e1	a9 01		    lda #1
.21e3			    +
.21e3	85 7a			sta  P8ZP_SCRATCH_B1
.21e5	68			pla
.21e6	25 7a			and  P8ZP_SCRATCH_B1
.21e8	d0 03			beq  p8_prog8_label_59_afterwhile
.21ea	4c 88 22
.21ed	ad 4e 45		lda  p8_node_prev+0
.21f0	ac 47 45		ldy  p8_node
.21f3	84 7c			sty  P8ZP_SCRATCH_W1
.21f5	ac 48 45		ldy  p8_node+1
.21f8	84 7d			sty  P8ZP_SCRATCH_W1+1
.21fa	a0 00			ldy  #0
.21fc	91 7c			sta  (P8ZP_SCRATCH_W1),y
.21fe	ad 4f 45		lda  p8_node_prev+1
.2201	ac 47 45		ldy  p8_node
.2204	84 7c			sty  P8ZP_SCRATCH_W1
.2206	ac 48 45		ldy  p8_node+1
.2209	84 7d			sty  P8ZP_SCRATCH_W1+1
.220b	a0 01			ldy  #1
.220d	91 7c			sta  (P8ZP_SCRATCH_W1),y
.220f	ad 50 45		lda  p8_node_prev+2
.2212	ac 47 45		ldy  p8_node
.2215	84 7c			sty  P8ZP_SCRATCH_W1
.2217	ac 48 45		ldy  p8_node+1
.221a	84 7d			sty  P8ZP_SCRATCH_W1+1
.221c	a0 02			ldy  #2
.221e	91 7c			sta  (P8ZP_SCRATCH_W1),y
.2220	ad 47 45		lda  p8_node
.2223	ac 48 45		ldy  p8_node+1
.2226	8d ff 44		sta  p8_fmalloc_item.p8_prev_get.p8_ptr
.2229	8c 00 45		sty  p8_fmalloc_item.p8_prev_get.p8_ptr+1
.222c	a9 4e			lda  #<p8_node_prev+0
.222e	a0 45			ldy  #>p8_node_prev+0
.2230	8d 01 45		sta  p8_fmalloc_item.p8_prev_get.p8_result
.2233	8c 02 45		sty  p8_fmalloc_item.p8_prev_get.p8_result+1
.2236	20 65 1a		jsr  p8_fmalloc_item.p8_prev_get
.2239	a9 4e			lda  #<p8_node_prev+0
.223b	a0 45			ldy  #>p8_node_prev+0
.223d	8d 07 45		sta  p8_fmalloc_item.p8_size_get.p8_ptr
.2240	8c 08 45		sty  p8_fmalloc_item.p8_size_get.p8_ptr+1
.2243	a9 51			lda  #<p8_node_prev_size+0
.2245	a0 45			ldy  #>p8_node_prev_size+0
.2247	8d 09 45		sta  p8_fmalloc_item.p8_size_get.p8_result
.224a	8c 0a 45		sty  p8_fmalloc_item.p8_size_get.p8_result+1
.224d	20 9f 1a		jsr  p8_fmalloc_item.p8_size_get
.2250	ad 4f 45		lda  p8_node_prev+1
.2253	48			pha
.2254	ad 50 45		lda  p8_node_prev+2
.2257	a8			tay
.2258	68			pla
.2259	18			clc
.225a	69 08			adc  #<8
.225c	aa			tax
.225d	98			tya
.225e	69 00			adc  #>8
.2260	a8			tay
.2261	8a			txa
.2262	18			clc
.2263	6d 51 45		adc  p8_node_prev_size
.2266	aa			tax
.2267	98			tya
.2268	6d 52 45		adc  p8_node_prev_size+1
.226b	a8			tay
.226c	8a			txa
.226d	8d 5c 45		sta  p8_temp_result
.2270	8c 5d 45		sty  p8_temp_result+1
.2273	ad 4e 45		lda  p8_node_prev+0
.2276	8d 59 45		sta  p8_temp_ptr+0
.2279	ad 5c 45		lda  p8_temp_result
.227c	8d 5a 45		sta  p8_temp_ptr+1
.227f	ad 5d 45		lda  p8_temp_result+1
.2282	8d 5b 45		sta  p8_temp_ptr+2
.2285	4c 96 21		bra  p8_prog8_label_58_whileloop
.2288			p8_prog8_label_59_afterwhile
.2288	ad 47 45		lda  p8_node
.228b	ac 48 45		ldy  p8_node+1
.228e	8d f7 44		sta  p8_fmalloc_item.p8_next_get.p8_ptr
.2291	8c f8 44		sty  p8_fmalloc_item.p8_next_get.p8_ptr+1
.2294	a9 49			lda  #<p8_node_next+0
.2296	a0 45			ldy  #>p8_node_next+0
.2298	8d f9 44		sta  p8_fmalloc_item.p8_next_get.p8_result
.229b	8c fa 44		sty  p8_fmalloc_item.p8_next_get.p8_result+1
.229e	20 27 1a		jsr  p8_fmalloc_item.p8_next_get
.22a1	ad 47 45		lda  p8_node
.22a4	ac 48 45		ldy  p8_node+1
.22a7	8d 07 45		sta  p8_fmalloc_item.p8_size_get.p8_ptr
.22aa	8c 08 45		sty  p8_fmalloc_item.p8_size_get.p8_ptr+1
.22ad	a9 53			lda  #<p8_node_size+0
.22af	a0 45			ldy  #>p8_node_size+0
.22b1	8d 09 45		sta  p8_fmalloc_item.p8_size_get.p8_result
.22b4	8c 0a 45		sty  p8_fmalloc_item.p8_size_get.p8_result+1
.22b7	20 9f 1a		jsr  p8_fmalloc_item.p8_size_get
.22ba	a0 01			ldy  #1
.22bc	ad 47 45		lda  p8_node
.22bf	85 7c			sta  P8ZP_SCRATCH_W1
.22c1	ad 48 45		lda  p8_node+1
.22c4	85 7d			sta  P8ZP_SCRATCH_W1+1
.22c6	b1 7c			lda  (P8ZP_SCRATCH_W1),y
.22c8	48			pha
.22c9	a0 02			ldy  #2
.22cb	ad 47 45		lda  p8_node
.22ce	85 7c			sta  P8ZP_SCRATCH_W1
.22d0	ad 48 45		lda  p8_node+1
.22d3	85 7d			sta  P8ZP_SCRATCH_W1+1
.22d5	b1 7c			lda  (P8ZP_SCRATCH_W1),y
.22d7	a8			tay
.22d8	68			pla
.22d9	18			clc
.22da	69 08			adc  #<8
.22dc	aa			tax
.22dd	98			tya
.22de	69 00			adc  #>8
.22e0	a8			tay
.22e1	8a			txa
.22e2	18			clc
.22e3	6d 53 45		adc  p8_node_size
.22e6	aa			tax
.22e7	98			tya
.22e8	6d 54 45		adc  p8_node_size+1
.22eb	a8			tay
.22ec	8a			txa
.22ed	8d 5c 45		sta  p8_temp_result
.22f0	8c 5d 45		sty  p8_temp_result+1
.22f3	ad 47 45		lda  p8_node
.22f6	85 7c			sta  P8ZP_SCRATCH_W1
.22f8	ad 48 45		lda  p8_node+1
.22fb	85 7d			sta  P8ZP_SCRATCH_W1+1
.22fd	b2 7c			lda  (P8ZP_SCRATCH_W1)
.22ff	8d 59 45		sta  p8_temp_ptr+0
.2302	ad 5c 45		lda  p8_temp_result
.2305	8d 5a 45		sta  p8_temp_ptr+1
.2308	ad 5d 45		lda  p8_temp_result+1
.230b	8d 5b 45		sta  p8_temp_ptr+2
.230e			p8_prog8_label_60_whileloop
.230e	a9 49			lda  #<p8_node_next+0
.2310	85 02			sta  cx16.r0
.2312	a9 45			lda  #>p8_node_next+0
.2314	85 03			sta  cx16.r0+1
.2316	a9 59			lda  #<p8_temp_ptr+0
.2318	85 04			sta  cx16.r1
.231a	a9 45			lda  #>p8_temp_ptr+0
.231c	85 05			sta  cx16.r1+1
.231e	a0 00		    ldy  #0
.2320	b1 02			lda  (cx16.r0),y
.2322	d1 04		    cmp  (cx16.r1),y
.2324	d0 12		    bne +
.2326	c8			iny
.2327	b1 02			lda  (cx16.r0),y
.2329	d1 04		    cmp  (cx16.r1),y
.232b	d0 0b		    bne +
.232d	c8			iny
.232e	b1 02			lda  (cx16.r0),y
.2330	d1 04		    cmp  (cx16.r1),y
.2332	d0 04		    bne +
.2334	a9 01			lda #1
.2336	80 02		    bra ++
.2338			    +
.2338	a9 00		    lda #0
.233a			    +
.233a	c9 00			cmp  #0
.233c	d0 03			beq  p8_prog8_label_61_afterwhile
.233e	4c b8 24
.2341	a9 49			lda  #<p8_node_next+0
.2343	a0 45			ldy  #>p8_node_next+0
.2345	8d 07 45		sta  p8_fmalloc_item.p8_size_get.p8_ptr
.2348	8c 08 45		sty  p8_fmalloc_item.p8_size_get.p8_ptr+1
.234b	a9 4c			lda  #<p8_node_next_size+0
.234d	a0 45			ldy  #>p8_node_next_size+0
.234f	8d 09 45		sta  p8_fmalloc_item.p8_size_get.p8_result
.2352	8c 0a 45		sty  p8_fmalloc_item.p8_size_get.p8_result+1
.2355	20 9f 1a		jsr  p8_fmalloc_item.p8_size_get
.2358	ac 4d 45		ldy  p8_node_next_size+1
.235b	ad 4c 45		lda  p8_node_next_size
.235e	18			clc
.235f	69 08			adc  #<8
.2361	aa			tax
.2362	98			tya
.2363	69 00			adc  #>8
.2365	a8			tay
.2366	8a			txa
.2367	8d 57 45		sta  p8_temp_node_size
.236a	8c 58 45		sty  p8_temp_node_size+1
.236d	ad 55 45		lda  p8_pm
.2370	ac 56 45		ldy  p8_pm+1
.2373	8d d3 44		sta  p8_fmalloc_root.p8_freemem_get.p8_ptr
.2376	8c d4 44		sty  p8_fmalloc_root.p8_freemem_get.p8_ptr+1
.2379	a9 45			lda  #<p8_freemem+0
.237b	a0 45			ldy  #>p8_freemem+0
.237d	8d d5 44		sta  p8_fmalloc_root.p8_freemem_get.p8_result
.2380	8c d6 44		sty  p8_fmalloc_root.p8_freemem_get.p8_result+1
.2383	20 46 19		jsr  p8_fmalloc_root.p8_freemem_get
.2386	ad 45 45		lda  p8_freemem
.2389	18			clc
.238a	69 08			adc  #8
.238c	8d 45 45		sta  p8_freemem
.238f	90 03			bcc  +
.2391	ee 46 45		inc  p8_freemem+1
.2394			+
.2394	ad 55 45		lda  p8_pm
.2397	ac 56 45		ldy  p8_pm+1
.239a	8d d7 44		sta  p8_fmalloc_root.p8_freemem_set.p8_ptr
.239d	8c d8 44		sty  p8_fmalloc_root.p8_freemem_set.p8_ptr+1
.23a0	a9 45			lda  #<p8_freemem+0
.23a2	a0 45			ldy  #>p8_freemem+0
.23a4	8d d9 44		sta  p8_fmalloc_root.p8_freemem_set.p8_value
.23a7	8c da 44		sty  p8_fmalloc_root.p8_freemem_set.p8_value+1
.23aa	20 5f 19		jsr  p8_fmalloc_root.p8_freemem_set
.23ad	ad 55 45		lda  p8_pm
.23b0	ac 56 45		ldy  p8_pm+1
.23b3	8d 7b 45		sta  p8_fmalloc.p8_remove_item.p8_root
.23b6	8c 7c 45		sty  p8_fmalloc.p8_remove_item.p8_root+1
.23b9	a9 49			lda  #<p8_node_next+0
.23bb	a0 45			ldy  #>p8_node_next+0
.23bd	8d 73 45		sta  p8_fmalloc.p8_remove_item.p8_node
.23c0	8c 74 45		sty  p8_fmalloc.p8_remove_item.p8_node+1
.23c3	20 2f 28		jsr  p8_fmalloc.p8_remove_item
.23c6	ad 55 45		lda  p8_pm
.23c9	ac 56 45		ldy  p8_pm+1
.23cc	8d eb 44		sta  p8_fmalloc_root.p8_totalnodes_get.p8_ptr
.23cf	8c ec 44		sty  p8_fmalloc_root.p8_totalnodes_get.p8_ptr+1
.23d2	a9 5e			lda  #<p8_totalnodes+0
.23d4	a0 45			ldy  #>p8_totalnodes+0
.23d6	8d ed 44		sta  p8_fmalloc_root.p8_totalnodes_get.p8_result
.23d9	8c ee 44		sty  p8_fmalloc_root.p8_totalnodes_get.p8_result+1
.23dc	20 dc 19		jsr  p8_fmalloc_root.p8_totalnodes_get
.23df	ad 5e 45		lda  p8_totalnodes
.23e2	d0 03			bne  +
.23e4	ce 5f 45		dec  p8_totalnodes+1
.23e7	ce 5e 45	+       dec  p8_totalnodes
.23ea	ad 55 45		lda  p8_pm
.23ed	ac 56 45		ldy  p8_pm+1
.23f0	8d ef 44		sta  p8_fmalloc_root.p8_totalnodes_set.p8_ptr
.23f3	8c f0 44		sty  p8_fmalloc_root.p8_totalnodes_set.p8_ptr+1
.23f6	a9 5e			lda  #<p8_totalnodes+0
.23f8	a0 45			ldy  #>p8_totalnodes+0
.23fa	8d f1 44		sta  p8_fmalloc_root.p8_totalnodes_set.p8_value
.23fd	8c f2 44		sty  p8_fmalloc_root.p8_totalnodes_set.p8_value+1
.2400	20 f5 19		jsr  p8_fmalloc_root.p8_totalnodes_set
.2403	ad 53 45		lda  p8_node_size
.2406	18			clc
.2407	6d 57 45		adc  p8_temp_node_size
.240a	8d 53 45		sta  p8_node_size
.240d	ad 54 45		lda  p8_node_size+1
.2410	6d 58 45		adc  p8_temp_node_size+1
.2413	8d 54 45		sta  p8_node_size+1
.2416	ad 47 45		lda  p8_node
.2419	ac 48 45		ldy  p8_node+1
.241c	8d 0b 45		sta  p8_fmalloc_item.p8_size_set.p8_ptr
.241f	8c 0c 45		sty  p8_fmalloc_item.p8_size_set.p8_ptr+1
.2422	a9 53			lda  #<p8_node_size+0
.2424	a0 45			ldy  #>p8_node_size+0
.2426	8d 0d 45		sta  p8_fmalloc_item.p8_size_set.p8_value
.2429	8c 0e 45		sty  p8_fmalloc_item.p8_size_set.p8_value+1
.242c	20 b8 1a		jsr  p8_fmalloc_item.p8_size_set
.242f	ad 47 45		lda  p8_node
.2432	ac 48 45		ldy  p8_node+1
.2435	8d f7 44		sta  p8_fmalloc_item.p8_next_get.p8_ptr
.2438	8c f8 44		sty  p8_fmalloc_item.p8_next_get.p8_ptr+1
.243b	a9 49			lda  #<p8_node_next+0
.243d	a0 45			ldy  #>p8_node_next+0
.243f	8d f9 44		sta  p8_fmalloc_item.p8_next_get.p8_result
.2442	8c fa 44		sty  p8_fmalloc_item.p8_next_get.p8_result+1
.2445	20 27 1a		jsr  p8_fmalloc_item.p8_next_get
.2448	ad 47 45		lda  p8_node
.244b	ac 48 45		ldy  p8_node+1
.244e	8d 07 45		sta  p8_fmalloc_item.p8_size_get.p8_ptr
.2451	8c 08 45		sty  p8_fmalloc_item.p8_size_get.p8_ptr+1
.2454	a9 53			lda  #<p8_node_size+0
.2456	a0 45			ldy  #>p8_node_size+0
.2458	8d 09 45		sta  p8_fmalloc_item.p8_size_get.p8_result
.245b	8c 0a 45		sty  p8_fmalloc_item.p8_size_get.p8_result+1
.245e	20 9f 1a		jsr  p8_fmalloc_item.p8_size_get
.2461	a0 01			ldy  #1
.2463	ad 47 45		lda  p8_node
.2466	85 7c			sta  P8ZP_SCRATCH_W1
.2468	ad 48 45		lda  p8_node+1
.246b	85 7d			sta  P8ZP_SCRATCH_W1+1
.246d	b1 7c			lda  (P8ZP_SCRATCH_W1),y
.246f	48			pha
.2470	a0 02			ldy  #2
.2472	ad 47 45		lda  p8_node
.2475	85 7c			sta  P8ZP_SCRATCH_W1
.2477	ad 48 45		lda  p8_node+1
.247a	85 7d			sta  P8ZP_SCRATCH_W1+1
.247c	b1 7c			lda  (P8ZP_SCRATCH_W1),y
.247e	a8			tay
.247f	68			pla
.2480	18			clc
.2481	69 08			adc  #<8
.2483	aa			tax
.2484	98			tya
.2485	69 00			adc  #>8
.2487	a8			tay
.2488	8a			txa
.2489	18			clc
.248a	6d 53 45		adc  p8_node_size
.248d	aa			tax
.248e	98			tya
.248f	6d 54 45		adc  p8_node_size+1
.2492	a8			tay
.2493	8a			txa
.2494	8d 5c 45		sta  p8_temp_result
.2497	8c 5d 45		sty  p8_temp_result+1
.249a	ad 47 45		lda  p8_node
.249d	85 7c			sta  P8ZP_SCRATCH_W1
.249f	ad 48 45		lda  p8_node+1
.24a2	85 7d			sta  P8ZP_SCRATCH_W1+1
.24a4	b2 7c			lda  (P8ZP_SCRATCH_W1)
.24a6	8d 59 45		sta  p8_temp_ptr+0
.24a9	ad 5c 45		lda  p8_temp_result
.24ac	8d 5a 45		sta  p8_temp_ptr+1
.24af	ad 5d 45		lda  p8_temp_result+1
.24b2	8d 5b 45		sta  p8_temp_ptr+2
.24b5	4c 0e 23		bra  p8_prog8_label_60_whileloop
.24b8			p8_prog8_label_61_afterwhile
.24b8	60			rts
>4545			p8_freemem	.word  ?
>4547			p8_node	.word  ?
>4549			p8_node_next	.fill  3
>454c			p8_node_next_size	.word  ?
>454e			p8_node_prev	.fill  3
>4551			p8_node_prev_size	.word  ?
>4553			p8_node_size	.word  ?
>4555			p8_pm	.word  ?
>4557			p8_temp_node_size	.word  ?
>4559			p8_temp_ptr	.fill  3
>455c			p8_temp_result	.word  ?
>455e			p8_totalnodes	.word  ?
.24b9			p8_insert_item
.24b9	ad 6e 45		lda  p8_root
.24bc	85 02			sta  cx16.r0
.24be	ad 6f 45		lda  p8_root+1
.24c1	85 03			sta  cx16.r0+1
.24c3	64 06			stz  cx16.r2
.24c5	64 07			stz  cx16.r2+1
.24c7	a9 70			lda  #<p8_xRoot+0
.24c9	85 04			sta  cx16.r1
.24cb	a9 45			lda  #>p8_xRoot+0
.24cd	85 05			sta  cx16.r1+1
.24cf	a2 03			ldx  #3
.24d1	20 c3 29		jsr  p8_struct.p8_get
.24d4	a9 70			lda  #<p8_xRoot+0
.24d6	85 02			sta  cx16.r0
.24d8	a9 45			lda  #>p8_xRoot+0
.24da	85 03			sta  cx16.r0+1
.24dc	a0 00		    ldy  #0
.24de	b1 02			lda  (cx16.r0),y
.24e0	c8			iny
.24e1	18			clc
.24e2	71 02			adc  (cx16.r0),y
.24e4	c8			iny
.24e5	18			clc
.24e6	71 02			adc  (cx16.r0),y
.24e8	f0 02			beq  +
.24ea	a9 01			lda  #1
.24ec			    +
.24ec	49 01		    eor  #1
.24ee	c9 00			cmp  #0
.24f0	f0 7e			beq  prog8_label_asm_20_if_end
.24f2	ad 66 45		lda  p8_node
.24f5	85 7c			sta  P8ZP_SCRATCH_W1
.24f7	ad 67 45		lda  p8_node+1
.24fa	85 7d			sta  P8ZP_SCRATCH_W1+1
.24fc	b2 7c			lda  (P8ZP_SCRATCH_W1)
.24fe	8d 70 45		sta  p8_xRoot+0
.2501	a0 01			ldy  #1
.2503	ad 66 45		lda  p8_node
.2506	85 7c			sta  P8ZP_SCRATCH_W1
.2508	ad 67 45		lda  p8_node+1
.250b	85 7d			sta  P8ZP_SCRATCH_W1+1
.250d	b1 7c			lda  (P8ZP_SCRATCH_W1),y
.250f	8d 71 45		sta  p8_xRoot+1
.2512	a0 02			ldy  #2
.2514	ad 66 45		lda  p8_node
.2517	85 7c			sta  P8ZP_SCRATCH_W1
.2519	ad 67 45		lda  p8_node+1
.251c	85 7d			sta  P8ZP_SCRATCH_W1+1
.251e	b1 7c			lda  (P8ZP_SCRATCH_W1),y
.2520	8d 72 45		sta  p8_xRoot+2
.2523	ad 66 45		lda  p8_node
.2526	ac 67 45		ldy  p8_node+1
.2529	8d 03 45		sta  p8_fmalloc_item.p8_prev_set.p8_ptr
.252c	8c 04 45		sty  p8_fmalloc_item.p8_prev_set.p8_ptr+1
.252f	a9 52			lda  #<p8_fptr.p8_NULL+0
.2531	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.2533	8d 05 45		sta  p8_fmalloc_item.p8_prev_set.p8_value
.2536	8c 06 45		sty  p8_fmalloc_item.p8_prev_set.p8_value+1
.2539	20 82 1a		jsr  p8_fmalloc_item.p8_prev_set
.253c	ad 66 45		lda  p8_node
.253f	ac 67 45		ldy  p8_node+1
.2542	8d fb 44		sta  p8_fmalloc_item.p8_next_set.p8_ptr
.2545	8c fc 44		sty  p8_fmalloc_item.p8_next_set.p8_ptr+1
.2548	a9 52			lda  #<p8_fptr.p8_NULL+0
.254a	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.254c	8d fd 44		sta  p8_fmalloc_item.p8_next_set.p8_value
.254f	8c fe 44		sty  p8_fmalloc_item.p8_next_set.p8_value+1
.2552	20 46 1a		jsr  p8_fmalloc_item.p8_next_set
.2555	ad 6e 45		lda  p8_root
.2558	85 02			sta  cx16.r0
.255a	ad 6f 45		lda  p8_root+1
.255d	85 03			sta  cx16.r0+1
.255f	64 06			stz  cx16.r2
.2561	64 07			stz  cx16.r2+1
.2563	a9 70			lda  #<p8_xRoot+0
.2565	85 04			sta  cx16.r1
.2567	a9 45			lda  #>p8_xRoot+0
.2569	85 05			sta  cx16.r1+1
.256b	a2 03			ldx  #3
.256d	4c b3 29		jmp  p8_struct.p8_set
.2570			prog8_label_asm_20_if_end
.2570	ad 66 45		lda  p8_node
.2573	85 02			sta  cx16.r0
.2575	ad 67 45		lda  p8_node+1
.2578	85 03			sta  cx16.r0+1
.257a	a9 70			lda  #<p8_xRoot+0
.257c	85 04			sta  cx16.r1
.257e	a9 45			lda  #>p8_xRoot+0
.2580	85 05			sta  cx16.r1+1
.2582	a0 00		    ldy #$00
.2584	b1 02		    lda(cx16.r0),y
.2586	d1 04		    cmp(cx16.r1),y
.2588	90 06		    bcc +                   ; r0[0] < r1[0]
.258a	f0 08		    beq ++                  ; r0[0] == r1[0]
.258c	a9 01		    lda  #1	                ; if it isn't < or == then it is >
.258e	80 2a		    bra +++++++
.2590			    +
.2590	a9 ff		    lda  #-1
.2592	80 26		    bra ++++++
.2594			    +
.2594	a0 02		    ldy #$02
.2596	b1 02		    lda(cx16.r0),y
.2598	d1 04		    cmp(cx16.r1),y
.259a	90 06		    bcc +                   ; r0[2] < r1[2]
.259c	f0 08		    beq ++                  ; r0[2] == r1[2]
.259e	a9 01		    lda  #1                 ; if it isn't < or == then it is >
.25a0	80 18		    bra +++++
.25a2			    +
.25a2	a9 ff		    lda  #-1
.25a4	80 14		    bra ++++
.25a6			    +
.25a6	a0 01		    ldy #$01
.25a8	b1 02		    lda(cx16.r0),y
.25aa	d1 04		    cmp(cx16.r1),y
.25ac	90 06		    bcc +                   ; r0[1] < r1[1]
.25ae	f0 08		    beq ++                  ; r0[1] == r1[1]
.25b0	a9 01		    lda  #1                 ; if it isn't < or == then it is >
.25b2	80 06			bra +++
.25b4			    +
.25b4	a9 ff		    lda  #-1
.25b6	80 02		    bra ++
.25b8			    +
.25b8	a9 00		    lda #0
.25ba			    +
.25ba	c9 ff			cmp  #-1
.25bc	f0 03			bne  prog8_label_asm_21_if_else
.25be	4c 72 26
.25c1	a9 70			lda  #<p8_xRoot+0
.25c3	85 02			sta  cx16.r0
.25c5	a9 45			lda  #>p8_xRoot+0
.25c7	85 03			sta  cx16.r0+1
.25c9	a9 6b			lda  #<p8_oldroot+0
.25cb	85 04			sta  cx16.r1
.25cd	a9 45			lda  #>p8_oldroot+0
.25cf	85 05			sta  cx16.r1+1
.25d1	a0 00			ldy  #>3
.25d3	a9 03			lda  #<3
.25d5	20 26 16		jsr  sys.memcopy
.25d8	a9 6b			lda  #<p8_oldroot+0
.25da	a0 45			ldy  #>p8_oldroot+0
.25dc	8d 03 45		sta  p8_fmalloc_item.p8_prev_set.p8_ptr
.25df	8c 04 45		sty  p8_fmalloc_item.p8_prev_set.p8_ptr+1
.25e2	ad 66 45		lda  p8_node
.25e5	ac 67 45		ldy  p8_node+1
.25e8	8d 05 45		sta  p8_fmalloc_item.p8_prev_set.p8_value
.25eb	8c 06 45		sty  p8_fmalloc_item.p8_prev_set.p8_value+1
.25ee	20 82 1a		jsr  p8_fmalloc_item.p8_prev_set
.25f1	ad 66 45		lda  p8_node
.25f4	ac 67 45		ldy  p8_node+1
.25f7	8d fb 44		sta  p8_fmalloc_item.p8_next_set.p8_ptr
.25fa	8c fc 44		sty  p8_fmalloc_item.p8_next_set.p8_ptr+1
.25fd	a9 6b			lda  #<p8_oldroot+0
.25ff	a0 45			ldy  #>p8_oldroot+0
.2601	8d fd 44		sta  p8_fmalloc_item.p8_next_set.p8_value
.2604	8c fe 44		sty  p8_fmalloc_item.p8_next_set.p8_value+1
.2607	20 46 1a		jsr  p8_fmalloc_item.p8_next_set
.260a	ad 66 45		lda  p8_node
.260d	ac 67 45		ldy  p8_node+1
.2610	8d 03 45		sta  p8_fmalloc_item.p8_prev_set.p8_ptr
.2613	8c 04 45		sty  p8_fmalloc_item.p8_prev_set.p8_ptr+1
.2616	a9 52			lda  #<p8_fptr.p8_NULL+0
.2618	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.261a	8d 05 45		sta  p8_fmalloc_item.p8_prev_set.p8_value
.261d	8c 06 45		sty  p8_fmalloc_item.p8_prev_set.p8_value+1
.2620	20 82 1a		jsr  p8_fmalloc_item.p8_prev_set
.2623	ad 66 45		lda  p8_node
.2626	85 7c			sta  P8ZP_SCRATCH_W1
.2628	ad 67 45		lda  p8_node+1
.262b	85 7d			sta  P8ZP_SCRATCH_W1+1
.262d	b2 7c			lda  (P8ZP_SCRATCH_W1)
.262f	8d 70 45		sta  p8_xRoot+0
.2632	a0 01			ldy  #1
.2634	ad 66 45		lda  p8_node
.2637	85 7c			sta  P8ZP_SCRATCH_W1
.2639	ad 67 45		lda  p8_node+1
.263c	85 7d			sta  P8ZP_SCRATCH_W1+1
.263e	b1 7c			lda  (P8ZP_SCRATCH_W1),y
.2640	8d 71 45		sta  p8_xRoot+1
.2643	a0 02			ldy  #2
.2645	ad 66 45		lda  p8_node
.2648	85 7c			sta  P8ZP_SCRATCH_W1
.264a	ad 67 45		lda  p8_node+1
.264d	85 7d			sta  P8ZP_SCRATCH_W1+1
.264f	b1 7c			lda  (P8ZP_SCRATCH_W1),y
.2651	8d 72 45		sta  p8_xRoot+2
.2654	ad 6e 45		lda  p8_root
.2657	85 02			sta  cx16.r0
.2659	ad 6f 45		lda  p8_root+1
.265c	85 03			sta  cx16.r0+1
.265e	64 06			stz  cx16.r2
.2660	64 07			stz  cx16.r2+1
.2662	a9 70			lda  #<p8_xRoot+0
.2664	85 04			sta  cx16.r1
.2666	a9 45			lda  #>p8_xRoot+0
.2668	85 05			sta  cx16.r1+1
.266a	a2 03			ldx  #3
.266c	20 b3 29		jsr  p8_struct.p8_set
.266f	4c 2e 28		bra  prog8_label_asm_22_if_end
.2672			prog8_label_asm_21_if_else
.2672	a9 70			lda  #<p8_xRoot+0
.2674	85 02			sta  cx16.r0
.2676	a9 45			lda  #>p8_xRoot+0
.2678	85 03			sta  cx16.r0+1
.267a	a9 60			lda  #<p8_current+0
.267c	85 04			sta  cx16.r1
.267e	a9 45			lda  #>p8_current+0
.2680	85 05			sta  cx16.r1+1
.2682	a0 00			ldy  #>3
.2684	a9 03			lda  #<3
.2686	20 26 16		jsr  sys.memcopy
.2689	a9 60			lda  #<p8_current+0
.268b	a0 45			ldy  #>p8_current+0
.268d	8d f7 44		sta  p8_fmalloc_item.p8_next_get.p8_ptr
.2690	8c f8 44		sty  p8_fmalloc_item.p8_next_get.p8_ptr+1
.2693	a9 63			lda  #<p8_current_next+0
.2695	a0 45			ldy  #>p8_current_next+0
.2697	8d f9 44		sta  p8_fmalloc_item.p8_next_get.p8_result
.269a	8c fa 44		sty  p8_fmalloc_item.p8_next_get.p8_result+1
.269d	20 27 1a		jsr  p8_fmalloc_item.p8_next_get
.26a0			p8_prog8_label_62_whileloop
.26a0	a9 63			lda  #<p8_current_next+0
.26a2	85 02			sta  cx16.r0
.26a4	a9 45			lda  #>p8_current_next+0
.26a6	85 03			sta  cx16.r0+1
.26a8	a0 00		    ldy  #0
.26aa	b1 02			lda  (cx16.r0),y
.26ac	c8			iny
.26ad	18			clc
.26ae	71 02			adc  (cx16.r0),y
.26b0	c8			iny
.26b1	18			clc
.26b2	71 02			adc  (cx16.r0),y
.26b4	f0 02			beq  +
.26b6	a9 01			lda  #1
.26b8			    +
.26b8	49 01		    eor  #1
.26ba	f0 02			beq  +
.26bc	a9 01			lda  #1
.26be	49 01		+                           eor  #1
.26c0	48			pha
.26c1	a9 63			lda  #<p8_current_next+0
.26c3	85 02			sta  cx16.r0
.26c5	a9 45			lda  #>p8_current_next+0
.26c7	85 03			sta  cx16.r0+1
.26c9	ad 66 45		lda  p8_node
.26cc	85 04			sta  cx16.r1
.26ce	ad 67 45		lda  p8_node+1
.26d1	85 05			sta  cx16.r1+1
.26d3	a0 00		    ldy #$00
.26d5	b1 02		    lda(cx16.r0),y
.26d7	d1 04		    cmp(cx16.r1),y
.26d9	90 06		    bcc +                   ; r0[0] < r1[0]
.26db	f0 08		    beq ++                  ; r0[0] == r1[0]
.26dd	a9 01		    lda  #1	                ; if it isn't < or == then it is >
.26df	80 2a		    bra +++++++
.26e1			    +
.26e1	a9 ff		    lda  #-1
.26e3	80 26		    bra ++++++
.26e5			    +
.26e5	a0 02		    ldy #$02
.26e7	b1 02		    lda(cx16.r0),y
.26e9	d1 04		    cmp(cx16.r1),y
.26eb	90 06		    bcc +                   ; r0[2] < r1[2]
.26ed	f0 08		    beq ++                  ; r0[2] == r1[2]
.26ef	a9 01		    lda  #1                 ; if it isn't < or == then it is >
.26f1	80 18		    bra +++++
.26f3			    +
.26f3	a9 ff		    lda  #-1
.26f5	80 14		    bra ++++
.26f7			    +
.26f7	a0 01		    ldy #$01
.26f9	b1 02		    lda(cx16.r0),y
.26fb	d1 04		    cmp(cx16.r1),y
.26fd	90 06		    bcc +                   ; r0[1] < r1[1]
.26ff	f0 08		    beq ++                  ; r0[1] == r1[1]
.2701	a9 01		    lda  #1                 ; if it isn't < or == then it is >
.2703	80 06			bra +++
.2705			    +
.2705	a9 ff		    lda  #-1
.2707	80 02		    bra ++
.2709			    +
.2709	a9 00		    lda #0
.270b			    +
.270b	c9 ff			cmp  #-1
.270d	f0 04			beq  +
.270f	a9 00			lda  #0
.2711	f0 02			beq  ++
.2713	a9 01		+                   lda  #1
.2715			+
.2715	85 7a			sta  P8ZP_SCRATCH_B1
.2717	68			pla
.2718	25 7a			and  P8ZP_SCRATCH_B1
.271a	f0 2c			beq  p8_prog8_label_63_afterwhile
.271c	ad 63 45		lda  p8_current_next+0
.271f	8d 60 45		sta  p8_current+0
.2722	ad 64 45		lda  p8_current_next+1
.2725	8d 61 45		sta  p8_current+1
.2728	ad 65 45		lda  p8_current_next+2
.272b	8d 62 45		sta  p8_current+2
.272e	a9 60			lda  #<p8_current+0
.2730	a0 45			ldy  #>p8_current+0
.2732	8d f7 44		sta  p8_fmalloc_item.p8_next_get.p8_ptr
.2735	8c f8 44		sty  p8_fmalloc_item.p8_next_get.p8_ptr+1
.2738	a9 63			lda  #<p8_current_next+0
.273a	a0 45			ldy  #>p8_current_next+0
.273c	8d f9 44		sta  p8_fmalloc_item.p8_next_get.p8_result
.273f	8c fa 44		sty  p8_fmalloc_item.p8_next_get.p8_result+1
.2742	20 27 1a		jsr  p8_fmalloc_item.p8_next_get
.2745	4c a0 26		bra  p8_prog8_label_62_whileloop
.2748			p8_prog8_label_63_afterwhile
.2748	a9 63			lda  #<p8_current_next+0
.274a	85 02			sta  cx16.r0
.274c	a9 45			lda  #>p8_current_next+0
.274e	85 03			sta  cx16.r0+1
.2750	a0 00		    ldy  #0
.2752	b1 02			lda  (cx16.r0),y
.2754	c8			iny
.2755	18			clc
.2756	71 02			adc  (cx16.r0),y
.2758	c8			iny
.2759	18			clc
.275a	71 02			adc  (cx16.r0),y
.275c	f0 02			beq  +
.275e	a9 01			lda  #1
.2760			    +
.2760	49 01		    eor  #1
.2762	c9 00			cmp  #0
.2764	f0 4d			beq  prog8_label_asm_23_if_else
.2766	ad 66 45		lda  p8_node
.2769	ac 67 45		ldy  p8_node+1
.276c	8d 03 45		sta  p8_fmalloc_item.p8_prev_set.p8_ptr
.276f	8c 04 45		sty  p8_fmalloc_item.p8_prev_set.p8_ptr+1
.2772	a9 60			lda  #<p8_current+0
.2774	a0 45			ldy  #>p8_current+0
.2776	8d 05 45		sta  p8_fmalloc_item.p8_prev_set.p8_value
.2779	8c 06 45		sty  p8_fmalloc_item.p8_prev_set.p8_value+1
.277c	20 82 1a		jsr  p8_fmalloc_item.p8_prev_set
.277f	ad 66 45		lda  p8_node
.2782	ac 67 45		ldy  p8_node+1
.2785	8d fb 44		sta  p8_fmalloc_item.p8_next_set.p8_ptr
.2788	8c fc 44		sty  p8_fmalloc_item.p8_next_set.p8_ptr+1
.278b	a9 52			lda  #<p8_fptr.p8_NULL+0
.278d	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.278f	8d fd 44		sta  p8_fmalloc_item.p8_next_set.p8_value
.2792	8c fe 44		sty  p8_fmalloc_item.p8_next_set.p8_value+1
.2795	20 46 1a		jsr  p8_fmalloc_item.p8_next_set
.2798	a9 60			lda  #<p8_current+0
.279a	a0 45			ldy  #>p8_current+0
.279c	8d fb 44		sta  p8_fmalloc_item.p8_next_set.p8_ptr
.279f	8c fc 44		sty  p8_fmalloc_item.p8_next_set.p8_ptr+1
.27a2	ad 66 45		lda  p8_node
.27a5	ac 67 45		ldy  p8_node+1
.27a8	8d fd 44		sta  p8_fmalloc_item.p8_next_set.p8_value
.27ab	8c fe 44		sty  p8_fmalloc_item.p8_next_set.p8_value+1
.27ae	20 46 1a		jsr  p8_fmalloc_item.p8_next_set
.27b1	80 7b			bra  prog8_label_asm_24_if_end
.27b3			prog8_label_asm_23_if_else
.27b3	a9 60			lda  #<p8_current+0
.27b5	a0 45			ldy  #>p8_current+0
.27b7	8d f7 44		sta  p8_fmalloc_item.p8_next_get.p8_ptr
.27ba	8c f8 44		sty  p8_fmalloc_item.p8_next_get.p8_ptr+1
.27bd	a9 68			lda  #<p8_oldnext+0
.27bf	a0 45			ldy  #>p8_oldnext+0
.27c1	8d f9 44		sta  p8_fmalloc_item.p8_next_get.p8_result
.27c4	8c fa 44		sty  p8_fmalloc_item.p8_next_get.p8_result+1
.27c7	20 27 1a		jsr  p8_fmalloc_item.p8_next_get
.27ca	a9 60			lda  #<p8_current+0
.27cc	a0 45			ldy  #>p8_current+0
.27ce	8d fb 44		sta  p8_fmalloc_item.p8_next_set.p8_ptr
.27d1	8c fc 44		sty  p8_fmalloc_item.p8_next_set.p8_ptr+1
.27d4	ad 66 45		lda  p8_node
.27d7	ac 67 45		ldy  p8_node+1
.27da	8d fd 44		sta  p8_fmalloc_item.p8_next_set.p8_value
.27dd	8c fe 44		sty  p8_fmalloc_item.p8_next_set.p8_value+1
.27e0	20 46 1a		jsr  p8_fmalloc_item.p8_next_set
.27e3	ad 66 45		lda  p8_node
.27e6	ac 67 45		ldy  p8_node+1
.27e9	8d 03 45		sta  p8_fmalloc_item.p8_prev_set.p8_ptr
.27ec	8c 04 45		sty  p8_fmalloc_item.p8_prev_set.p8_ptr+1
.27ef	a9 60			lda  #<p8_current+0
.27f1	a0 45			ldy  #>p8_current+0
.27f3	8d 05 45		sta  p8_fmalloc_item.p8_prev_set.p8_value
.27f6	8c 06 45		sty  p8_fmalloc_item.p8_prev_set.p8_value+1
.27f9	20 82 1a		jsr  p8_fmalloc_item.p8_prev_set
.27fc	ad 66 45		lda  p8_node
.27ff	ac 67 45		ldy  p8_node+1
.2802	8d fb 44		sta  p8_fmalloc_item.p8_next_set.p8_ptr
.2805	8c fc 44		sty  p8_fmalloc_item.p8_next_set.p8_ptr+1
.2808	a9 68			lda  #<p8_oldnext+0
.280a	a0 45			ldy  #>p8_oldnext+0
.280c	8d fd 44		sta  p8_fmalloc_item.p8_next_set.p8_value
.280f	8c fe 44		sty  p8_fmalloc_item.p8_next_set.p8_value+1
.2812	20 46 1a		jsr  p8_fmalloc_item.p8_next_set
.2815	a9 68			lda  #<p8_oldnext+0
.2817	a0 45			ldy  #>p8_oldnext+0
.2819	8d 03 45		sta  p8_fmalloc_item.p8_prev_set.p8_ptr
.281c	8c 04 45		sty  p8_fmalloc_item.p8_prev_set.p8_ptr+1
.281f	ad 66 45		lda  p8_node
.2822	ac 67 45		ldy  p8_node+1
.2825	8d 05 45		sta  p8_fmalloc_item.p8_prev_set.p8_value
.2828	8c 06 45		sty  p8_fmalloc_item.p8_prev_set.p8_value+1
.282b	20 82 1a		jsr  p8_fmalloc_item.p8_prev_set
.282e			prog8_label_asm_24_if_end
.282e			prog8_label_asm_22_if_end
.282e	60			rts
>4560			p8_current	.fill  3
>4563			p8_current_next	.fill  3
>4566			p8_node	.word  ?
>4568			p8_oldnext	.fill  3
>456b			p8_oldroot	.fill  3
>456e			p8_root	.word  ?
>4570			p8_xRoot	.fill  3
.282f			p8_remove_item
.282f	ad 73 45		lda  p8_node
.2832	ac 74 45		ldy  p8_node+1
.2835	8d f7 44		sta  p8_fmalloc_item.p8_next_get.p8_ptr
.2838	8c f8 44		sty  p8_fmalloc_item.p8_next_get.p8_ptr+1
.283b	a9 75			lda  #<p8_node_next+0
.283d	a0 45			ldy  #>p8_node_next+0
.283f	8d f9 44		sta  p8_fmalloc_item.p8_next_get.p8_result
.2842	8c fa 44		sty  p8_fmalloc_item.p8_next_get.p8_result+1
.2845	20 27 1a		jsr  p8_fmalloc_item.p8_next_get
.2848	ad 73 45		lda  p8_node
.284b	ac 74 45		ldy  p8_node+1
.284e	8d ff 44		sta  p8_fmalloc_item.p8_prev_get.p8_ptr
.2851	8c 00 45		sty  p8_fmalloc_item.p8_prev_get.p8_ptr+1
.2854	a9 78			lda  #<p8_node_prev+0
.2856	a0 45			ldy  #>p8_node_prev+0
.2858	8d 01 45		sta  p8_fmalloc_item.p8_prev_get.p8_result
.285b	8c 02 45		sty  p8_fmalloc_item.p8_prev_get.p8_result+1
.285e	20 65 1a		jsr  p8_fmalloc_item.p8_prev_get
.2861	ad 7b 45		lda  p8_root
.2864	85 02			sta  cx16.r0
.2866	ad 7c 45		lda  p8_root+1
.2869	85 03			sta  cx16.r0+1
.286b	64 06			stz  cx16.r2
.286d	64 07			stz  cx16.r2+1
.286f	a9 7d			lda  #<p8_xRoot+0
.2871	85 04			sta  cx16.r1
.2873	a9 45			lda  #>p8_xRoot+0
.2875	85 05			sta  cx16.r1+1
.2877	a2 03			ldx  #3
.2879	20 c3 29		jsr  p8_struct.p8_get
.287c	a9 78			lda  #<p8_node_prev+0
.287e	85 02			sta  cx16.r0
.2880	a9 45			lda  #>p8_node_prev+0
.2882	85 03			sta  cx16.r0+1
.2884	a0 00		    ldy  #0
.2886	b1 02			lda  (cx16.r0),y
.2888	c8			iny
.2889	18			clc
.288a	71 02			adc  (cx16.r0),y
.288c	c8			iny
.288d	18			clc
.288e	71 02			adc  (cx16.r0),y
.2890	f0 02			beq  +
.2892	a9 01			lda  #1
.2894			    +
.2894	49 01		    eor  #1
.2896	c9 00			cmp  #0
.2898	d0 17			bne  prog8_label_asm_25_if_end
.289a	a9 78			lda  #<p8_node_prev+0
.289c	a0 45			ldy  #>p8_node_prev+0
.289e	8d fb 44		sta  p8_fmalloc_item.p8_next_set.p8_ptr
.28a1	8c fc 44		sty  p8_fmalloc_item.p8_next_set.p8_ptr+1
.28a4	a9 75			lda  #<p8_node_next+0
.28a6	a0 45			ldy  #>p8_node_next+0
.28a8	8d fd 44		sta  p8_fmalloc_item.p8_next_set.p8_value
.28ab	8c fe 44		sty  p8_fmalloc_item.p8_next_set.p8_value+1
.28ae	20 46 1a		jsr  p8_fmalloc_item.p8_next_set
.28b1			prog8_label_asm_25_if_end
.28b1	a9 75			lda  #<p8_node_next+0
.28b3	85 02			sta  cx16.r0
.28b5	a9 45			lda  #>p8_node_next+0
.28b7	85 03			sta  cx16.r0+1
.28b9	a0 00		    ldy  #0
.28bb	b1 02			lda  (cx16.r0),y
.28bd	c8			iny
.28be	18			clc
.28bf	71 02			adc  (cx16.r0),y
.28c1	c8			iny
.28c2	18			clc
.28c3	71 02			adc  (cx16.r0),y
.28c5	f0 02			beq  +
.28c7	a9 01			lda  #1
.28c9			    +
.28c9	49 01		    eor  #1
.28cb	c9 00			cmp  #0
.28cd	d0 17			bne  prog8_label_asm_26_if_end
.28cf	a9 75			lda  #<p8_node_next+0
.28d1	a0 45			ldy  #>p8_node_next+0
.28d3	8d 03 45		sta  p8_fmalloc_item.p8_prev_set.p8_ptr
.28d6	8c 04 45		sty  p8_fmalloc_item.p8_prev_set.p8_ptr+1
.28d9	a9 78			lda  #<p8_node_prev+0
.28db	a0 45			ldy  #>p8_node_prev+0
.28dd	8d 05 45		sta  p8_fmalloc_item.p8_prev_set.p8_value
.28e0	8c 06 45		sty  p8_fmalloc_item.p8_prev_set.p8_value+1
.28e3	20 82 1a		jsr  p8_fmalloc_item.p8_prev_set
.28e6			prog8_label_asm_26_if_end
.28e6	ad 73 45		lda  p8_node
.28e9	85 02			sta  cx16.r0
.28eb	ad 74 45		lda  p8_node+1
.28ee	85 03			sta  cx16.r0+1
.28f0	a9 7d			lda  #<p8_xRoot+0
.28f2	85 04			sta  cx16.r1
.28f4	a9 45			lda  #>p8_xRoot+0
.28f6	85 05			sta  cx16.r1+1
.28f8	a0 00		    ldy  #0
.28fa	b1 02			lda  (cx16.r0),y
.28fc	d1 04		    cmp  (cx16.r1),y
.28fe	d0 12		    bne +
.2900	c8			iny
.2901	b1 02			lda  (cx16.r0),y
.2903	d1 04		    cmp  (cx16.r1),y
.2905	d0 0b		    bne +
.2907	c8			iny
.2908	b1 02			lda  (cx16.r0),y
.290a	d1 04		    cmp  (cx16.r1),y
.290c	d0 04		    bne +
.290e	a9 01			lda #1
.2910	80 02		    bra ++
.2912			    +
.2912	a9 00		    lda #0
.2914			    +
.2914	c9 00			cmp  #0
.2916	f0 69			beq  prog8_label_asm_27_if_end
.2918	a9 78			lda  #<p8_node_prev+0
.291a	85 02			sta  cx16.r0
.291c	a9 45			lda  #>p8_node_prev+0
.291e	85 03			sta  cx16.r0+1
.2920	a0 00		    ldy  #0
.2922	b1 02			lda  (cx16.r0),y
.2924	c8			iny
.2925	18			clc
.2926	71 02			adc  (cx16.r0),y
.2928	c8			iny
.2929	18			clc
.292a	71 02			adc  (cx16.r0),y
.292c	f0 02			beq  +
.292e	a9 01			lda  #1
.2930			    +
.2930	49 01		    eor  #1
.2932	c9 00			cmp  #0
.2934	d0 19			bne  prog8_label_asm_28_if_else
.2936	a9 78			lda  #<p8_node_prev+0
.2938	85 02			sta  cx16.r0
.293a	a9 45			lda  #>p8_node_prev+0
.293c	85 03			sta  cx16.r0+1
.293e	a9 7d			lda  #<p8_xRoot+0
.2940	85 04			sta  cx16.r1
.2942	a9 45			lda  #>p8_xRoot+0
.2944	85 05			sta  cx16.r1+1
.2946	a0 00			ldy  #>3
.2948	a9 03			lda  #<3
.294a	20 26 16		jsr  sys.memcopy
.294d	80 17			bra  prog8_label_asm_29_if_end
.294f			prog8_label_asm_28_if_else
.294f	a9 75			lda  #<p8_node_next+0
.2951	85 02			sta  cx16.r0
.2953	a9 45			lda  #>p8_node_next+0
.2955	85 03			sta  cx16.r0+1
.2957	a9 7d			lda  #<p8_xRoot+0
.2959	85 04			sta  cx16.r1
.295b	a9 45			lda  #>p8_xRoot+0
.295d	85 05			sta  cx16.r1+1
.295f	a0 00			ldy  #>3
.2961	a9 03			lda  #<3
.2963	20 26 16		jsr  sys.memcopy
.2966			prog8_label_asm_29_if_end
.2966	ad 7b 45		lda  p8_root
.2969	85 02			sta  cx16.r0
.296b	ad 7c 45		lda  p8_root+1
.296e	85 03			sta  cx16.r0+1
.2970	64 06			stz  cx16.r2
.2972	64 07			stz  cx16.r2+1
.2974	a9 7d			lda  #<p8_xRoot+0
.2976	85 04			sta  cx16.r1
.2978	a9 45			lda  #>p8_xRoot+0
.297a	85 05			sta  cx16.r1+1
.297c	a2 03			ldx  #3
.297e	20 b3 29		jsr  p8_struct.p8_set
.2981			prog8_label_asm_27_if_end
.2981	ad 73 45		lda  p8_node
.2984	ac 74 45		ldy  p8_node+1
.2987	8d fb 44		sta  p8_fmalloc_item.p8_next_set.p8_ptr
.298a	8c fc 44		sty  p8_fmalloc_item.p8_next_set.p8_ptr+1
.298d	a9 52			lda  #<p8_fptr.p8_NULL+0
.298f	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.2991	8d fd 44		sta  p8_fmalloc_item.p8_next_set.p8_value
.2994	8c fe 44		sty  p8_fmalloc_item.p8_next_set.p8_value+1
.2997	20 46 1a		jsr  p8_fmalloc_item.p8_next_set
.299a	ad 73 45		lda  p8_node
.299d	ac 74 45		ldy  p8_node+1
.29a0	8d 03 45		sta  p8_fmalloc_item.p8_prev_set.p8_ptr
.29a3	8c 04 45		sty  p8_fmalloc_item.p8_prev_set.p8_ptr+1
.29a6	a9 52			lda  #<p8_fptr.p8_NULL+0
.29a8	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.29aa	8d 05 45		sta  p8_fmalloc_item.p8_prev_set.p8_value
.29ad	8c 06 45		sty  p8_fmalloc_item.p8_prev_set.p8_value+1
.29b0	4c 82 1a		jmp  p8_fmalloc_item.p8_prev_set
>4573			p8_node	.word  ?
>4575			p8_node_next	.fill  3
>4578			p8_node_prev	.fill  3
>457b			p8_root	.word  ?
>457d			p8_xRoot	.fill  3
.29b3			p8_struct
.29b3			p8_set
.29b3			    -
.29b3	a4 07		    ldy cx16.r2H
.29b5	b1 04		    lda(cx16.r1),y
.29b7	a4 06		    ldy cx16.r2L
.29b9	91 02		    sta(cx16.r0),y
.29bb	e6 06		    inc cx16.r2L
.29bd	e6 07		    inc cx16.r2H
.29bf	ca		    dex
.29c0	d0 f1		    bne -
.29c2	60		  rts
.29c3			p8_get
.29c3			    -
.29c3	a4 06		    ldy cx16.r2L
.29c5	b1 02		    lda(cx16.r0),y
.29c7	a4 07		    ldy cx16.r2H
.29c9	91 04		    sta(cx16.r1),y
.29cb	e6 06		    inc cx16.r2L
.29cd	e6 07		    inc cx16.r2H
.29cf	ca		    dex
.29d0	d0 f1		    bne -
.29d2	60		  rts
.29d3			p8_set_w
.29d3	5a		    phy
.29d4	a0 00		    ldy #$00
.29d6	b1 04		    lda(cx16.r1),y
.29d8	7a		    ply
.29d9	91 02		    sta(cx16.r0),y
.29db	c8		    iny
.29dc	5a		    phy
.29dd	a0 01		    ldy #$01
.29df	b1 04		    lda(cx16.r1),y
.29e1	7a		    ply
.29e2	91 02		    sta(cx16.r0),y
.29e4	60		  rts
.29e5			p8_set_wi
.29e5	a5 04		    lda cx16.r1
.29e7	91 02		    sta(cx16.r0),y
.29e9	c8		    iny
.29ea	a5 05		    lda cx16.r1 + 1
.29ec	91 02		    sta(cx16.r0),y
.29ee	60		  rts
.29ef			p8_get_w
.29ef	b1 02		    lda(cx16.r0),y
.29f1	5a		    phy
.29f2	a0 00		    ldy #$00
.29f4	91 04		    sta(cx16.r1),y
.29f6	7a		    ply
.29f7	c8		    iny
.29f8	b1 02		    lda(cx16.r0),y
.29fa	a0 01		    ldy #$01
.29fc	91 04		    sta(cx16.r1),y
.29fe	60		  rts
.29ff			p8_ptr
=0				p8_NULL = 0
.29ff			p8_set_w
.29ff	a0 00		    ldy #$00
.2a01	b1 04		    lda(cx16.r1),y
.2a03	91 02		    sta(cx16.r0),y
.2a05	c8		    iny
.2a06	b1 04		    lda(cx16.r1),y
.2a08	91 02		    sta(cx16.r0),y
.2a0a	60		  rts
.2a0b			p8_get_w
.2a0b	a0 00		    ldy #$00
.2a0d	b1 02		    lda(cx16.r0),y
.2a0f	91 04		    sta(cx16.r1),y
.2a11	c8		    iny
.2a12	b1 02		    lda(cx16.r0),y
.2a14	91 04		    sta(cx16.r1),y
.2a16	60		  rts
.2a17			p8_fstruct
.2a17			p8_set_zfp
.2a17	a5 00		        lda $00
.2a19	48		        pha
.2a1a	a0 00		        ldy #$00
.2a1c	b1 02		        lda (cx16.r0),y
.2a1e	85 00		        sta $00
.2a20	c8		        iny
.2a21	b1 02		        lda (cx16.r0),y
.2a23	85 08		        sta cx16.r3L
.2a25	c8		        iny
.2a26	b1 02		        lda (cx16.r0),y
.2a28	85 09		        sta cx16.r3H
.2a2a	a9 00		        lda #$00
.2a2c	a4 06		        ldy cx16.r2L
.2a2e	91 08		        sta (cx16.r3), y
.2a30	c8		        iny
.2a31	91 08		        sta (cx16.r3), y
.2a33	c8		        iny
.2a34	91 08		        sta (cx16.r3), y
.2a36	68		        pla
.2a37	85 00		        sta $00
.2a39	60		  rts
.2a3a			p8_set
.2a3a	a5 00		        lda $00
.2a3c	85 0a		        sta cx16.r4L
.2a3e	a0 00		        ldy #$00
.2a40	b1 02		        lda (cx16.r0),y
.2a42	85 0b		        sta cx16.r4H
.2a44	c8		        iny
.2a45	b1 02		        lda (cx16.r0),y
.2a47	85 08		        sta cx16.r3L
.2a49	c8		        iny
.2a4a	b1 02		        lda (cx16.r0),y
.2a4c	85 09		        sta cx16.r3H
.2a4e			        -
.2a4e	a5 0a		        lda cx16.r4L
.2a50	85 00		        sta $00
.2a52	a4 07		        ldy cx16.r2H
.2a54	b1 04		        lda(cx16.r1),y
.2a56	48		        pha
.2a57	a5 0b		        lda cx16.r4H
.2a59	85 00		        sta $00
.2a5b	68		        pla
.2a5c	a4 06		        ldy cx16.r2L
.2a5e	91 08		        sta(cx16.r3),y
.2a60	e6 06		        inc cx16.r2L
.2a62	e6 07		        inc cx16.r2H
.2a64	ca		        dex
.2a65	d0 e7		        bne -
.2a67	a5 0a		        lda cx16.r4L
.2a69	85 00		        sta $00
.2a6b	60		  rts
.2a6c			p8_get
.2a6c	a5 00		        lda $00
.2a6e	85 0a		        sta cx16.r4L
.2a70	a0 00		        ldy #$00
.2a72	b1 02		        lda (cx16.r0),y
.2a74	85 0b		        sta cx16.r4H
.2a76	c8		        iny
.2a77	b1 02		        lda (cx16.r0),y
.2a79	85 08		        sta cx16.r3L
.2a7b	c8		        iny
.2a7c	b1 02		        lda (cx16.r0),y
.2a7e	85 09		        sta cx16.r3H
.2a80			        -
.2a80	a5 0b		        lda cx16.r4H
.2a82	85 00		        sta $00
.2a84	a4 06		        ldy cx16.r2L
.2a86	b1 08		        lda(cx16.r3),y
.2a88	48		        pha
.2a89	a5 0a		        lda cx16.r4L
.2a8b	85 00		        sta $00
.2a8d	68		        pla
.2a8e	a4 07		        ldy cx16.r2H
.2a90	91 04		        sta(cx16.r1),y
.2a92	e6 06		        inc cx16.r2L
.2a94	e6 07		        inc cx16.r2H
.2a96	ca		        dex
.2a97	d0 e7		        bne -
.2a99	a5 0a		        lda cx16.r4L
.2a9b	85 00		        sta $00
.2a9d	60		  rts
.2a9e			p8_set_w
.2a9e	a5 00		        lda $00
.2aa0	85 0a		        sta cx16.r4L
.2aa2	5a		        phy
.2aa3	a0 00		        ldy #$00
.2aa5	b1 02		        lda (cx16.r0),y
.2aa7	85 0b		        sta cx16.r4H
.2aa9	c8		        iny
.2aaa	b1 02		        lda (cx16.r0),y
.2aac	85 06		        sta cx16.r2L
.2aae	c8		        iny
.2aaf	b1 02		        lda (cx16.r0),y
.2ab1	85 07		        sta cx16.r2H
.2ab3	a5 0a		        lda cx16.r4L
.2ab5	85 00		        sta $00
.2ab7	a0 00		        ldy #$00
.2ab9	b1 04		        lda(cx16.r1),y
.2abb	48		        pha
.2abc	a5 0b		        lda cx16.r4H
.2abe	85 00		        sta $00
.2ac0	68		        pla
.2ac1	7a		        ply
.2ac2	91 06		        sta(cx16.r2),y
.2ac4	a5 0a		        lda cx16.r4L
.2ac6	85 00		        sta $00
.2ac8	c8		        iny
.2ac9	5a		        phy
.2aca	a0 01		        ldy #$01
.2acc	b1 04		        lda(cx16.r1),y
.2ace	48		        pha
.2acf	a5 0b		        lda cx16.r4H
.2ad1	85 00		        sta $00
.2ad3	68		        pla
.2ad4	7a		        ply
.2ad5	91 06		        sta(cx16.r2),y
.2ad7	a5 0a		        lda cx16.r4L
.2ad9	85 00		        sta $00
.2adb	60		  rts
.2adc			p8_set_wi
.2adc	a5 00		        lda $00
.2ade	85 0a		        sta cx16.r4L
.2ae0	5a		        phy
.2ae1	a0 00		        ldy #$00
.2ae3	b1 02		        lda (cx16.r0),y
.2ae5	85 0b		        sta cx16.r4H
.2ae7	c8		        iny
.2ae8	b1 02		        lda (cx16.r0),y
.2aea	85 06		        sta cx16.r2L
.2aec	c8		        iny
.2aed	b1 02		        lda (cx16.r0),y
.2aef	85 07		        sta cx16.r2H
.2af1	a5 0a		        lda cx16.r4L
.2af3	85 00		        sta $00
.2af5	7a		        ply
.2af6	a5 04		        lda cx16.r1
.2af8	48		        pha
.2af9	a5 0b		        lda cx16.r4H
.2afb	85 00		        sta $00
.2afd	68		        pla
.2afe	91 06		        sta(cx16.r2),y
.2b00	a5 0a		        lda cx16.r4L
.2b02	85 00		        sta $00
.2b04	c8		        iny
.2b05	a5 05		        lda cx16.r1 + 1
.2b07	48		        pha
.2b08	a5 0b		        lda cx16.r4H
.2b0a	85 00		        sta $00
.2b0c	68		        pla
.2b0d	91 06		        sta(cx16.r2),y
.2b0f	a5 0a		        lda cx16.r4L
.2b11	85 00		        sta $00
.2b13	60		  rts
.2b14			p8_get_w
.2b14	a5 00		        lda $00
.2b16	85 0a		        sta cx16.r4L
.2b18	5a		        phy
.2b19	a0 00		        ldy #$00
.2b1b	b1 02		        lda (cx16.r0),y
.2b1d	85 0b		        sta cx16.r4H
.2b1f	c8		        iny
.2b20	b1 02		        lda (cx16.r0),y
.2b22	85 06		        sta cx16.r2L
.2b24	c8		        iny
.2b25	b1 02		        lda (cx16.r0),y
.2b27	85 07		        sta cx16.r2H
.2b29	a5 0b		        lda cx16.r4H
.2b2b	85 00		        sta $00
.2b2d	7a		        ply
.2b2e	b1 06		        lda (cx16.r2),y
.2b30	c8		        iny
.2b31	5a		        phy
.2b32	48		        pha
.2b33	a5 0a		        lda cx16.r4L
.2b35	85 00		        sta $00
.2b37	68		        pla
.2b38	a0 00		        ldy #$00
.2b3a	91 04		        sta (cx16.r1),y
.2b3c	a5 0b		        lda cx16.r4H
.2b3e	85 00		        sta $00
.2b40	7a		        ply
.2b41	b1 06		        lda (cx16.r2),y
.2b43	48		        pha
.2b44	a5 0a		        lda cx16.r4L
.2b46	85 00		        sta $00
.2b48	68		        pla
.2b49	a0 01		        ldy #$01
.2b4b	91 04		        sta (cx16.r1),y
.2b4d	a5 0a		        lda cx16.r4L
.2b4f	85 00		        sta $00
.2b51	60		  rts
.2b52			p8_fptr
=3				p8_SIZEOF_FPTR = 3
=0				p8_compare_equal = 0
=1				p8_compare_greater = 1
=-1				p8_compare_less = -1
>2b52	00 00 00	p8_NULL	.char  $00, $00, $00
.2b55			p8_set
.2b55	a5 00		        lda $00
.2b57	48		        pha
.2b58	a0 00		        ldy #$00
.2b5a	b1 02		        lda(cx16.r0),y
.2b5c	85 00		        sta $00
.2b5e	c8		        iny
.2b5f	b1 02		        lda(cx16.r0),y
.2b61	85 06		        sta cx16.r2L
.2b63	c8		        iny
.2b64	b1 02		        lda(cx16.r0),y
.2b66	85 07		        sta cx16.r2H
.2b68	a0 00		        ldy #$00
.2b6a	b1 04		        lda(cx16.r1),y
.2b6c	91 06		        sta(cx16.r2),y
.2b6e	c8		        iny
.2b6f	b1 04		        lda(cx16.r1),y
.2b71	91 06		        sta(cx16.r2),y
.2b73	c8		        iny
.2b74	b1 04		        lda(cx16.r1),y
.2b76	91 06		        sta(cx16.r2),y
.2b78	68		        pla
.2b79	85 00		        sta $00
.2b7b	60		  rts
.2b7c			p8_get
.2b7c	a5 00		        lda $00
.2b7e	48		        pha
.2b7f	a0 00		        ldy #$00
.2b81	b1 02		        lda (cx16.r0),y
.2b83	85 00		        sta $00
.2b85	c8		        iny
.2b86	b1 02		        lda (cx16.r0),y
.2b88	85 06		        sta cx16.r2L
.2b8a	c8		        iny
.2b8b	b1 02		        lda (cx16.r0),y
.2b8d	85 07		        sta cx16.r2H
.2b8f	a0 00		        ldy #$00
.2b91	b1 06		        lda(cx16.r2),y
.2b93	91 04		        sta(cx16.r1),y
.2b95	c8		        iny
.2b96	b1 06		        lda(cx16.r2),y
.2b98	91 04		        sta(cx16.r1),y
.2b9a	c8		        iny
.2b9b	b1 06		        lda(cx16.r2),y
.2b9d	91 04		        sta(cx16.r1),y
.2b9f	68		        pla
.2ba0	85 00		        sta $00
.2ba2	60		  rts
.2ba3			p8_memcopy_in
.2ba3	a5 00		        lda $00
.2ba5	48		        pha
.2ba6	a0 00		        ldy #$00
.2ba8	b1 02		        lda (cx16.r0),y
.2baa	85 00		        sta $00
.2bac	c8		        iny
.2bad	b1 02		        lda (cx16.r0),y
.2baf	85 06		        sta cx16.r2L
.2bb1	c8		        iny
.2bb2	b1 02		        lda (cx16.r0),y
.2bb4	85 07		        sta cx16.r2H
.2bb6	a0 00		        ldy #$00
.2bb8			        -
.2bb8	b1 04		        lda (cx16.r1),y
.2bba	91 06		        sta (cx16.r2),y
.2bbc	c8		        iny
.2bbd	ca		        dex
.2bbe	d0 f8		        bne -
.2bc0	68		        pla
.2bc1	85 00		        sta $00
.2bc3	60		  rts
.2bc4			p8_memcopy_out
.2bc4	a5 00		        lda $00
.2bc6	48		        pha
.2bc7	a0 00		        ldy #$00
.2bc9	b1 02		        lda (cx16.r0),y
.2bcb	85 00		        sta $00
.2bcd	c8		        iny
.2bce	b1 02		        lda (cx16.r0),y
.2bd0	85 06		        sta cx16.r2L
.2bd2	c8		        iny
.2bd3	b1 02		        lda (cx16.r0),y
.2bd5	85 07		        sta cx16.r2H
.2bd7	a0 00		        ldy #$00
.2bd9			        -
.2bd9	b1 06		        lda (cx16.r2),y
.2bdb	91 04		        sta (cx16.r1),y
.2bdd	c8		        iny
.2bde	ca		        dex
.2bdf	d0 f8		        bne -
.2be1	68		        pla
.2be2	85 00		        sta $00
.2be4	60		  rts
.2be5			p8_pmalloc
=2				p8_PMALLOC_ITEM_next = 2
=0				p8_PMALLOC_ITEM_prev = 0
=4				p8_PMALLOC_ITEM_size = 4
=2				p8_PMALLOC_assigned = 2
=0				p8_PMALLOC_available = 0
=4				p8_PMALLOC_freemem = 4
=6				p8_PMALLOC_totalmem = 6
=8				p8_PMALLOC_totalnodes = 8
=10				p8_SIZEOF_PMALLOC = 10
=6				p8_SIZEOF_PMALLOC_ITEM = 6
.2be5			p8_init
.2be5	8d 80 45		sta  p8_pm
.2be8	8c 81 45		sty  p8_pm+1
.2beb	85 02			sta  cx16.r0
.2bed	ad 81 45		lda  p8_pm+1
.2bf0	85 03			sta  cx16.r0+1
.2bf2	64 04			stz  cx16.r1
.2bf4	64 05			stz  cx16.r1+1
.2bf6	a0 00			ldy  #0
.2bf8	20 e5 29		jsr  p8_struct.p8_set_wi
.2bfb	ad 80 45		lda  p8_pm
.2bfe	85 02			sta  cx16.r0
.2c00	ad 81 45		lda  p8_pm+1
.2c03	85 03			sta  cx16.r0+1
.2c05	64 04			stz  cx16.r1
.2c07	64 05			stz  cx16.r1+1
.2c09	a0 02			ldy  #2
.2c0b	20 e5 29		jsr  p8_struct.p8_set_wi
.2c0e	ad 80 45		lda  p8_pm
.2c11	85 02			sta  cx16.r0
.2c13	ad 81 45		lda  p8_pm+1
.2c16	85 03			sta  cx16.r0+1
.2c18	64 04			stz  cx16.r1
.2c1a	64 05			stz  cx16.r1+1
.2c1c	a0 04			ldy  #4
.2c1e	20 e5 29		jsr  p8_struct.p8_set_wi
.2c21	ad 80 45		lda  p8_pm
.2c24	85 02			sta  cx16.r0
.2c26	ad 81 45		lda  p8_pm+1
.2c29	85 03			sta  cx16.r0+1
.2c2b	64 04			stz  cx16.r1
.2c2d	64 05			stz  cx16.r1+1
.2c2f	a0 06			ldy  #6
.2c31	20 e5 29		jsr  p8_struct.p8_set_wi
.2c34	ad 80 45		lda  p8_pm
.2c37	85 02			sta  cx16.r0
.2c39	ad 81 45		lda  p8_pm+1
.2c3c	85 03			sta  cx16.r0+1
.2c3e	64 04			stz  cx16.r1
.2c40	64 05			stz  cx16.r1+1
.2c42	a0 08			ldy  #8
.2c44	4c e5 29		jmp  p8_struct.p8_set_wi
>4580			p8_pm	.word  ?
.2c47			p8_addblock
.2c47	ac 89 45		ldy  p8_size+1
.2c4a	ad 88 45		lda  p8_size
.2c4d	38			sec
.2c4e	e9 06			sbc  #<6
.2c50	aa			tax
.2c51	98			tya
.2c52	e9 00			sbc  #>6
.2c54	a8			tay
.2c55	8a			txa
.2c56	8d 8e 45		sta  p8_usableSize
.2c59	8c 8f 45		sty  p8_usableSize+1
.2c5c	ad 86 45		lda  p8_ptr
.2c5f	85 02			sta  cx16.r0
.2c61	ad 87 45		lda  p8_ptr+1
.2c64	85 03			sta  cx16.r0+1
.2c66	a9 8e			lda  #<p8_usableSize+0
.2c68	85 04			sta  cx16.r1
.2c6a	a9 45			lda  #>p8_usableSize+0
.2c6c	85 05			sta  cx16.r1+1
.2c6e	a0 04			ldy  #4
.2c70	20 d3 29		jsr  p8_struct.p8_set_w
.2c73	9c 82 45		stz  p8_freemem
.2c76	9c 83 45		stz  p8_freemem+1
.2c79	ad 84 45		lda  p8_pm
.2c7c	85 02			sta  cx16.r0
.2c7e	ad 85 45		lda  p8_pm+1
.2c81	85 03			sta  cx16.r0+1
.2c83	a9 82			lda  #<p8_freemem+0
.2c85	85 04			sta  cx16.r1
.2c87	a9 45			lda  #>p8_freemem+0
.2c89	85 05			sta  cx16.r1+1
.2c8b	a0 04			ldy  #4
.2c8d	20 ef 29		jsr  p8_struct.p8_get_w
.2c90	ad 82 45		lda  p8_freemem
.2c93	18			clc
.2c94	6d 8e 45		adc  p8_usableSize
.2c97	8d 82 45		sta  p8_freemem
.2c9a	ad 83 45		lda  p8_freemem+1
.2c9d	6d 8f 45		adc  p8_usableSize+1
.2ca0	8d 83 45		sta  p8_freemem+1
.2ca3	ad 84 45		lda  p8_pm
.2ca6	85 02			sta  cx16.r0
.2ca8	ad 85 45		lda  p8_pm+1
.2cab	85 03			sta  cx16.r0+1
.2cad	a9 82			lda  #<p8_freemem+0
.2caf	85 04			sta  cx16.r1
.2cb1	a9 45			lda  #>p8_freemem+0
.2cb3	85 05			sta  cx16.r1+1
.2cb5	a0 04			ldy  #4
.2cb7	20 d3 29		jsr  p8_struct.p8_set_w
.2cba	9c 8a 45		stz  p8_totalmem
.2cbd	9c 8b 45		stz  p8_totalmem+1
.2cc0	ad 84 45		lda  p8_pm
.2cc3	85 02			sta  cx16.r0
.2cc5	ad 85 45		lda  p8_pm+1
.2cc8	85 03			sta  cx16.r0+1
.2cca	a9 8a			lda  #<p8_totalmem+0
.2ccc	85 04			sta  cx16.r1
.2cce	a9 45			lda  #>p8_totalmem+0
.2cd0	85 05			sta  cx16.r1+1
.2cd2	a0 06			ldy  #6
.2cd4	20 ef 29		jsr  p8_struct.p8_get_w
.2cd7	ad 8a 45		lda  p8_totalmem
.2cda	18			clc
.2cdb	6d 8e 45		adc  p8_usableSize
.2cde	8d 8a 45		sta  p8_totalmem
.2ce1	ad 8b 45		lda  p8_totalmem+1
.2ce4	6d 8f 45		adc  p8_usableSize+1
.2ce7	8d 8b 45		sta  p8_totalmem+1
.2cea	ad 84 45		lda  p8_pm
.2ced	85 02			sta  cx16.r0
.2cef	ad 85 45		lda  p8_pm+1
.2cf2	85 03			sta  cx16.r0+1
.2cf4	a9 8a			lda  #<p8_totalmem+0
.2cf6	85 04			sta  cx16.r1
.2cf8	a9 45			lda  #>p8_totalmem+0
.2cfa	85 05			sta  cx16.r1+1
.2cfc	a0 06			ldy  #6
.2cfe	20 d3 29		jsr  p8_struct.p8_set_w
.2d01	ad 84 45		lda  p8_pm
.2d04	ac 85 45		ldy  p8_pm+1
.2d07	8d ba 45		sta  p8_pmalloc.p8_insert_item.p8_root
.2d0a	8c bb 45		sty  p8_pmalloc.p8_insert_item.p8_root+1
.2d0d	ad 86 45		lda  p8_ptr
.2d10	ac 87 45		ldy  p8_ptr+1
.2d13	8d b4 45		sta  p8_pmalloc.p8_insert_item.p8_node
.2d16	8c b5 45		sty  p8_pmalloc.p8_insert_item.p8_node+1
.2d19	20 d3 32		jsr  p8_pmalloc.p8_insert_item
.2d1c	9c 8c 45		stz  p8_totalnodes
.2d1f	9c 8d 45		stz  p8_totalnodes+1
.2d22	ad 84 45		lda  p8_pm
.2d25	85 02			sta  cx16.r0
.2d27	ad 85 45		lda  p8_pm+1
.2d2a	85 03			sta  cx16.r0+1
.2d2c	a9 8c			lda  #<p8_totalnodes+0
.2d2e	85 04			sta  cx16.r1
.2d30	a9 45			lda  #>p8_totalnodes+0
.2d32	85 05			sta  cx16.r1+1
.2d34	a0 08			ldy  #8
.2d36	20 ef 29		jsr  p8_struct.p8_get_w
.2d39	ee 8c 45		inc  p8_totalnodes
.2d3c	d0 03			bne  +
.2d3e	ee 8d 45		inc  p8_totalnodes+1
.2d41			+
.2d41	ad 84 45		lda  p8_pm
.2d44	85 02			sta  cx16.r0
.2d46	ad 85 45		lda  p8_pm+1
.2d49	85 03			sta  cx16.r0+1
.2d4b	a9 8c			lda  #<p8_totalnodes+0
.2d4d	85 04			sta  cx16.r1
.2d4f	a9 45			lda  #>p8_totalnodes+0
.2d51	85 05			sta  cx16.r1+1
.2d53	a0 08			ldy  #8
.2d55	4c d3 29		jmp  p8_struct.p8_set_w
>4582			p8_freemem	.word  ?
>4584			p8_pm	.word  ?
>4586			p8_ptr	.word  ?
>4588			p8_size	.word  ?
>458a			p8_totalmem	.word  ?
>458c			p8_totalnodes	.word  ?
>458e			p8_usableSize	.word  ?
.2d58			p8_malloc
.2d58	9c 9e 45		stz  p8_totalnodes
.2d5b	9c 9f 45		stz  p8_totalnodes+1
.2d5e	9c 92 45		stz  p8_current_next
.2d61	9c 93 45		stz  p8_current_next+1
.2d64	9c 90 45		stz  p8_current
.2d67	9c 91 45		stz  p8_current+1
.2d6a	9c 94 45		stz  p8_current_size
.2d6d	9c 95 45		stz  p8_current_size+1
.2d70	9c 96 45		stz  p8_freemem
.2d73	9c 97 45		stz  p8_freemem+1
.2d76	ad 9a 45		lda  p8_pm
.2d79	85 02			sta  cx16.r0
.2d7b	ad 9b 45		lda  p8_pm+1
.2d7e	85 03			sta  cx16.r0+1
.2d80	a9 90			lda  #<p8_current+0
.2d82	85 04			sta  cx16.r1
.2d84	a9 45			lda  #>p8_current+0
.2d86	85 05			sta  cx16.r1+1
.2d88	a0 00			ldy  #0
.2d8a	20 ef 29		jsr  p8_struct.p8_get_w
.2d8d	ad 90 45		lda  p8_current
.2d90	85 02			sta  cx16.r0
.2d92	ad 91 45		lda  p8_current+1
.2d95	85 03			sta  cx16.r0+1
.2d97	a9 94			lda  #<p8_current_size+0
.2d99	85 04			sta  cx16.r1
.2d9b	a9 45			lda  #>p8_current_size+0
.2d9d	85 05			sta  cx16.r1+1
.2d9f	a0 04			ldy  #4
.2da1	20 ef 29		jsr  p8_struct.p8_get_w
.2da4			p8_prog8_label_64_whileloop
.2da4	ac 91 45		ldy  p8_current+1
.2da7	ad 90 45		lda  p8_current
.2daa	84 7a			sty  P8ZP_SCRATCH_B1
.2dac	05 7a			ora  P8ZP_SCRATCH_B1
.2dae	f0 02			beq  +
.2db0	a9 01			lda  #1
.2db2			+
.2db2	48			pha
.2db3	ac 95 45		ldy  p8_current_size+1
.2db6	ad 94 45		lda  p8_current_size
.2db9	cc 9d 45			cpy  p8_size+1
.2dbc	90 07				bcc  +
.2dbe	d0 09			bne  ++
.2dc0	cd 9c 45			cmp  p8_size
.2dc3	b0 04				bcs  ++
.2dc5	a9 01		+       lda  #1
.2dc7	d0 02			bne  ++
.2dc9	a9 00		+       lda  #0
.2dcb			+
.2dcb	85 7a			sta  P8ZP_SCRATCH_B1
.2dcd	68			pla
.2dce	25 7a			and  P8ZP_SCRATCH_B1
.2dd0	f0 30			beq  p8_prog8_label_65_afterwhile
.2dd2	ad 90 45		lda  p8_current
.2dd5	85 02			sta  cx16.r0
.2dd7	ad 91 45		lda  p8_current+1
.2dda	85 03			sta  cx16.r0+1
.2ddc	a9 90			lda  #<p8_current+0
.2dde	85 04			sta  cx16.r1
.2de0	a9 45			lda  #>p8_current+0
.2de2	85 05			sta  cx16.r1+1
.2de4	a0 02			ldy  #2
.2de6	20 ef 29		jsr  p8_struct.p8_get_w
.2de9	ad 90 45		lda  p8_current
.2dec	85 02			sta  cx16.r0
.2dee	ad 91 45		lda  p8_current+1
.2df1	85 03			sta  cx16.r0+1
.2df3	a9 94			lda  #<p8_current_size+0
.2df5	85 04			sta  cx16.r1
.2df7	a9 45			lda  #>p8_current_size+0
.2df9	85 05			sta  cx16.r1+1
.2dfb	a0 04			ldy  #4
.2dfd	20 ef 29		jsr  p8_struct.p8_get_w
.2e00	80 a2			bra  p8_prog8_label_64_whileloop
.2e02			p8_prog8_label_65_afterwhile
.2e02	ad 90 45		lda  p8_current
.2e05	0d 91 45		ora  p8_current+1
.2e08	d0 04			bne  prog8_label_asm_30_if_end
.2e0a	a9 00			lda  #0
.2e0c	a8			tay
.2e0d	60			rts
.2e0e			prog8_label_asm_30_if_end
.2e0e	ad 9a 45		lda  p8_pm
.2e11	ac 9b 45		ldy  p8_pm+1
.2e14	85 64			sta  p8_pmalloc.p8_remove_item.p8_root
.2e16	84 65			sty  p8_pmalloc.p8_remove_item.p8_root+1
.2e18	ad 90 45		lda  p8_current
.2e1b	ac 91 45		ldy  p8_current+1
.2e1e	85 6a			sta  p8_pmalloc.p8_remove_item.p8_node
.2e20	84 6b			sty  p8_pmalloc.p8_remove_item.p8_node+1
.2e22	20 f8 34		jsr  p8_pmalloc.p8_remove_item
.2e25	ac 9b 45		ldy  p8_pm+1
.2e28	ad 9a 45		lda  p8_pm
.2e2b	18			clc
.2e2c	69 02			adc  #<2
.2e2e	aa			tax
.2e2f	98			tya
.2e30	69 00			adc  #>2
.2e32	a8			tay
.2e33	8a			txa
.2e34	8d ba 45		sta  p8_pmalloc.p8_insert_item.p8_root
.2e37	8c bb 45		sty  p8_pmalloc.p8_insert_item.p8_root+1
.2e3a	ad 90 45		lda  p8_current
.2e3d	ac 91 45		ldy  p8_current+1
.2e40	8d b4 45		sta  p8_pmalloc.p8_insert_item.p8_node
.2e43	8c b5 45		sty  p8_pmalloc.p8_insert_item.p8_node+1
.2e46	20 d3 32		jsr  p8_pmalloc.p8_insert_item
.2e49	ac 95 45		ldy  p8_current_size+1
.2e4c	ad 94 45		lda  p8_current_size
.2e4f	cd 9c 45		cmp  p8_size
.2e52	d0 08			bne  +
.2e54	cc 9d 45		cpy  p8_size+1
.2e57	d0 03			beq  prog8_label_asm_31_if_end
.2e59	4c b0 2f
.2e5c			+
.2e5c	ac 91 45		ldy  p8_current+1
.2e5f	ad 90 45		lda  p8_current
.2e62	18			clc
.2e63	69 06			adc  #<6
.2e65	aa			tax
.2e66	98			tya
.2e67	69 00			adc  #>6
.2e69	a8			tay
.2e6a	8a			txa
.2e6b	18			clc
.2e6c	6d 9c 45		adc  p8_size
.2e6f	aa			tax
.2e70	98			tya
.2e71	6d 9d 45		adc  p8_size+1
.2e74	a8			tay
.2e75	8a			txa
.2e76	8d 98 45		sta  p8_newfree
.2e79	8c 99 45		sty  p8_newfree+1
.2e7c	85 02			sta  cx16.r0
.2e7e	ad 99 45		lda  p8_newfree+1
.2e81	85 03			sta  cx16.r0+1
.2e83	ac 95 45		ldy  p8_current_size+1
.2e86	ad 94 45		lda  p8_current_size
.2e89	38			sec
.2e8a	e9 06			sbc  #<6
.2e8c	aa			tax
.2e8d	98			tya
.2e8e	e9 00			sbc  #>6
.2e90	a8			tay
.2e91	8a			txa
.2e92	38			sec
.2e93	ed 9c 45		sbc  p8_size
.2e96	aa			tax
.2e97	98			tya
.2e98	ed 9d 45		sbc  p8_size+1
.2e9b	a8			tay
.2e9c	8a			txa
.2e9d	85 04			sta  cx16.r1
.2e9f	84 05			sty  cx16.r1+1
.2ea1	a0 04			ldy  #4
.2ea3	20 e5 29		jsr  p8_struct.p8_set_wi
.2ea6	ad 90 45		lda  p8_current
.2ea9	85 02			sta  cx16.r0
.2eab	ad 91 45		lda  p8_current+1
.2eae	85 03			sta  cx16.r0+1
.2eb0	a9 92			lda  #<p8_current_next+0
.2eb2	85 04			sta  cx16.r1
.2eb4	a9 45			lda  #>p8_current_next+0
.2eb6	85 05			sta  cx16.r1+1
.2eb8	a0 02			ldy  #2
.2eba	20 ef 29		jsr  p8_struct.p8_get_w
.2ebd	ad 98 45		lda  p8_newfree
.2ec0	85 02			sta  cx16.r0
.2ec2	ad 99 45		lda  p8_newfree+1
.2ec5	85 03			sta  cx16.r0+1
.2ec7	a9 92			lda  #<p8_current_next+0
.2ec9	85 04			sta  cx16.r1
.2ecb	a9 45			lda  #>p8_current_next+0
.2ecd	85 05			sta  cx16.r1+1
.2ecf	a0 02			ldy  #2
.2ed1	20 d3 29		jsr  p8_struct.p8_set_w
.2ed4	ad 90 45		lda  p8_current
.2ed7	85 02			sta  cx16.r0
.2ed9	ad 91 45		lda  p8_current+1
.2edc	85 03			sta  cx16.r0+1
.2ede	64 04			stz  cx16.r1
.2ee0	64 05			stz  cx16.r1+1
.2ee2	a0 02			ldy  #2
.2ee4	20 e5 29		jsr  p8_struct.p8_set_wi
.2ee7	ad 9c 45		lda  p8_size
.2eea	ac 9d 45		ldy  p8_size+1
.2eed	8d 94 45		sta  p8_current_size
.2ef0	8c 95 45		sty  p8_current_size+1
.2ef3	ad 90 45		lda  p8_current
.2ef6	85 02			sta  cx16.r0
.2ef8	ad 91 45		lda  p8_current+1
.2efb	85 03			sta  cx16.r0+1
.2efd	a9 94			lda  #<p8_current_size+0
.2eff	85 04			sta  cx16.r1
.2f01	a9 45			lda  #>p8_current_size+0
.2f03	85 05			sta  cx16.r1+1
.2f05	a0 04			ldy  #4
.2f07	20 d3 29		jsr  p8_struct.p8_set_w
.2f0a	ad 9a 45		lda  p8_pm
.2f0d	ac 9b 45		ldy  p8_pm+1
.2f10	8d ba 45		sta  p8_pmalloc.p8_insert_item.p8_root
.2f13	8c bb 45		sty  p8_pmalloc.p8_insert_item.p8_root+1
.2f16	ad 98 45		lda  p8_newfree
.2f19	ac 99 45		ldy  p8_newfree+1
.2f1c	8d b4 45		sta  p8_pmalloc.p8_insert_item.p8_node
.2f1f	8c b5 45		sty  p8_pmalloc.p8_insert_item.p8_node+1
.2f22	20 d3 32		jsr  p8_pmalloc.p8_insert_item
.2f25	ad 9a 45		lda  p8_pm
.2f28	85 02			sta  cx16.r0
.2f2a	ad 9b 45		lda  p8_pm+1
.2f2d	85 03			sta  cx16.r0+1
.2f2f	a9 96			lda  #<p8_freemem+0
.2f31	85 04			sta  cx16.r1
.2f33	a9 45			lda  #>p8_freemem+0
.2f35	85 05			sta  cx16.r1+1
.2f37	a0 04			ldy  #4
.2f39	20 ef 29		jsr  p8_struct.p8_get_w
.2f3c	ad 96 45		lda  p8_freemem
.2f3f	38			sec
.2f40	e9 06			sbc  #6
.2f42	8d 96 45		sta  p8_freemem
.2f45	b0 03			bcs  +
.2f47	ce 97 45		dec  p8_freemem+1
.2f4a			+
.2f4a	ad 9a 45		lda  p8_pm
.2f4d	85 02			sta  cx16.r0
.2f4f	ad 9b 45		lda  p8_pm+1
.2f52	85 03			sta  cx16.r0+1
.2f54	a9 96			lda  #<p8_freemem+0
.2f56	85 04			sta  cx16.r1
.2f58	a9 45			lda  #>p8_freemem+0
.2f5a	85 05			sta  cx16.r1+1
.2f5c	a0 04			ldy  #4
.2f5e	20 d3 29		jsr  p8_struct.p8_set_w
.2f61	ad 9a 45		lda  p8_pm
.2f64	85 02			sta  cx16.r0
.2f66	ad 9b 45		lda  p8_pm+1
.2f69	85 03			sta  cx16.r0+1
.2f6b	a9 9e			lda  #<p8_totalnodes+0
.2f6d	85 04			sta  cx16.r1
.2f6f	a9 45			lda  #>p8_totalnodes+0
.2f71	85 05			sta  cx16.r1+1
.2f73	a0 08			ldy  #8
.2f75	20 ef 29		jsr  p8_struct.p8_get_w
.2f78	ee 9e 45		inc  p8_totalnodes
.2f7b	d0 03			bne  +
.2f7d	ee 9f 45		inc  p8_totalnodes+1
.2f80			+
.2f80	ad 9a 45		lda  p8_pm
.2f83	85 02			sta  cx16.r0
.2f85	ad 9b 45		lda  p8_pm+1
.2f88	85 03			sta  cx16.r0+1
.2f8a	a9 9e			lda  #<p8_totalnodes+0
.2f8c	85 04			sta  cx16.r1
.2f8e	a9 45			lda  #>p8_totalnodes+0
.2f90	85 05			sta  cx16.r1+1
.2f92	a0 08			ldy  #8
.2f94	20 d3 29		jsr  p8_struct.p8_set_w
.2f97	ad 9a 45		lda  p8_pm
.2f9a	ac 9b 45		ldy  p8_pm+1
.2f9d	85 70			sta  p8_pmalloc.p8_merge.p8_pm
.2f9f	84 71			sty  p8_pmalloc.p8_merge.p8_pm+1
.2fa1	ad 98 45		lda  p8_newfree
.2fa4	ac 99 45		ldy  p8_newfree+1
.2fa7	8d ac 45		sta  p8_pmalloc.p8_merge.p8_node
.2faa	8c ad 45		sty  p8_pmalloc.p8_merge.p8_node+1
.2fad	20 d7 30		jsr  p8_pmalloc.p8_merge
.2fb0			prog8_label_asm_31_if_end
.2fb0	ad 9a 45		lda  p8_pm
.2fb3	85 02			sta  cx16.r0
.2fb5	ad 9b 45		lda  p8_pm+1
.2fb8	85 03			sta  cx16.r0+1
.2fba	a9 96			lda  #<p8_freemem+0
.2fbc	85 04			sta  cx16.r1
.2fbe	a9 45			lda  #>p8_freemem+0
.2fc0	85 05			sta  cx16.r1+1
.2fc2	a0 04			ldy  #4
.2fc4	20 ef 29		jsr  p8_struct.p8_get_w
.2fc7	ad 96 45		lda  p8_freemem
.2fca	38			sec
.2fcb	ed 94 45		sbc  p8_current_size
.2fce	8d 96 45		sta  p8_freemem
.2fd1	ad 97 45		lda  p8_freemem+1
.2fd4	ed 95 45		sbc  p8_current_size+1
.2fd7	8d 97 45		sta  p8_freemem+1
.2fda	ad 9a 45		lda  p8_pm
.2fdd	85 02			sta  cx16.r0
.2fdf	ad 9b 45		lda  p8_pm+1
.2fe2	85 03			sta  cx16.r0+1
.2fe4	a9 96			lda  #<p8_freemem+0
.2fe6	85 04			sta  cx16.r1
.2fe8	a9 45			lda  #>p8_freemem+0
.2fea	85 05			sta  cx16.r1+1
.2fec	a0 04			ldy  #4
.2fee	20 d3 29		jsr  p8_struct.p8_set_w
.2ff1	ac 91 45		ldy  p8_current+1
.2ff4	ad 90 45		lda  p8_current
.2ff7	18			clc
.2ff8	69 06			adc  #<6
.2ffa	aa			tax
.2ffb	98			tya
.2ffc	69 00			adc  #>6
.2ffe	a8			tay
.2fff	8a			txa
.3000	60			rts
>4590			p8_current	.word  ?
>4592			p8_current_next	.word  ?
>4594			p8_current_size	.word  ?
>4596			p8_freemem	.word  ?
>4598			p8_newfree	.word  ?
>459a			p8_pm	.word  ?
>459c			p8_size	.word  ?
>459e			p8_totalnodes	.word  ?
.3001			p8_free
.3001	ad a8 45		lda  p8_ptr
.3004	0d a9 45		ora  p8_ptr+1
.3007	d0 01			bne  prog8_label_asm_32_if_end
.3009	60			rts
.300a			prog8_label_asm_32_if_end
.300a	ac a9 45		ldy  p8_ptr+1
.300d	ad a8 45		lda  p8_ptr
.3010	38			sec
.3011	e9 06			sbc  #<6
.3013	aa			tax
.3014	98			tya
.3015	e9 00			sbc  #>6
.3017	a8			tay
.3018	8a			txa
.3019	8d a2 45		sta  p8_node
.301c	8c a3 45		sty  p8_node+1
.301f	ac a7 45		ldy  p8_pm+1
.3022	ad a6 45		lda  p8_pm
.3025	18			clc
.3026	69 02			adc  #<2
.3028	aa			tax
.3029	98			tya
.302a	69 00			adc  #>2
.302c	a8			tay
.302d	8a			txa
.302e	85 64			sta  p8_pmalloc.p8_remove_item.p8_root
.3030	84 65			sty  p8_pmalloc.p8_remove_item.p8_root+1
.3032	ad a2 45		lda  p8_node
.3035	ac a3 45		ldy  p8_node+1
.3038	85 6a			sta  p8_pmalloc.p8_remove_item.p8_node
.303a	84 6b			sty  p8_pmalloc.p8_remove_item.p8_node+1
.303c	20 f8 34		jsr  p8_pmalloc.p8_remove_item
.303f	9c a0 45		stz  p8_freemem
.3042	9c a1 45		stz  p8_freemem+1
.3045	9c a4 45		stz  p8_node_size
.3048	9c a5 45		stz  p8_node_size+1
.304b	ad a6 45		lda  p8_pm
.304e	85 02			sta  cx16.r0
.3050	ad a7 45		lda  p8_pm+1
.3053	85 03			sta  cx16.r0+1
.3055	a9 a0			lda  #<p8_freemem+0
.3057	85 04			sta  cx16.r1
.3059	a9 45			lda  #>p8_freemem+0
.305b	85 05			sta  cx16.r1+1
.305d	a0 04			ldy  #4
.305f	20 ef 29		jsr  p8_struct.p8_get_w
.3062	ad a2 45		lda  p8_node
.3065	85 02			sta  cx16.r0
.3067	ad a3 45		lda  p8_node+1
.306a	85 03			sta  cx16.r0+1
.306c	a9 a4			lda  #<p8_node_size+0
.306e	85 04			sta  cx16.r1
.3070	a9 45			lda  #>p8_node_size+0
.3072	85 05			sta  cx16.r1+1
.3074	a0 04			ldy  #4
.3076	20 ef 29		jsr  p8_struct.p8_get_w
.3079	ad a0 45		lda  p8_freemem
.307c	18			clc
.307d	6d a4 45		adc  p8_node_size
.3080	8d a0 45		sta  p8_freemem
.3083	ad a1 45		lda  p8_freemem+1
.3086	6d a5 45		adc  p8_node_size+1
.3089	8d a1 45		sta  p8_freemem+1
.308c	ad a6 45		lda  p8_pm
.308f	85 02			sta  cx16.r0
.3091	ad a7 45		lda  p8_pm+1
.3094	85 03			sta  cx16.r0+1
.3096	a9 a0			lda  #<p8_freemem+0
.3098	85 04			sta  cx16.r1
.309a	a9 45			lda  #>p8_freemem+0
.309c	85 05			sta  cx16.r1+1
.309e	a0 04			ldy  #4
.30a0	20 d3 29		jsr  p8_struct.p8_set_w
.30a3	ad a6 45		lda  p8_pm
.30a6	ac a7 45		ldy  p8_pm+1
.30a9	8d ba 45		sta  p8_pmalloc.p8_insert_item.p8_root
.30ac	8c bb 45		sty  p8_pmalloc.p8_insert_item.p8_root+1
.30af	ad a2 45		lda  p8_node
.30b2	ac a3 45		ldy  p8_node+1
.30b5	8d b4 45		sta  p8_pmalloc.p8_insert_item.p8_node
.30b8	8c b5 45		sty  p8_pmalloc.p8_insert_item.p8_node+1
.30bb	20 d3 32		jsr  p8_pmalloc.p8_insert_item
.30be	ad a6 45		lda  p8_pm
.30c1	ac a7 45		ldy  p8_pm+1
.30c4	85 70			sta  p8_pmalloc.p8_merge.p8_pm
.30c6	84 71			sty  p8_pmalloc.p8_merge.p8_pm+1
.30c8	ad a2 45		lda  p8_node
.30cb	ac a3 45		ldy  p8_node+1
.30ce	8d ac 45		sta  p8_pmalloc.p8_merge.p8_node
.30d1	8c ad 45		sty  p8_pmalloc.p8_merge.p8_node+1
.30d4	4c d7 30		jmp  p8_pmalloc.p8_merge
>45a0			p8_freemem	.word  ?
>45a2			p8_node	.word  ?
>45a4			p8_node_size	.word  ?
>45a6			p8_pm	.word  ?
>45a8			p8_ptr	.word  ?
.30d7			p8_merge
=108			p8_totalnodes 	= 108 	; zp UWORD
=110			p8_temp_node_size 	= 110 	; zp UWORD
=112			p8_pm 	= 112 	; zp UWORD
=114			p8_node_size 	= 114 	; zp UWORD
=116			p8_node_prev_size 	= 116 	; zp UWORD
=118			p8_node_prev 	= 118 	; zp UWORD
=120			p8_node_next_size 	= 120 	; zp UWORD
.30d7	64 6c			stz  p8_totalnodes
.30d9	64 6d			stz  p8_totalnodes+1
.30db	9c aa 45		stz  p8_freemem
.30de	9c ab 45		stz  p8_freemem+1
.30e1	64 78			stz  p8_node_next_size
.30e3	64 79			stz  p8_node_next_size+1
.30e5	64 76			stz  p8_node_prev
.30e7	64 77			stz  p8_node_prev+1
.30e9	64 74			stz  p8_node_prev_size
.30eb	64 75			stz  p8_node_prev_size+1
.30ed	9c ae 45		stz  p8_node_next
.30f0	9c af 45		stz  p8_node_next+1
.30f3	64 72			stz  p8_node_size
.30f5	64 73			stz  p8_node_size+1
.30f7	ad ac 45		lda  p8_node
.30fa	85 02			sta  cx16.r0
.30fc	ad ad 45		lda  p8_node+1
.30ff	85 03			sta  cx16.r0+1
.3101	a9 76			lda  #<p8_node_prev+0
.3103	85 04			sta  cx16.r1
.3105	a9 00			lda  #>p8_node_prev+0
.3107	85 05			sta  cx16.r1+1
.3109	a0 00			ldy  #0
.310b	20 ef 29		jsr  p8_struct.p8_get_w
.310e	a5 76			lda  p8_node_prev
.3110	85 02			sta  cx16.r0
.3112	a5 77			lda  p8_node_prev+1
.3114	85 03			sta  cx16.r0+1
.3116	a9 74			lda  #<p8_node_prev_size+0
.3118	85 04			sta  cx16.r1
.311a	a9 00			lda  #>p8_node_prev_size+0
.311c	85 05			sta  cx16.r1+1
.311e	a0 04			ldy  #4
.3120	20 ef 29		jsr  p8_struct.p8_get_w
.3123			p8_prog8_label_66_whileloop
.3123	a4 77			ldy  p8_node_prev+1
.3125	a5 76			lda  p8_node_prev
.3127	84 7a			sty  P8ZP_SCRATCH_B1
.3129	05 7a			ora  P8ZP_SCRATCH_B1
.312b	f0 02			beq  +
.312d	a9 01			lda  #1
.312f			+
.312f	48			pha
.3130	a4 77			ldy  p8_node_prev+1
.3132	a5 76			lda  p8_node_prev
.3134	18			clc
.3135	69 06			adc  #<6
.3137	aa			tax
.3138	98			tya
.3139	69 00			adc  #>6
.313b	a8			tay
.313c	8a			txa
.313d	18			clc
.313e	65 74			adc  p8_node_prev_size
.3140	aa			tax
.3141	98			tya
.3142	65 75			adc  p8_node_prev_size+1
.3144	a8			tay
.3145	8a			txa
.3146	85 7c			sta  P8ZP_SCRATCH_W1
.3148	84 7d			sty  P8ZP_SCRATCH_W1+1
.314a	ac ad 45		ldy  p8_node+1
.314d	ad ac 45		lda  p8_node
.3150	c5 7c			cmp  P8ZP_SCRATCH_W1
.3152	d0 08			bne  +
.3154	c4 7d			cpy  P8ZP_SCRATCH_W1+1
.3156	d0 04			bne  +
.3158	a9 00			lda  #0
.315a	f0 02			beq  ++
.315c	a9 01		+                   lda  #1
.315e			+
.315e	85 7a			sta  P8ZP_SCRATCH_B1
.3160	68			pla
.3161	25 7a			and  P8ZP_SCRATCH_B1
.3163	f0 35			beq  p8_prog8_label_67_afterwhile
.3165	a5 76			lda  p8_node_prev
.3167	a4 77			ldy  p8_node_prev+1
.3169	8d ac 45		sta  p8_node
.316c	8c ad 45		sty  p8_node+1
.316f	85 02			sta  cx16.r0
.3171	ad ad 45		lda  p8_node+1
.3174	85 03			sta  cx16.r0+1
.3176	a9 76			lda  #<p8_node_prev+0
.3178	85 04			sta  cx16.r1
.317a	a9 00			lda  #>p8_node_prev+0
.317c	85 05			sta  cx16.r1+1
.317e	a0 00			ldy  #0
.3180	20 ef 29		jsr  p8_struct.p8_get_w
.3183	a5 76			lda  p8_node_prev
.3185	85 02			sta  cx16.r0
.3187	a5 77			lda  p8_node_prev+1
.3189	85 03			sta  cx16.r0+1
.318b	a9 74			lda  #<p8_node_prev_size+0
.318d	85 04			sta  cx16.r1
.318f	a9 00			lda  #>p8_node_prev_size+0
.3191	85 05			sta  cx16.r1+1
.3193	a0 04			ldy  #4
.3195	20 ef 29		jsr  p8_struct.p8_get_w
.3198	80 89			bra  p8_prog8_label_66_whileloop
.319a			p8_prog8_label_67_afterwhile
.319a	ad ac 45		lda  p8_node
.319d	85 02			sta  cx16.r0
.319f	ad ad 45		lda  p8_node+1
.31a2	85 03			sta  cx16.r0+1
.31a4	a9 ae			lda  #<p8_node_next+0
.31a6	85 04			sta  cx16.r1
.31a8	a9 45			lda  #>p8_node_next+0
.31aa	85 05			sta  cx16.r1+1
.31ac	a0 02			ldy  #2
.31ae	20 ef 29		jsr  p8_struct.p8_get_w
.31b1	ad ac 45		lda  p8_node
.31b4	85 02			sta  cx16.r0
.31b6	ad ad 45		lda  p8_node+1
.31b9	85 03			sta  cx16.r0+1
.31bb	a9 72			lda  #<p8_node_size+0
.31bd	85 04			sta  cx16.r1
.31bf	a9 00			lda  #>p8_node_size+0
.31c1	85 05			sta  cx16.r1+1
.31c3	a0 04			ldy  #4
.31c5	20 ef 29		jsr  p8_struct.p8_get_w
.31c8			p8_prog8_label_68_whileloop
.31c8	ac ad 45		ldy  p8_node+1
.31cb	ad ac 45		lda  p8_node
.31ce	18			clc
.31cf	69 06			adc  #<6
.31d1	aa			tax
.31d2	98			tya
.31d3	69 00			adc  #>6
.31d5	a8			tay
.31d6	8a			txa
.31d7	18			clc
.31d8	65 72			adc  p8_node_size
.31da	aa			tax
.31db	98			tya
.31dc	65 73			adc  p8_node_size+1
.31de	a8			tay
.31df	8a			txa
.31e0	cd ae 45		cmp  p8_node_next
.31e3	f0 03			bne  p8_prog8_label_69_afterwhile
.31e5	4c d2 32
.31e8	cc af 45		cpy  p8_node_next+1
.31eb	d0 f8			bne  p8_prog8_label_69_afterwhile
.31ed	ad ae 45		lda  p8_node_next
.31f0	85 02			sta  cx16.r0
.31f2	ad af 45		lda  p8_node_next+1
.31f5	85 03			sta  cx16.r0+1
.31f7	a9 78			lda  #<p8_node_next_size+0
.31f9	85 04			sta  cx16.r1
.31fb	a9 00			lda  #>p8_node_next_size+0
.31fd	85 05			sta  cx16.r1+1
.31ff	a0 04			ldy  #4
.3201	20 ef 29		jsr  p8_struct.p8_get_w
.3204	a4 79			ldy  p8_node_next_size+1
.3206	a5 78			lda  p8_node_next_size
.3208	18			clc
.3209	69 06			adc  #<6
.320b	aa			tax
.320c	98			tya
.320d	69 00			adc  #>6
.320f	a8			tay
.3210	8a			txa
.3211	85 6e			sta  p8_temp_node_size
.3213	84 6f			sty  p8_temp_node_size+1
.3215	a5 70			lda  p8_pm
.3217	85 02			sta  cx16.r0
.3219	a5 71			lda  p8_pm+1
.321b	85 03			sta  cx16.r0+1
.321d	a9 aa			lda  #<p8_freemem+0
.321f	85 04			sta  cx16.r1
.3221	a9 45			lda  #>p8_freemem+0
.3223	85 05			sta  cx16.r1+1
.3225	a0 04			ldy  #4
.3227	20 ef 29		jsr  p8_struct.p8_get_w
.322a	ad aa 45		lda  p8_freemem
.322d	18			clc
.322e	69 06			adc  #6
.3230	8d aa 45		sta  p8_freemem
.3233	90 03			bcc  +
.3235	ee ab 45		inc  p8_freemem+1
.3238			+
.3238	a5 70			lda  p8_pm
.323a	85 02			sta  cx16.r0
.323c	a5 71			lda  p8_pm+1
.323e	85 03			sta  cx16.r0+1
.3240	a9 aa			lda  #<p8_freemem+0
.3242	85 04			sta  cx16.r1
.3244	a9 45			lda  #>p8_freemem+0
.3246	85 05			sta  cx16.r1+1
.3248	a0 04			ldy  #4
.324a	20 d3 29		jsr  p8_struct.p8_set_w
.324d	a5 70			lda  p8_pm
.324f	a4 71			ldy  p8_pm+1
.3251	85 64			sta  p8_pmalloc.p8_remove_item.p8_root
.3253	84 65			sty  p8_pmalloc.p8_remove_item.p8_root+1
.3255	ad ae 45		lda  p8_node_next
.3258	ac af 45		ldy  p8_node_next+1
.325b	85 6a			sta  p8_pmalloc.p8_remove_item.p8_node
.325d	84 6b			sty  p8_pmalloc.p8_remove_item.p8_node+1
.325f	20 f8 34		jsr  p8_pmalloc.p8_remove_item
.3262	a5 70			lda  p8_pm
.3264	85 02			sta  cx16.r0
.3266	a5 71			lda  p8_pm+1
.3268	85 03			sta  cx16.r0+1
.326a	a9 6c			lda  #<p8_totalnodes+0
.326c	85 04			sta  cx16.r1
.326e	a9 00			lda  #>p8_totalnodes+0
.3270	85 05			sta  cx16.r1+1
.3272	a0 08			ldy  #8
.3274	20 ef 29		jsr  p8_struct.p8_get_w
.3277	a5 6c			lda  p8_totalnodes
.3279	d0 02			bne  +
.327b	c6 6d			dec  p8_totalnodes+1
.327d	c6 6c		+       dec  p8_totalnodes
.327f	a5 70			lda  p8_pm
.3281	85 02			sta  cx16.r0
.3283	a5 71			lda  p8_pm+1
.3285	85 03			sta  cx16.r0+1
.3287	a9 6c			lda  #<p8_totalnodes+0
.3289	85 04			sta  cx16.r1
.328b	a9 00			lda  #>p8_totalnodes+0
.328d	85 05			sta  cx16.r1+1
.328f	a0 08			ldy  #8
.3291	20 d3 29		jsr  p8_struct.p8_set_w
.3294	a5 72			lda  p8_node_size
.3296	18			clc
.3297	65 6e			adc  p8_temp_node_size
.3299	85 72			sta  p8_node_size
.329b	a5 73			lda  p8_node_size+1
.329d	65 6f			adc  p8_temp_node_size+1
.329f	85 73			sta  p8_node_size+1
.32a1	ad ac 45		lda  p8_node
.32a4	85 02			sta  cx16.r0
.32a6	ad ad 45		lda  p8_node+1
.32a9	85 03			sta  cx16.r0+1
.32ab	a9 72			lda  #<p8_node_size+0
.32ad	85 04			sta  cx16.r1
.32af	a9 00			lda  #>p8_node_size+0
.32b1	85 05			sta  cx16.r1+1
.32b3	a0 04			ldy  #4
.32b5	20 d3 29		jsr  p8_struct.p8_set_w
.32b8	ad ac 45		lda  p8_node
.32bb	85 02			sta  cx16.r0
.32bd	ad ad 45		lda  p8_node+1
.32c0	85 03			sta  cx16.r0+1
.32c2	a9 ae			lda  #<p8_node_next+0
.32c4	85 04			sta  cx16.r1
.32c6	a9 45			lda  #>p8_node_next+0
.32c8	85 05			sta  cx16.r1+1
.32ca	a0 02			ldy  #2
.32cc	20 ef 29		jsr  p8_struct.p8_get_w
.32cf	4c c8 31		bra  p8_prog8_label_68_whileloop
.32d2			p8_prog8_label_69_afterwhile
.32d2	60			rts
>45aa			p8_freemem	.word  ?
>45ac			p8_node	.word  ?
>45ae			p8_node_next	.word  ?
.32d3			p8_insert_item
.32d3	9c b2 45		stz  p8_current_next
.32d6	9c b3 45		stz  p8_current_next+1
.32d9	9c b6 45		stz  p8_oldnext
.32dc	9c b7 45		stz  p8_oldnext+1
.32df	9c bc 45		stz  p8_xRoot
.32e2	9c bd 45		stz  p8_xRoot+1
.32e5	ad ba 45		lda  p8_root
.32e8	85 02			sta  cx16.r0
.32ea	ad bb 45		lda  p8_root+1
.32ed	85 03			sta  cx16.r0+1
.32ef	a9 bc			lda  #<p8_xRoot+0
.32f1	85 04			sta  cx16.r1
.32f3	a9 45			lda  #>p8_xRoot+0
.32f5	85 05			sta  cx16.r1+1
.32f7	20 0b 2a		jsr  p8_ptr.p8_get_w
.32fa	ad bc 45		lda  p8_xRoot
.32fd	0d bd 45		ora  p8_xRoot+1
.3300	d0 47			bne  prog8_label_asm_33_if_end
.3302	ad b4 45		lda  p8_node
.3305	ac b5 45		ldy  p8_node+1
.3308	8d bc 45		sta  p8_xRoot
.330b	8c bd 45		sty  p8_xRoot+1
.330e	ad b4 45		lda  p8_node
.3311	85 02			sta  cx16.r0
.3313	ad b5 45		lda  p8_node+1
.3316	85 03			sta  cx16.r0+1
.3318	64 04			stz  cx16.r1
.331a	64 05			stz  cx16.r1+1
.331c	a0 00			ldy  #0
.331e	20 e5 29		jsr  p8_struct.p8_set_wi
.3321	ad b4 45		lda  p8_node
.3324	85 02			sta  cx16.r0
.3326	ad b5 45		lda  p8_node+1
.3329	85 03			sta  cx16.r0+1
.332b	64 04			stz  cx16.r1
.332d	64 05			stz  cx16.r1+1
.332f	a0 02			ldy  #2
.3331	20 e5 29		jsr  p8_struct.p8_set_wi
.3334	ad ba 45		lda  p8_root
.3337	85 02			sta  cx16.r0
.3339	ad bb 45		lda  p8_root+1
.333c	85 03			sta  cx16.r0+1
.333e	a9 bc			lda  #<p8_xRoot+0
.3340	85 04			sta  cx16.r1
.3342	a9 45			lda  #>p8_xRoot+0
.3344	85 05			sta  cx16.r1+1
.3346	4c ff 29		jmp  p8_ptr.p8_set_w
.3349			prog8_label_asm_33_if_end
.3349	ac b5 45		ldy  p8_node+1
.334c	ad b4 45		lda  p8_node
.334f	cc bd 45		cpy  p8_xRoot+1
.3352	90 07			bcc  +
.3354	d0 73			bne  prog8_label_asm_34_if_else
.3356	cd bc 45		cmp  p8_xRoot
.3359	b0 6e			bcs  prog8_label_asm_34_if_else
.335b			+
.335b	ad bc 45		lda  p8_xRoot
.335e	ac bd 45		ldy  p8_xRoot+1
.3361	8d b8 45		sta  p8_oldroot
.3364	8c b9 45		sty  p8_oldroot+1
.3367	85 02			sta  cx16.r0
.3369	ad b9 45		lda  p8_oldroot+1
.336c	85 03			sta  cx16.r0+1
.336e	a9 b4			lda  #<p8_node+0
.3370	85 04			sta  cx16.r1
.3372	a9 45			lda  #>p8_node+0
.3374	85 05			sta  cx16.r1+1
.3376	a0 00			ldy  #0
.3378	20 d3 29		jsr  p8_struct.p8_set_w
.337b	ad b4 45		lda  p8_node
.337e	85 02			sta  cx16.r0
.3380	ad b5 45		lda  p8_node+1
.3383	85 03			sta  cx16.r0+1
.3385	a9 b8			lda  #<p8_oldroot+0
.3387	85 04			sta  cx16.r1
.3389	a9 45			lda  #>p8_oldroot+0
.338b	85 05			sta  cx16.r1+1
.338d	a0 02			ldy  #2
.338f	20 d3 29		jsr  p8_struct.p8_set_w
.3392	ad b4 45		lda  p8_node
.3395	85 02			sta  cx16.r0
.3397	ad b5 45		lda  p8_node+1
.339a	85 03			sta  cx16.r0+1
.339c	64 04			stz  cx16.r1
.339e	64 05			stz  cx16.r1+1
.33a0	a0 00			ldy  #0
.33a2	20 e5 29		jsr  p8_struct.p8_set_wi
.33a5	ad b4 45		lda  p8_node
.33a8	ac b5 45		ldy  p8_node+1
.33ab	8d bc 45		sta  p8_xRoot
.33ae	8c bd 45		sty  p8_xRoot+1
.33b1	ad ba 45		lda  p8_root
.33b4	85 02			sta  cx16.r0
.33b6	ad bb 45		lda  p8_root+1
.33b9	85 03			sta  cx16.r0+1
.33bb	a9 bc			lda  #<p8_xRoot+0
.33bd	85 04			sta  cx16.r1
.33bf	a9 45			lda  #>p8_xRoot+0
.33c1	85 05			sta  cx16.r1+1
.33c3	20 ff 29		jsr  p8_ptr.p8_set_w
.33c6	4c f7 34		bra  prog8_label_asm_35_if_end
.33c9			prog8_label_asm_34_if_else
.33c9	ad bc 45		lda  p8_xRoot
.33cc	ac bd 45		ldy  p8_xRoot+1
.33cf	8d b0 45		sta  p8_current
.33d2	8c b1 45		sty  p8_current+1
.33d5	85 02			sta  cx16.r0
.33d7	ad b1 45		lda  p8_current+1
.33da	85 03			sta  cx16.r0+1
.33dc	a9 b2			lda  #<p8_current_next+0
.33de	85 04			sta  cx16.r1
.33e0	a9 45			lda  #>p8_current_next+0
.33e2	85 05			sta  cx16.r1+1
.33e4	a0 02			ldy  #2
.33e6	20 ef 29		jsr  p8_struct.p8_get_w
.33e9			p8_prog8_label_70_whileloop
.33e9	ac b3 45		ldy  p8_current_next+1
.33ec	ad b2 45		lda  p8_current_next
.33ef	84 7a			sty  P8ZP_SCRATCH_B1
.33f1	05 7a			ora  P8ZP_SCRATCH_B1
.33f3	f0 02			beq  +
.33f5	a9 01			lda  #1
.33f7			+
.33f7	48			pha
.33f8	ac b3 45		ldy  p8_current_next+1
.33fb	ad b2 45		lda  p8_current_next
.33fe	cc b5 45			cpy  p8_node+1
.3401	90 07				bcc  +
.3403	d0 09			bne  ++
.3405	cd b4 45			cmp  p8_node
.3408	b0 04				bcs  ++
.340a	a9 01		+       lda  #1
.340c	d0 02			bne  ++
.340e	a9 00		+       lda  #0
.3410			+
.3410	85 7a			sta  P8ZP_SCRATCH_B1
.3412	68			pla
.3413	25 7a			and  P8ZP_SCRATCH_B1
.3415	f0 22			beq  p8_prog8_label_71_afterwhile
.3417	ad b2 45		lda  p8_current_next
.341a	ac b3 45		ldy  p8_current_next+1
.341d	8d b0 45		sta  p8_current
.3420	8c b1 45		sty  p8_current+1
.3423	85 02			sta  cx16.r0
.3425	ad b1 45		lda  p8_current+1
.3428	85 03			sta  cx16.r0+1
.342a	a9 b2			lda  #<p8_current_next+0
.342c	85 04			sta  cx16.r1
.342e	a9 45			lda  #>p8_current_next+0
.3430	85 05			sta  cx16.r1+1
.3432	a0 02			ldy  #2
.3434	20 ef 29		jsr  p8_struct.p8_get_w
.3437	80 b0			bra  p8_prog8_label_70_whileloop
.3439			p8_prog8_label_71_afterwhile
.3439	ad b2 45		lda  p8_current_next
.343c	0d b3 45		ora  p8_current_next+1
.343f	d0 43			bne  prog8_label_asm_36_if_else
.3441	ad b4 45		lda  p8_node
.3444	85 02			sta  cx16.r0
.3446	ad b5 45		lda  p8_node+1
.3449	85 03			sta  cx16.r0+1
.344b	a9 b0			lda  #<p8_current+0
.344d	85 04			sta  cx16.r1
.344f	a9 45			lda  #>p8_current+0
.3451	85 05			sta  cx16.r1+1
.3453	a0 00			ldy  #0
.3455	20 d3 29		jsr  p8_struct.p8_set_w
.3458	ad b4 45		lda  p8_node
.345b	85 02			sta  cx16.r0
.345d	ad b5 45		lda  p8_node+1
.3460	85 03			sta  cx16.r0+1
.3462	64 04			stz  cx16.r1
.3464	64 05			stz  cx16.r1+1
.3466	a0 02			ldy  #2
.3468	20 e5 29		jsr  p8_struct.p8_set_wi
.346b	ad b0 45		lda  p8_current
.346e	85 02			sta  cx16.r0
.3470	ad b1 45		lda  p8_current+1
.3473	85 03			sta  cx16.r0+1
.3475	a9 b4			lda  #<p8_node+0
.3477	85 04			sta  cx16.r1
.3479	a9 45			lda  #>p8_node+0
.347b	85 05			sta  cx16.r1+1
.347d	a0 02			ldy  #2
.347f	20 d3 29		jsr  p8_struct.p8_set_w
.3482	80 73			bra  prog8_label_asm_37_if_end
.3484			prog8_label_asm_36_if_else
.3484	ad b0 45		lda  p8_current
.3487	85 02			sta  cx16.r0
.3489	ad b1 45		lda  p8_current+1
.348c	85 03			sta  cx16.r0+1
.348e	a9 b6			lda  #<p8_oldnext+0
.3490	85 04			sta  cx16.r1
.3492	a9 45			lda  #>p8_oldnext+0
.3494	85 05			sta  cx16.r1+1
.3496	a0 02			ldy  #2
.3498	20 ef 29		jsr  p8_struct.p8_get_w
.349b	ad b0 45		lda  p8_current
.349e	85 02			sta  cx16.r0
.34a0	ad b1 45		lda  p8_current+1
.34a3	85 03			sta  cx16.r0+1
.34a5	a9 b4			lda  #<p8_node+0
.34a7	85 04			sta  cx16.r1
.34a9	a9 45			lda  #>p8_node+0
.34ab	85 05			sta  cx16.r1+1
.34ad	a0 02			ldy  #2
.34af	20 d3 29		jsr  p8_struct.p8_set_w
.34b2	ad b4 45		lda  p8_node
.34b5	85 02			sta  cx16.r0
.34b7	ad b5 45		lda  p8_node+1
.34ba	85 03			sta  cx16.r0+1
.34bc	a9 b0			lda  #<p8_current+0
.34be	85 04			sta  cx16.r1
.34c0	a9 45			lda  #>p8_current+0
.34c2	85 05			sta  cx16.r1+1
.34c4	a0 00			ldy  #0
.34c6	20 d3 29		jsr  p8_struct.p8_set_w
.34c9	ad b4 45		lda  p8_node
.34cc	85 02			sta  cx16.r0
.34ce	ad b5 45		lda  p8_node+1
.34d1	85 03			sta  cx16.r0+1
.34d3	a9 b6			lda  #<p8_oldnext+0
.34d5	85 04			sta  cx16.r1
.34d7	a9 45			lda  #>p8_oldnext+0
.34d9	85 05			sta  cx16.r1+1
.34db	a0 02			ldy  #2
.34dd	20 d3 29		jsr  p8_struct.p8_set_w
.34e0	ad b6 45		lda  p8_oldnext
.34e3	85 02			sta  cx16.r0
.34e5	ad b7 45		lda  p8_oldnext+1
.34e8	85 03			sta  cx16.r0+1
.34ea	a9 b4			lda  #<p8_node+0
.34ec	85 04			sta  cx16.r1
.34ee	a9 45			lda  #>p8_node+0
.34f0	85 05			sta  cx16.r1+1
.34f2	a0 00			ldy  #0
.34f4	20 d3 29		jsr  p8_struct.p8_set_w
.34f7			prog8_label_asm_37_if_end
.34f7			prog8_label_asm_35_if_end
.34f7	60			rts
>45b0			p8_current	.word  ?
>45b2			p8_current_next	.word  ?
>45b4			p8_node	.word  ?
>45b6			p8_oldnext	.word  ?
>45b8			p8_oldroot	.word  ?
>45ba			p8_root	.word  ?
>45bc			p8_xRoot	.word  ?
.34f8			p8_remove_item
=98			p8_xRoot 	= 98 	; zp UWORD
=100			p8_root 	= 100 	; zp UWORD
=102			p8_node_prev 	= 102 	; zp UWORD
=104			p8_node_next 	= 104 	; zp UWORD
=106			p8_node 	= 106 	; zp UWORD
.34f8	64 66			stz  p8_node_prev
.34fa	64 67			stz  p8_node_prev+1
.34fc	64 68			stz  p8_node_next
.34fe	64 69			stz  p8_node_next+1
.3500	64 62			stz  p8_xRoot
.3502	64 63			stz  p8_xRoot+1
.3504	a5 6a			lda  p8_node
.3506	85 02			sta  cx16.r0
.3508	a5 6b			lda  p8_node+1
.350a	85 03			sta  cx16.r0+1
.350c	a9 68			lda  #<p8_node_next+0
.350e	85 04			sta  cx16.r1
.3510	a9 00			lda  #>p8_node_next+0
.3512	85 05			sta  cx16.r1+1
.3514	a0 02			ldy  #2
.3516	20 ef 29		jsr  p8_struct.p8_get_w
.3519	a5 6a			lda  p8_node
.351b	85 02			sta  cx16.r0
.351d	a5 6b			lda  p8_node+1
.351f	85 03			sta  cx16.r0+1
.3521	a9 66			lda  #<p8_node_prev+0
.3523	85 04			sta  cx16.r1
.3525	a9 00			lda  #>p8_node_prev+0
.3527	85 05			sta  cx16.r1+1
.3529	a0 00			ldy  #0
.352b	20 ef 29		jsr  p8_struct.p8_get_w
.352e	a5 64			lda  p8_root
.3530	85 02			sta  cx16.r0
.3532	a5 65			lda  p8_root+1
.3534	85 03			sta  cx16.r0+1
.3536	a9 62			lda  #<p8_xRoot+0
.3538	85 04			sta  cx16.r1
.353a	a9 00			lda  #>p8_xRoot+0
.353c	85 05			sta  cx16.r1+1
.353e	20 0b 2a		jsr  p8_ptr.p8_get_w
.3541	a5 66			lda  p8_node_prev
.3543	05 67			ora  p8_node_prev+1
.3545	f0 15			beq  prog8_label_asm_38_if_end
.3547	a5 66			lda  p8_node_prev
.3549	85 02			sta  cx16.r0
.354b	a5 67			lda  p8_node_prev+1
.354d	85 03			sta  cx16.r0+1
.354f	a9 68			lda  #<p8_node_next+0
.3551	85 04			sta  cx16.r1
.3553	a9 00			lda  #>p8_node_next+0
.3555	85 05			sta  cx16.r1+1
.3557	a0 02			ldy  #2
.3559	20 d3 29		jsr  p8_struct.p8_set_w
.355c			prog8_label_asm_38_if_end
.355c	a5 68			lda  p8_node_next
.355e	05 69			ora  p8_node_next+1
.3560	f0 15			beq  prog8_label_asm_39_if_end
.3562	a5 68			lda  p8_node_next
.3564	85 02			sta  cx16.r0
.3566	a5 69			lda  p8_node_next+1
.3568	85 03			sta  cx16.r0+1
.356a	a9 66			lda  #<p8_node_prev+0
.356c	85 04			sta  cx16.r1
.356e	a9 00			lda  #>p8_node_prev+0
.3570	85 05			sta  cx16.r1+1
.3572	a0 00			ldy  #0
.3574	20 d3 29		jsr  p8_struct.p8_set_w
.3577			prog8_label_asm_39_if_end
.3577	a4 6b			ldy  p8_node+1
.3579	a5 6a			lda  p8_node
.357b	c5 62			cmp  p8_xRoot
.357d	d0 2f			bne  prog8_label_asm_40_if_end
.357f	c4 63			cpy  p8_xRoot+1
.3581	d0 2b			bne  prog8_label_asm_40_if_end
.3583	a5 66			lda  p8_node_prev
.3585	05 67			ora  p8_node_prev+1
.3587	f0 0a			beq  prog8_label_asm_41_if_else
.3589	a5 66			lda  p8_node_prev
.358b	a4 67			ldy  p8_node_prev+1
.358d	85 62			sta  p8_xRoot
.358f	84 63			sty  p8_xRoot+1
.3591	80 08			bra  prog8_label_asm_42_if_end
.3593			prog8_label_asm_41_if_else
.3593	a5 68			lda  p8_node_next
.3595	a4 69			ldy  p8_node_next+1
.3597	85 62			sta  p8_xRoot
.3599	84 63			sty  p8_xRoot+1
.359b			prog8_label_asm_42_if_end
.359b	a5 64			lda  p8_root
.359d	85 02			sta  cx16.r0
.359f	a5 65			lda  p8_root+1
.35a1	85 03			sta  cx16.r0+1
.35a3	a9 62			lda  #<p8_xRoot+0
.35a5	85 04			sta  cx16.r1
.35a7	a9 00			lda  #>p8_xRoot+0
.35a9	85 05			sta  cx16.r1+1
.35ab	20 ff 29		jsr  p8_ptr.p8_set_w
.35ae			prog8_label_asm_40_if_end
.35ae	a5 6a			lda  p8_node
.35b0	85 02			sta  cx16.r0
.35b2	a5 6b			lda  p8_node+1
.35b4	85 03			sta  cx16.r0+1
.35b6	64 04			stz  cx16.r1
.35b8	64 05			stz  cx16.r1+1
.35ba	a0 02			ldy  #2
.35bc	20 e5 29		jsr  p8_struct.p8_set_wi
.35bf	a5 6a			lda  p8_node
.35c1	85 02			sta  cx16.r0
.35c3	a5 6b			lda  p8_node+1
.35c5	85 03			sta  cx16.r0+1
.35c7	64 04			stz  cx16.r1
.35c9	64 05			stz  cx16.r1+1
.35cb	a0 00			ldy  #0
.35cd	4c e5 29		jmp  p8_struct.p8_set_wi
.35d0			p8_linkedlist_root
=6				p8_LINKED_LIST_ROOT_SIZEOF = 6
=0				p8_LINKED_LIST_ROOT_head = 0
=3				p8_LINKED_LIST_ROOT_tail = 3
.35d0			p8_head_get
.35d0	ad be 45		lda  p8_ptr
.35d3	85 02			sta  cx16.r0
.35d5	ad bf 45		lda  p8_ptr+1
.35d8	85 03			sta  cx16.r0+1
.35da	64 06			stz  cx16.r2
.35dc	64 07			stz  cx16.r2+1
.35de	ad c0 45		lda  p8_result
.35e1	85 04			sta  cx16.r1
.35e3	ad c1 45		lda  p8_result+1
.35e6	85 05			sta  cx16.r1+1
.35e8	a2 03			ldx  #3
.35ea	4c 6c 2a		jmp  p8_fstruct.p8_get
>45be			p8_ptr	.word  ?
>45c0			p8_result	.word  ?
.35ed			p8_head_set
.35ed	ad c2 45		lda  p8_ptr
.35f0	85 02			sta  cx16.r0
.35f2	ad c3 45		lda  p8_ptr+1
.35f5	85 03			sta  cx16.r0+1
.35f7	64 06			stz  cx16.r2
.35f9	64 07			stz  cx16.r2+1
.35fb	ad c4 45		lda  p8_value
.35fe	85 04			sta  cx16.r1
.3600	ad c5 45		lda  p8_value+1
.3603	85 05			sta  cx16.r1+1
.3605	a2 03			ldx  #3
.3607	4c 3a 2a		jmp  p8_fstruct.p8_set
>45c2			p8_ptr	.word  ?
>45c4			p8_value	.word  ?
.360a			p8_tail_get
.360a	ad c6 45		lda  p8_ptr
.360d	85 02			sta  cx16.r0
.360f	ad c7 45		lda  p8_ptr+1
.3612	85 03			sta  cx16.r0+1
.3614	a9 03			lda  #3
.3616	85 06			sta  cx16.r2
.3618	64 07			stz  cx16.r2+1
.361a	ad c8 45		lda  p8_result
.361d	85 04			sta  cx16.r1
.361f	ad c9 45		lda  p8_result+1
.3622	85 05			sta  cx16.r1+1
.3624	a2 03			ldx  #3
.3626	4c 6c 2a		jmp  p8_fstruct.p8_get
>45c6			p8_ptr	.word  ?
>45c8			p8_result	.word  ?
.3629			p8_tail_set
.3629	ad ca 45		lda  p8_ptr
.362c	85 02			sta  cx16.r0
.362e	ad cb 45		lda  p8_ptr+1
.3631	85 03			sta  cx16.r0+1
.3633	a9 03			lda  #3
.3635	85 06			sta  cx16.r2
.3637	64 07			stz  cx16.r2+1
.3639	ad cc 45		lda  p8_value
.363c	85 04			sta  cx16.r1
.363e	ad cd 45		lda  p8_value+1
.3641	85 05			sta  cx16.r1+1
.3643	a2 03			ldx  #3
.3645	4c 3a 2a		jmp  p8_fstruct.p8_set
>45ca			p8_ptr	.word  ?
>45cc			p8_value	.word  ?
.3648			p8_linkedlist
.3648			p8_init
.3648	ad ce 45		lda  p8_heap
.364b	ac cf 45		ldy  p8_heap+1
.364e	8d 2e 45		sta  p8_fmalloc.p8_malloc.p8_pm
.3651	8c 2f 45		sty  p8_fmalloc.p8_malloc.p8_pm+1
.3654	a9 06			lda  #<6
.3656	a0 00			ldy  #>6
.3658	8d 32 45		sta  p8_fmalloc.p8_malloc.p8_size
.365b	8c 33 45		sty  p8_fmalloc.p8_malloc.p8_size+1
.365e	ad d0 45		lda  p8_root
.3661	ac d1 45		ldy  p8_root+1
.3664	8d 30 45		sta  p8_fmalloc.p8_malloc.p8_result
.3667	8c 31 45		sty  p8_fmalloc.p8_malloc.p8_result+1
.366a	20 61 1c		jsr  p8_fmalloc.p8_malloc
.366d	ad d0 45		lda  p8_root
.3670	ac d1 45		ldy  p8_root+1
.3673	8d c2 45		sta  p8_linkedlist_root.p8_head_set.p8_ptr
.3676	8c c3 45		sty  p8_linkedlist_root.p8_head_set.p8_ptr+1
.3679	a9 52			lda  #<p8_fptr.p8_NULL+0
.367b	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.367d	8d c4 45		sta  p8_linkedlist_root.p8_head_set.p8_value
.3680	8c c5 45		sty  p8_linkedlist_root.p8_head_set.p8_value+1
.3683	20 ed 35		jsr  p8_linkedlist_root.p8_head_set
.3686	ad d0 45		lda  p8_root
.3689	ac d1 45		ldy  p8_root+1
.368c	8d ca 45		sta  p8_linkedlist_root.p8_tail_set.p8_ptr
.368f	8c cb 45		sty  p8_linkedlist_root.p8_tail_set.p8_ptr+1
.3692	a9 52			lda  #<p8_fptr.p8_NULL+0
.3694	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.3696	8d cc 45		sta  p8_linkedlist_root.p8_tail_set.p8_value
.3699	8c cd 45		sty  p8_linkedlist_root.p8_tail_set.p8_value+1
.369c	4c 29 36		jmp  p8_linkedlist_root.p8_tail_set
>45ce			p8_heap	.word  ?
>45d0			p8_root	.word  ?
.369f			p8_add_last
.369f	ad d4 45		lda  p8_heap
.36a2	ac d5 45		ldy  p8_heap+1
.36a5	8d 2e 45		sta  p8_fmalloc.p8_malloc.p8_pm
.36a8	8c 2f 45		sty  p8_fmalloc.p8_malloc.p8_pm+1
.36ab	a9 0a			lda  #<10
.36ad	a0 00			ldy  #>10
.36af	8d 32 45		sta  p8_fmalloc.p8_malloc.p8_size
.36b2	8c 33 45		sty  p8_fmalloc.p8_malloc.p8_size+1
.36b5	a9 d9			lda  #<p8_pNew+0
.36b7	a0 45			ldy  #>p8_pNew+0
.36b9	8d 30 45		sta  p8_fmalloc.p8_malloc.p8_result
.36bc	8c 31 45		sty  p8_fmalloc.p8_malloc.p8_result+1
.36bf	20 61 1c		jsr  p8_fmalloc.p8_malloc
.36c2	a9 d9			lda  #<p8_pNew+0
.36c4	a0 45			ldy  #>p8_pNew+0
.36c6	8d 13 46		sta  p8_linkedlist_item.p8_data_set.p8_ptr
.36c9	8c 14 46		sty  p8_linkedlist_item.p8_data_set.p8_ptr+1
.36cc	ad d2 45		lda  p8_data
.36cf	ac d3 45		ldy  p8_data+1
.36d2	8d 15 46		sta  p8_linkedlist_item.p8_data_set.p8_value
.36d5	8c 16 46		sty  p8_linkedlist_item.p8_data_set.p8_value+1
.36d8	20 ba 39		jsr  p8_linkedlist_item.p8_data_set
.36db	a9 d9			lda  #<p8_pNew+0
.36dd	a0 45			ldy  #>p8_pNew+0
.36df	8d 03 46		sta  p8_linkedlist_item.p8_next_set.p8_ptr
.36e2	8c 04 46		sty  p8_linkedlist_item.p8_next_set.p8_ptr+1
.36e5	a9 52			lda  #<p8_fptr.p8_NULL+0
.36e7	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.36e9	8d 05 46		sta  p8_linkedlist_item.p8_next_set.p8_value
.36ec	8c 06 46		sty  p8_linkedlist_item.p8_next_set.p8_value+1
.36ef	20 40 39		jsr  p8_linkedlist_item.p8_next_set
.36f2	ad e1 45		lda  p8_root
.36f5	ac e2 45		ldy  p8_root+1
.36f8	8d be 45		sta  p8_linkedlist_root.p8_head_get.p8_ptr
.36fb	8c bf 45		sty  p8_linkedlist_root.p8_head_get.p8_ptr+1
.36fe	a9 d6			lda  #<p8_pHead+0
.3700	a0 45			ldy  #>p8_pHead+0
.3702	8d c0 45		sta  p8_linkedlist_root.p8_head_get.p8_result
.3705	8c c1 45		sty  p8_linkedlist_root.p8_head_get.p8_result+1
.3708	20 d0 35		jsr  p8_linkedlist_root.p8_head_get
.370b	a9 d6			lda  #<p8_pHead+0
.370d	85 02			sta  cx16.r0
.370f	a9 45			lda  #>p8_pHead+0
.3711	85 03			sta  cx16.r0+1
.3713	a0 00		    ldy  #0
.3715	b1 02			lda  (cx16.r0),y
.3717	c8			iny
.3718	18			clc
.3719	71 02			adc  (cx16.r0),y
.371b	c8			iny
.371c	18			clc
.371d	71 02			adc  (cx16.r0),y
.371f	f0 02			beq  +
.3721	a9 01			lda  #1
.3723			    +
.3723	49 01		    eor  #1
.3725	c9 00			cmp  #0
.3727	f0 32			beq  prog8_label_asm_43_if_else
.3729	ad e1 45		lda  p8_root
.372c	ac e2 45		ldy  p8_root+1
.372f	8d c2 45		sta  p8_linkedlist_root.p8_head_set.p8_ptr
.3732	8c c3 45		sty  p8_linkedlist_root.p8_head_set.p8_ptr+1
.3735	a9 d9			lda  #<p8_pNew+0
.3737	a0 45			ldy  #>p8_pNew+0
.3739	8d c4 45		sta  p8_linkedlist_root.p8_head_set.p8_value
.373c	8c c5 45		sty  p8_linkedlist_root.p8_head_set.p8_value+1
.373f	20 ed 35		jsr  p8_linkedlist_root.p8_head_set
.3742	a9 d9			lda  #<p8_pNew+0
.3744	a0 45			ldy  #>p8_pNew+0
.3746	8d 0b 46		sta  p8_linkedlist_item.p8_prev_set.p8_ptr
.3749	8c 0c 46		sty  p8_linkedlist_item.p8_prev_set.p8_ptr+1
.374c	a9 52			lda  #<p8_fptr.p8_NULL+0
.374e	a0 2b			ldy  #>p8_fptr.p8_NULL+0
.3750	8d 0d 46		sta  p8_linkedlist_item.p8_prev_set.p8_value
.3753	8c 0e 46		sty  p8_linkedlist_item.p8_prev_set.p8_value+1
.3756	20 7c 39		jsr  p8_linkedlist_item.p8_prev_set
.3759	80 47			bra  prog8_label_asm_44_if_end
.375b			prog8_label_asm_43_if_else
.375b	ad e1 45		lda  p8_root
.375e	ac e2 45		ldy  p8_root+1
.3761	8d c6 45		sta  p8_linkedlist_root.p8_tail_get.p8_ptr
.3764	8c c7 45		sty  p8_linkedlist_root.p8_tail_get.p8_ptr+1
.3767	a9 dc			lda  #<p8_pTail+0
.3769	a0 45			ldy  #>p8_pTail+0
.376b	8d c8 45		sta  p8_linkedlist_root.p8_tail_get.p8_result
.376e	8c c9 45		sty  p8_linkedlist_root.p8_tail_get.p8_result+1
.3771	20 0a 36		jsr  p8_linkedlist_root.p8_tail_get
.3774	a9 dc			lda  #<p8_pTail+0
.3776	a0 45			ldy  #>p8_pTail+0
.3778	8d 03 46		sta  p8_linkedlist_item.p8_next_set.p8_ptr
.377b	8c 04 46		sty  p8_linkedlist_item.p8_next_set.p8_ptr+1
.377e	a9 d9			lda  #<p8_pNew+0
.3780	a0 45			ldy  #>p8_pNew+0
.3782	8d 05 46		sta  p8_linkedlist_item.p8_next_set.p8_value
.3785	8c 06 46		sty  p8_linkedlist_item.p8_next_set.p8_value+1
.3788	20 40 39		jsr  p8_linkedlist_item.p8_next_set
.378b	a9 d9			lda  #<p8_pNew+0
.378d	a0 45			ldy  #>p8_pNew+0
.378f	8d 0b 46		sta  p8_linkedlist_item.p8_prev_set.p8_ptr
.3792	8c 0c 46		sty  p8_linkedlist_item.p8_prev_set.p8_ptr+1
.3795	a9 dc			lda  #<p8_pTail+0
.3797	a0 45			ldy  #>p8_pTail+0
.3799	8d 0d 46		sta  p8_linkedlist_item.p8_prev_set.p8_value
.379c	8c 0e 46		sty  p8_linkedlist_item.p8_prev_set.p8_value+1
.379f	20 7c 39		jsr  p8_linkedlist_item.p8_prev_set
.37a2			prog8_label_asm_44_if_end
.37a2	ad e1 45		lda  p8_root
.37a5	ac e2 45		ldy  p8_root+1
.37a8	8d ca 45		sta  p8_linkedlist_root.p8_tail_set.p8_ptr
.37ab	8c cb 45		sty  p8_linkedlist_root.p8_tail_set.p8_ptr+1
.37ae	a9 d9			lda  #<p8_pNew+0
.37b0	a0 45			ldy  #>p8_pNew+0
.37b2	8d cc 45		sta  p8_linkedlist_root.p8_tail_set.p8_value
.37b5	8c cd 45		sty  p8_linkedlist_root.p8_tail_set.p8_value+1
.37b8	20 29 36		jsr  p8_linkedlist_root.p8_tail_set
.37bb	ad d9 45		lda  p8_pNew+0
.37be	ac df 45		ldy  p8_result
.37c1	84 7c			sty  P8ZP_SCRATCH_W1
.37c3	ac e0 45		ldy  p8_result+1
.37c6	84 7d			sty  P8ZP_SCRATCH_W1+1
.37c8	a0 00			ldy  #0
.37ca	91 7c			sta  (P8ZP_SCRATCH_W1),y
.37cc	ad da 45		lda  p8_pNew+1
.37cf	ac df 45		ldy  p8_result
.37d2	84 7c			sty  P8ZP_SCRATCH_W1
.37d4	ac e0 45		ldy  p8_result+1
.37d7	84 7d			sty  P8ZP_SCRATCH_W1+1
.37d9	a0 01			ldy  #1
.37db	91 7c			sta  (P8ZP_SCRATCH_W1),y
.37dd	ad db 45		lda  p8_pNew+2
.37e0	ac df 45		ldy  p8_result
.37e3	84 7c			sty  P8ZP_SCRATCH_W1
.37e5	ac e0 45		ldy  p8_result+1
.37e8	84 7d			sty  P8ZP_SCRATCH_W1+1
.37ea	a0 02			ldy  #2
.37ec	91 7c			sta  (P8ZP_SCRATCH_W1),y
.37ee	60			rts
>45d2			p8_data	.word  ?
>45d4			p8_heap	.word  ?
>45d6			p8_pHead	.fill  3
>45d9			p8_pNew	.fill  3
>45dc			p8_pTail	.fill  3
>45df			p8_result	.word  ?
>45e1			p8_root	.word  ?
.37ef			p8_first
.37ef	ad e8 45		lda  p8_root
.37f2	ac e9 45		ldy  p8_root+1
.37f5	8d be 45		sta  p8_linkedlist_root.p8_head_get.p8_ptr
.37f8	8c bf 45		sty  p8_linkedlist_root.p8_head_get.p8_ptr+1
.37fb	a9 e3			lda  #<p8_pTemp+0
.37fd	a0 45			ldy  #>p8_pTemp+0
.37ff	8d c0 45		sta  p8_linkedlist_root.p8_head_get.p8_result
.3802	8c c1 45		sty  p8_linkedlist_root.p8_head_get.p8_result+1
.3805	20 d0 35		jsr  p8_linkedlist_root.p8_head_get
.3808	ad e3 45		lda  p8_pTemp+0
.380b	ac e6 45		ldy  p8_result
.380e	84 7c			sty  P8ZP_SCRATCH_W1
.3810	ac e7 45		ldy  p8_result+1
.3813	84 7d			sty  P8ZP_SCRATCH_W1+1
.3815	a0 00			ldy  #0
.3817	91 7c			sta  (P8ZP_SCRATCH_W1),y
.3819	ad e4 45		lda  p8_pTemp+1
.381c	ac e6 45		ldy  p8_result
.381f	84 7c			sty  P8ZP_SCRATCH_W1
.3821	ac e7 45		ldy  p8_result+1
.3824	84 7d			sty  P8ZP_SCRATCH_W1+1
.3826	a0 01			ldy  #1
.3828	91 7c			sta  (P8ZP_SCRATCH_W1),y
.382a	ad e5 45		lda  p8_pTemp+2
.382d	ac e6 45		ldy  p8_result
.3830	84 7c			sty  P8ZP_SCRATCH_W1
.3832	ac e7 45		ldy  p8_result+1
.3835	84 7d			sty  P8ZP_SCRATCH_W1+1
.3837	a0 02			ldy  #2
.3839	91 7c			sta  (P8ZP_SCRATCH_W1),y
.383b	60			rts
>45e3			p8_pTemp	.fill  3
>45e6			p8_result	.word  ?
>45e8			p8_root	.word  ?
.383c			p8_last
.383c	ad ef 45		lda  p8_root
.383f	ac f0 45		ldy  p8_root+1
.3842	8d c6 45		sta  p8_linkedlist_root.p8_tail_get.p8_ptr
.3845	8c c7 45		sty  p8_linkedlist_root.p8_tail_get.p8_ptr+1
.3848	a9 ea			lda  #<p8_pTemp+0
.384a	a0 45			ldy  #>p8_pTemp+0
.384c	8d c8 45		sta  p8_linkedlist_root.p8_tail_get.p8_result
.384f	8c c9 45		sty  p8_linkedlist_root.p8_tail_get.p8_result+1
.3852	20 0a 36		jsr  p8_linkedlist_root.p8_tail_get
.3855	ad ea 45		lda  p8_pTemp+0
.3858	ac ed 45		ldy  p8_result
.385b	84 7c			sty  P8ZP_SCRATCH_W1
.385d	ac ee 45		ldy  p8_result+1
.3860	84 7d			sty  P8ZP_SCRATCH_W1+1
.3862	a0 00			ldy  #0
.3864	91 7c			sta  (P8ZP_SCRATCH_W1),y
.3866	ad eb 45		lda  p8_pTemp+1
.3869	ac ed 45		ldy  p8_result
.386c	84 7c			sty  P8ZP_SCRATCH_W1
.386e	ac ee 45		ldy  p8_result+1
.3871	84 7d			sty  P8ZP_SCRATCH_W1+1
.3873	a0 01			ldy  #1
.3875	91 7c			sta  (P8ZP_SCRATCH_W1),y
.3877	ad ec 45		lda  p8_pTemp+2
.387a	ac ed 45		ldy  p8_result
.387d	84 7c			sty  P8ZP_SCRATCH_W1
.387f	ac ee 45		ldy  p8_result+1
.3882	84 7d			sty  P8ZP_SCRATCH_W1+1
.3884	a0 02			ldy  #2
.3886	91 7c			sta  (P8ZP_SCRATCH_W1),y
.3888	60			rts
>45ea			p8_pTemp	.fill  3
>45ed			p8_result	.word  ?
>45ef			p8_root	.word  ?
.3889			p8_next
.3889	ad f1 45		lda  p8_current
.388c	ac f2 45		ldy  p8_current+1
.388f	8d ff 45		sta  p8_linkedlist_item.p8_next_get.p8_ptr
.3892	8c 00 46		sty  p8_linkedlist_item.p8_next_get.p8_ptr+1
.3895	a9 f3			lda  #<p8_pTemp+0
.3897	a0 45			ldy  #>p8_pTemp+0
.3899	8d 01 46		sta  p8_linkedlist_item.p8_next_get.p8_result
.389c	8c 02 46		sty  p8_linkedlist_item.p8_next_get.p8_result+1
.389f	20 23 39		jsr  p8_linkedlist_item.p8_next_get
.38a2	ad f3 45		lda  p8_pTemp+0
.38a5	ac f6 45		ldy  p8_result
.38a8	84 7c			sty  P8ZP_SCRATCH_W1
.38aa	ac f7 45		ldy  p8_result+1
.38ad	84 7d			sty  P8ZP_SCRATCH_W1+1
.38af	a0 00			ldy  #0
.38b1	91 7c			sta  (P8ZP_SCRATCH_W1),y
.38b3	ad f4 45		lda  p8_pTemp+1
.38b6	ac f6 45		ldy  p8_result
.38b9	84 7c			sty  P8ZP_SCRATCH_W1
.38bb	ac f7 45		ldy  p8_result+1
.38be	84 7d			sty  P8ZP_SCRATCH_W1+1
.38c0	a0 01			ldy  #1
.38c2	91 7c			sta  (P8ZP_SCRATCH_W1),y
.38c4	ad f5 45		lda  p8_pTemp+2
.38c7	ac f6 45		ldy  p8_result
.38ca	84 7c			sty  P8ZP_SCRATCH_W1
.38cc	ac f7 45		ldy  p8_result+1
.38cf	84 7d			sty  P8ZP_SCRATCH_W1+1
.38d1	a0 02			ldy  #2
.38d3	91 7c			sta  (P8ZP_SCRATCH_W1),y
.38d5	60			rts
>45f1			p8_current	.word  ?
>45f3			p8_pTemp	.fill  3
>45f6			p8_result	.word  ?
.38d6			p8_prev
.38d6	ad f8 45		lda  p8_current
.38d9	ac f9 45		ldy  p8_current+1
.38dc	8d 07 46		sta  p8_linkedlist_item.p8_prev_get.p8_ptr
.38df	8c 08 46		sty  p8_linkedlist_item.p8_prev_get.p8_ptr+1
.38e2	a9 fa			lda  #<p8_pTemp+0
.38e4	a0 45			ldy  #>p8_pTemp+0
.38e6	8d 09 46		sta  p8_linkedlist_item.p8_prev_get.p8_result
.38e9	8c 0a 46		sty  p8_linkedlist_item.p8_prev_get.p8_result+1
.38ec	20 5d 39		jsr  p8_linkedlist_item.p8_prev_get
.38ef	ad fa 45		lda  p8_pTemp+0
.38f2	ac fd 45		ldy  p8_result
.38f5	84 7c			sty  P8ZP_SCRATCH_W1
.38f7	ac fe 45		ldy  p8_result+1
.38fa	84 7d			sty  P8ZP_SCRATCH_W1+1
.38fc	a0 00			ldy  #0
.38fe	91 7c			sta  (P8ZP_SCRATCH_W1),y
.3900	ad fb 45		lda  p8_pTemp+1
.3903	ac fd 45		ldy  p8_result
.3906	84 7c			sty  P8ZP_SCRATCH_W1
.3908	ac fe 45		ldy  p8_result+1
.390b	84 7d			sty  P8ZP_SCRATCH_W1+1
.390d	a0 01			ldy  #1
.390f	91 7c			sta  (P8ZP_SCRATCH_W1),y
.3911	ad fc 45		lda  p8_pTemp+2
.3914	ac fd 45		ldy  p8_result
.3917	84 7c			sty  P8ZP_SCRATCH_W1
.3919	ac fe 45		ldy  p8_result+1
.391c	84 7d			sty  P8ZP_SCRATCH_W1+1
.391e	a0 02			ldy  #2
.3920	91 7c			sta  (P8ZP_SCRATCH_W1),y
.3922	60			rts
>45f8			p8_current	.word  ?
>45fa			p8_pTemp	.fill  3
>45fd			p8_result	.word  ?
.3923			p8_linkedlist_item
=10				p8_LINKED_LIST_ITEM_SIZEOF = 10
=6				p8_LINKED_LIST_ITEM_data = 6
=0				p8_LINKED_LIST_ITEM_next = 0
=3				p8_LINKED_LIST_ITEM_prev = 3
.3923			p8_next_get
.3923	ad ff 45		lda  p8_ptr
.3926	85 02			sta  cx16.r0
.3928	ad 00 46		lda  p8_ptr+1
.392b	85 03			sta  cx16.r0+1
.392d	64 06			stz  cx16.r2
.392f	64 07			stz  cx16.r2+1
.3931	ad 01 46		lda  p8_result
.3934	85 04			sta  cx16.r1
.3936	ad 02 46		lda  p8_result+1
.3939	85 05			sta  cx16.r1+1
.393b	a2 03			ldx  #3
.393d	4c 6c 2a		jmp  p8_fstruct.p8_get
>45ff			p8_ptr	.word  ?
>4601			p8_result	.word  ?
.3940			p8_next_set
.3940	ad 03 46		lda  p8_ptr
.3943	85 02			sta  cx16.r0
.3945	ad 04 46		lda  p8_ptr+1
.3948	85 03			sta  cx16.r0+1
.394a	64 06			stz  cx16.r2
.394c	64 07			stz  cx16.r2+1
.394e	ad 05 46		lda  p8_value
.3951	85 04			sta  cx16.r1
.3953	ad 06 46		lda  p8_value+1
.3956	85 05			sta  cx16.r1+1
.3958	a2 03			ldx  #3
.395a	4c 3a 2a		jmp  p8_fstruct.p8_set
>4603			p8_ptr	.word  ?
>4605			p8_value	.word  ?
.395d			p8_prev_get
.395d	ad 07 46		lda  p8_ptr
.3960	85 02			sta  cx16.r0
.3962	ad 08 46		lda  p8_ptr+1
.3965	85 03			sta  cx16.r0+1
.3967	a9 03			lda  #3
.3969	85 06			sta  cx16.r2
.396b	64 07			stz  cx16.r2+1
.396d	ad 09 46		lda  p8_result
.3970	85 04			sta  cx16.r1
.3972	ad 0a 46		lda  p8_result+1
.3975	85 05			sta  cx16.r1+1
.3977	a2 03			ldx  #3
.3979	4c 6c 2a		jmp  p8_fstruct.p8_get
>4607			p8_ptr	.word  ?
>4609			p8_result	.word  ?
.397c			p8_prev_set
.397c	ad 0b 46		lda  p8_ptr
.397f	85 02			sta  cx16.r0
.3981	ad 0c 46		lda  p8_ptr+1
.3984	85 03			sta  cx16.r0+1
.3986	a9 03			lda  #3
.3988	85 06			sta  cx16.r2
.398a	64 07			stz  cx16.r2+1
.398c	ad 0d 46		lda  p8_value
.398f	85 04			sta  cx16.r1
.3991	ad 0e 46		lda  p8_value+1
.3994	85 05			sta  cx16.r1+1
.3996	a2 03			ldx  #3
.3998	4c 3a 2a		jmp  p8_fstruct.p8_set
>460b			p8_ptr	.word  ?
>460d			p8_value	.word  ?
.399b			p8_data_get
.399b	ad 0f 46		lda  p8_ptr
.399e	85 02			sta  cx16.r0
.39a0	ad 10 46		lda  p8_ptr+1
.39a3	85 03			sta  cx16.r0+1
.39a5	a9 06			lda  #6
.39a7	85 06			sta  cx16.r2
.39a9	64 07			stz  cx16.r2+1
.39ab	ad 11 46		lda  p8_result
.39ae	85 04			sta  cx16.r1
.39b0	ad 12 46		lda  p8_result+1
.39b3	85 05			sta  cx16.r1+1
.39b5	a2 03			ldx  #3
.39b7	4c 6c 2a		jmp  p8_fstruct.p8_get
>460f			p8_ptr	.word  ?
>4611			p8_result	.word  ?
.39ba			p8_data_set
.39ba	ad 13 46		lda  p8_ptr
.39bd	85 02			sta  cx16.r0
.39bf	ad 14 46		lda  p8_ptr+1
.39c2	85 03			sta  cx16.r0+1
.39c4	a9 06			lda  #6
.39c6	85 06			sta  cx16.r2
.39c8	64 07			stz  cx16.r2+1
.39ca	ad 15 46		lda  p8_value
.39cd	85 04			sta  cx16.r1
.39cf	ad 16 46		lda  p8_value+1
.39d2	85 05			sta  cx16.r1+1
.39d4	a2 03			ldx  #3
.39d6	4c 3a 2a		jmp  p8_fstruct.p8_set
>4613			p8_ptr	.word  ?
>4615			p8_value	.word  ?
.39d9			monogfx2
=$f000				charset_addr = $f000
=1				charset_bank = 1
>4617			dont_stipple_flag	.byte  ?
>4618			height	.word  ?
>461a			width	.word  ?
.39d9			hires
.39d9	9c 25 9f		stz  cx16.VERA_CTRL
.39dc	ad 29 9f		lda  cx16.VERA_DC_VIDEO
.39df	29 cf			and  #$cf
.39e1	09 20			ora  #$20
.39e3	8d 29 9f		sta  cx16.VERA_DC_VIDEO
.39e6	a9 80			lda  #$80
.39e8	8d 2a 9f		sta  cx16.VERA_DC_HSCALE
.39eb	8d 2b 9f		sta  cx16.VERA_DC_VSCALE
.39ee	a9 04			lda  #4
.39f0	8d 34 9f		sta  cx16.VERA_L1_CONFIG
.39f3	9c 35 9f		stz  cx16.VERA_L1_MAPBASE
.39f6	a9 01			lda  #1
.39f8	8d 36 9f		sta  cx16.VERA_L1_TILEBASE
.39fb	a9 80			lda  #<$0280
.39fd	a0 02			ldy  #>$0280
.39ff	8d 1a 46		sta  monogfx2.width
.3a02	8c 1b 46		sty  monogfx2.width+1
.3a05	a9 e0			lda  #<$01e0
.3a07	a0 01			ldy  #>$01e0
.3a09	8d 18 46		sta  monogfx2.height
.3a0c	8c 19 46		sty  monogfx2.height+1
.3a0f	a9 00			lda  #0
.3a11	4c 14 3a		jmp  monogfx2.clear_screen
.3a14			clear_screen
.3a14	8d 1e 46		sta  color
.3a17	a9 00			lda  #0
.3a19	20 cf 3a		jsr  monogfx2.stipple
.3a1c	9c 4f 46		stz  monogfx2.position.xx
.3a1f	9c 50 46		stz  monogfx2.position.xx+1
.3a22	9c 51 46		stz  monogfx2.position.yy
.3a25	9c 52 46		stz  monogfx2.position.yy+1
.3a28	20 3c 41		jsr  monogfx2.position
.3a2b	ac 1b 46		ldy  monogfx2.width+1
.3a2e	ad 1a 46		lda  monogfx2.width
.3a31	c9 40			cmp  #<$0140
.3a33	d0 04			bne  +
.3a35	c0 01			cpy  #>$0140
.3a37	f0 0a			beq  prog8_label_asm_46_choice
.3a39			+
.3a39	c9 80			cmp  #<$0280
.3a3b	d0 04			bne  +
.3a3d	c0 02			cpy  #>$0280
.3a3f	f0 14			beq  prog8_label_asm_47_choice
.3a41			+
.3a41	80 22			bra  prog8_label_asm_45_choice_end
.3a43			prog8_label_asm_46_choice
.3a43	a9 0f			lda  #15
.3a45	8d 1c 46		sta  prog8_label_asm_50_counter
.3a48			prog8_label_asm_49_repeat
.3a48	ad 1e 46		lda  color
.3a4b	20 36 43		jsr  monogfx2.cs_innerloop640
.3a4e	ce 1c 46		dec  prog8_label_asm_50_counter
.3a51	d0 f5			bne  prog8_label_asm_49_repeat
.3a53	80 10			bra  prog8_label_asm_45_choice_end
.3a55			prog8_label_asm_47_choice
.3a55	a9 3c			lda  #60
.3a57	8d 1d 46		sta  prog8_label_asm_53_counter
.3a5a			prog8_label_asm_52_repeat
.3a5a	ad 1e 46		lda  color
.3a5d	20 36 43		jsr  monogfx2.cs_innerloop640
.3a60	ce 1d 46		dec  prog8_label_asm_53_counter
.3a63	d0 f5			bne  prog8_label_asm_52_repeat
.3a65			prog8_label_asm_45_choice_end
.3a65	9c 4f 46		stz  monogfx2.position.xx
.3a68	9c 50 46		stz  monogfx2.position.xx+1
.3a6b	9c 51 46		stz  monogfx2.position.yy
.3a6e	9c 52 46		stz  monogfx2.position.yy+1
.3a71	4c 3c 41		jmp  monogfx2.position
>461c			prog8_label_asm_50_counter    .byte  ?
>461d			prog8_label_asm_53_counter    .byte  ?
>461e			color	.byte  ?
.3a74			clear_screen_stipple
.3a74	a9 00			lda  #0
.3a76	20 cf 3a		jsr  monogfx2.stipple
.3a79	9c 4f 46		stz  monogfx2.position.xx
.3a7c	9c 50 46		stz  monogfx2.position.xx+1
.3a7f	9c 51 46		stz  monogfx2.position.yy
.3a82	9c 52 46		stz  monogfx2.position.yy+1
.3a85	20 3c 41		jsr  monogfx2.position
.3a88	ac 1b 46		ldy  monogfx2.width+1
.3a8b	ad 1a 46		lda  monogfx2.width
.3a8e	c9 40			cmp  #<$0140
.3a90	d0 04			bne  +
.3a92	c0 01			cpy  #>$0140
.3a94	f0 0a			beq  prog8_label_asm_55_choice
.3a96			+
.3a96	c9 80			cmp  #<$0280
.3a98	d0 04			bne  +
.3a9a	c0 02			cpy  #>$0280
.3a9c	f0 13			beq  prog8_label_asm_56_choice
.3a9e			+
.3a9e	80 20			bra  prog8_label_asm_54_choice_end
.3aa0			prog8_label_asm_55_choice
.3aa0	a9 1e			lda  #30
.3aa2	8d 1f 46		sta  prog8_label_asm_59_counter
.3aa5			prog8_label_asm_58_repeat
.3aa5	a9 0a			lda  #10
.3aa7	20 5a 43		jsr  monogfx2.cs_innerloop640_s
.3aaa	ce 1f 46		dec  prog8_label_asm_59_counter
.3aad	d0 f6			bne  prog8_label_asm_58_repeat
.3aaf	80 0f			bra  prog8_label_asm_54_choice_end
.3ab1			prog8_label_asm_56_choice
.3ab1	a9 3c			lda  #60
.3ab3	8d 20 46		sta  prog8_label_asm_62_counter
.3ab6			prog8_label_asm_61_repeat
.3ab6	a9 0a			lda  #10
.3ab8	20 5a 43		jsr  monogfx2.cs_innerloop640_s
.3abb	ce 20 46		dec  prog8_label_asm_62_counter
.3abe	d0 f6			bne  prog8_label_asm_61_repeat
.3ac0			prog8_label_asm_54_choice_end
.3ac0	9c 4f 46		stz  monogfx2.position.xx
.3ac3	9c 50 46		stz  monogfx2.position.xx+1
.3ac6	9c 51 46		stz  monogfx2.position.yy
.3ac9	9c 52 46		stz  monogfx2.position.yy+1
.3acc	4c 3c 41		jmp  monogfx2.position
>461f			prog8_label_asm_59_counter    .byte  ?
>4620			prog8_label_asm_62_counter    .byte  ?
.3acf			stipple
.3acf	8d 21 46		sta  enable
.3ad2	ad 21 46		lda  enable
.3ad5	f0 02			beq  +
.3ad7	a9 01			lda  #1
.3ad9	49 01		+                           eor  #1
.3adb	8d 17 46		sta  monogfx2.dont_stipple_flag
.3ade	60			rts
>4621			enable	.byte  ?
.3adf			rect
.3adf	ac 26 46		ldy  rwidth+1
.3ae2	ad 25 46		lda  rwidth
.3ae5	84 7a			sty  P8ZP_SCRATCH_B1
.3ae7	05 7a			ora  P8ZP_SCRATCH_B1
.3ae9	f0 02			beq  +
.3aeb	a9 01			lda  #1
.3aed	49 01		+                           eor  #1
.3aef	48			pha
.3af0	ac 24 46		ldy  rheight+1
.3af3	ad 23 46		lda  rheight
.3af6	84 7a			sty  P8ZP_SCRATCH_B1
.3af8	05 7a			ora  P8ZP_SCRATCH_B1
.3afa	f0 02			beq  +
.3afc	a9 01			lda  #1
.3afe	49 01		+                           eor  #1
.3b00	85 7a			sta  P8ZP_SCRATCH_B1
.3b02	68			pla
.3b03	05 7a			ora  P8ZP_SCRATCH_B1
.3b05	f0 01			beq  prog8_label_asm_63_if_end
.3b07	60			rts
.3b08			prog8_label_asm_63_if_end
.3b08	ad 27 46		lda  xx
.3b0b	ac 28 46		ldy  xx+1
.3b0e	8d 3c 46		sta  monogfx2.horizontal_line.xx
.3b11	8c 3d 46		sty  monogfx2.horizontal_line.xx+1
.3b14	ad 29 46		lda  yy
.3b17	ac 2a 46		ldy  yy+1
.3b1a	8d 3e 46		sta  monogfx2.horizontal_line.yy
.3b1d	8c 3f 46		sty  monogfx2.horizontal_line.yy+1
.3b20	ad 25 46		lda  rwidth
.3b23	ac 26 46		ldy  rwidth+1
.3b26	8d 39 46		sta  monogfx2.horizontal_line.length
.3b29	8c 3a 46		sty  monogfx2.horizontal_line.length+1
.3b2c	ad 22 46		lda  draw
.3b2f	8d 38 46		sta  monogfx2.horizontal_line.draw
.3b32	20 85 3c		jsr  monogfx2.horizontal_line
.3b35	ad 23 46		lda  rheight
.3b38	c9 01			cmp  #<1
.3b3a	d0 08			bne  prog8_label_asm_64_if_end
.3b3c	ad 24 46		lda  rheight+1
.3b3f	c9 00			cmp  #>1
.3b41	d0 01			bne  prog8_label_asm_64_if_end
.3b43	60			rts
.3b44			prog8_label_asm_64_if_end
.3b44	ad 27 46		lda  xx
.3b47	ac 28 46		ldy  xx+1
.3b4a	8d 3c 46		sta  monogfx2.horizontal_line.xx
.3b4d	8c 3d 46		sty  monogfx2.horizontal_line.xx+1
.3b50	ac 2a 46		ldy  yy+1
.3b53	ad 29 46		lda  yy
.3b56	18			clc
.3b57	6d 23 46		adc  rheight
.3b5a	aa			tax
.3b5b	98			tya
.3b5c	6d 24 46		adc  rheight+1
.3b5f	a8			tay
.3b60	8a			txa
.3b61	38			sec
.3b62	e9 01			sbc  #<1
.3b64	aa			tax
.3b65	98			tya
.3b66	e9 00			sbc  #>1
.3b68	a8			tay
.3b69	8a			txa
.3b6a	8d 3e 46		sta  monogfx2.horizontal_line.yy
.3b6d	8c 3f 46		sty  monogfx2.horizontal_line.yy+1
.3b70	ad 25 46		lda  rwidth
.3b73	ac 26 46		ldy  rwidth+1
.3b76	8d 39 46		sta  monogfx2.horizontal_line.length
.3b79	8c 3a 46		sty  monogfx2.horizontal_line.length+1
.3b7c	ad 22 46		lda  draw
.3b7f	8d 38 46		sta  monogfx2.horizontal_line.draw
.3b82	20 85 3c		jsr  monogfx2.horizontal_line
.3b85	ad 27 46		lda  xx
.3b88	ac 28 46		ldy  xx+1
.3b8b	8d 46 46		sta  monogfx2.vertical_line.xx
.3b8e	8c 47 46		sty  monogfx2.vertical_line.xx+1
.3b91	ac 2a 46		ldy  yy+1
.3b94	ad 29 46		lda  yy
.3b97	18			clc
.3b98	69 01			adc  #<1
.3b9a	aa			tax
.3b9b	98			tya
.3b9c	69 00			adc  #>1
.3b9e	a8			tay
.3b9f	8a			txa
.3ba0	8d 48 46		sta  monogfx2.vertical_line.yy
.3ba3	8c 49 46		sty  monogfx2.vertical_line.yy+1
.3ba6	ac 24 46		ldy  rheight+1
.3ba9	ad 23 46		lda  rheight
.3bac	38			sec
.3bad	e9 02			sbc  #<2
.3baf	aa			tax
.3bb0	98			tya
.3bb1	e9 00			sbc  #>2
.3bb3	a8			tay
.3bb4	8a			txa
.3bb5	8d 44 46		sta  monogfx2.vertical_line.lheight
.3bb8	8c 45 46		sty  monogfx2.vertical_line.lheight+1
.3bbb	ad 22 46		lda  draw
.3bbe	8d 43 46		sta  monogfx2.vertical_line.draw
.3bc1	20 ef 3e		jsr  monogfx2.vertical_line
.3bc4	ad 25 46		lda  rwidth
.3bc7	c9 01			cmp  #<1
.3bc9	d0 08			bne  prog8_label_asm_65_if_end
.3bcb	ad 26 46		lda  rwidth+1
.3bce	c9 00			cmp  #>1
.3bd0	d0 01			bne  prog8_label_asm_65_if_end
.3bd2	60			rts
.3bd3			prog8_label_asm_65_if_end
.3bd3	ac 28 46		ldy  xx+1
.3bd6	ad 27 46		lda  xx
.3bd9	18			clc
.3bda	6d 25 46		adc  rwidth
.3bdd	aa			tax
.3bde	98			tya
.3bdf	6d 26 46		adc  rwidth+1
.3be2	a8			tay
.3be3	8a			txa
.3be4	38			sec
.3be5	e9 01			sbc  #<1
.3be7	aa			tax
.3be8	98			tya
.3be9	e9 00			sbc  #>1
.3beb	a8			tay
.3bec	8a			txa
.3bed	8d 46 46		sta  monogfx2.vertical_line.xx
.3bf0	8c 47 46		sty  monogfx2.vertical_line.xx+1
.3bf3	ac 2a 46		ldy  yy+1
.3bf6	ad 29 46		lda  yy
.3bf9	18			clc
.3bfa	69 01			adc  #<1
.3bfc	aa			tax
.3bfd	98			tya
.3bfe	69 00			adc  #>1
.3c00	a8			tay
.3c01	8a			txa
.3c02	8d 48 46		sta  monogfx2.vertical_line.yy
.3c05	8c 49 46		sty  monogfx2.vertical_line.yy+1
.3c08	ac 24 46		ldy  rheight+1
.3c0b	ad 23 46		lda  rheight
.3c0e	38			sec
.3c0f	e9 02			sbc  #<2
.3c11	aa			tax
.3c12	98			tya
.3c13	e9 00			sbc  #>2
.3c15	a8			tay
.3c16	8a			txa
.3c17	8d 44 46		sta  monogfx2.vertical_line.lheight
.3c1a	8c 45 46		sty  monogfx2.vertical_line.lheight+1
.3c1d	ad 22 46		lda  draw
.3c20	8d 43 46		sta  monogfx2.vertical_line.draw
.3c23	4c ef 3e		jmp  monogfx2.vertical_line
>4622			draw	.byte  ?
>4623			rheight	.word  ?
>4625			rwidth	.word  ?
>4627			xx	.word  ?
>4629			yy	.word  ?
.3c26			fillrect
.3c26	ad 30 46		lda  rwidth
.3c29	0d 31 46		ora  rwidth+1
.3c2c	d0 01			bne  prog8_label_asm_66_if_end
.3c2e	60			rts
.3c2f			prog8_label_asm_66_if_end
.3c2f	ac 2f 46		ldy  rheight+1
.3c32	ad 2e 46		lda  rheight
.3c35	c9 00			cmp  #0
.3c37	f0 01			beq  +
.3c39	c8			iny
.3c3a	8d 2b 46	+           sta  prog8_label_asm_69_counter
.3c3d	8c 2c 46		sty  prog8_label_asm_69_counter+1
.3c40	0d 2c 46		ora  prog8_label_asm_69_counter+1
.3c43	f0 3f			beq  prog8_label_asm_67_repeatend
.3c45			prog8_label_asm_68_repeat
.3c45	ad 32 46		lda  xx
.3c48	ac 33 46		ldy  xx+1
.3c4b	8d 3c 46		sta  monogfx2.horizontal_line.xx
.3c4e	8c 3d 46		sty  monogfx2.horizontal_line.xx+1
.3c51	ad 34 46		lda  yy
.3c54	ac 35 46		ldy  yy+1
.3c57	8d 3e 46		sta  monogfx2.horizontal_line.yy
.3c5a	8c 3f 46		sty  monogfx2.horizontal_line.yy+1
.3c5d	ad 30 46		lda  rwidth
.3c60	ac 31 46		ldy  rwidth+1
.3c63	8d 39 46		sta  monogfx2.horizontal_line.length
.3c66	8c 3a 46		sty  monogfx2.horizontal_line.length+1
.3c69	ad 2d 46		lda  draw
.3c6c	8d 38 46		sta  monogfx2.horizontal_line.draw
.3c6f	20 85 3c		jsr  monogfx2.horizontal_line
.3c72	ee 34 46		inc  yy
.3c75	d0 03			bne  +
.3c77	ee 35 46		inc  yy+1
.3c7a			+
.3c7a	ce 2b 46		dec  prog8_label_asm_69_counter
.3c7d	d0 c6			bne  prog8_label_asm_68_repeat
.3c7f	ce 2c 46		dec  prog8_label_asm_69_counter+1
.3c82	d0 c1			bne  prog8_label_asm_68_repeat
.3c84			prog8_label_asm_67_repeatend
.3c84	60			rts
>462b			prog8_label_asm_69_counter    .word  ?
>462d			draw	.byte  ?
>462e			rheight	.word  ?
>4630			rwidth	.word  ?
>4632			xx	.word  ?
>4634			yy	.word  ?
.3c85			horizontal_line
.3c85	ad 39 46		lda  length
.3c88	0d 3a 46		ora  length+1
.3c8b	d0 01			bne  prog8_label_asm_70_if_end
.3c8d	60			rts
.3c8e			prog8_label_asm_70_if_end
.3c8e	ac 3a 46		ldy  length+1
.3c91	ad 39 46		lda  length
.3c94	c0 00			cpy  #>8
.3c96	f0 07			beq  +
.3c98	90 0d			bcc  ++
.3c9a	90 03			bcs  prog8_label_asm_71_if_end
.3c9c	4c 2e 3d
.3c9f	c9 08		+               cmp  #<8
.3ca1	90 04			bcc  +
.3ca3	f0 02			beq  +
.3ca5	d0 f5			bne  prog8_label_asm_71_if_end
.3ca7			+
.3ca7	ad 3c 46		lda  xx
.3caa	ac 3d 46		ldy  xx+1
.3cad	8d 54 46		sta  monogfx2.position2.xx
.3cb0	8c 55 46		sty  monogfx2.position2.xx+1
.3cb3	ad 3e 46		lda  yy
.3cb6	ac 3f 46		ldy  yy+1
.3cb9	8d 56 46		sta  monogfx2.position2.yy
.3cbc	8c 57 46		sty  monogfx2.position2.yy+1
.3cbf	a9 01			lda  #1
.3cc1	8d 53 46		sta  monogfx2.position2.also_port_1
.3cc4	20 91 41		jsr  monogfx2.position2
.3cc7	ac 39 46	                ldy  length
.3cca	b9 dd 3e	                lda  masked_ends,y
.3ccd	85 02		                sta  cx16.r0L           ; save left byte
.3ccf	64 7a		                stz  P8ZP_SCRATCH_B1
.3cd1	ad 3c 46	                lda  xx
.3cd4	29 07		                and  #7
.3cd6	f0 0b		                beq  +
.3cd8	a8		                tay
.3cd9	a5 02		                lda  cx16.r0L
.3cdb	4a		-               lsr  a
.3cdc	66 7a		                ror  P8ZP_SCRATCH_B1
.3cde	88		                dey
.3cdf	d0 fa		                bne  -
.3ce1	85 02		                sta  cx16.r0L           ; new left byte
.3ce3			+
.3ce3	ad 17 46	                lda  dont_stipple_flag
.3ce6	d0 1b		                bne  _dontstipple
.3ce8	ad 3e 46	                lda  yy
.3ceb	29 01		                and  #1
.3ced	f0 04		                beq  +
.3cef	a9 aa		                lda  #%10101010
.3cf1	d0 02		                bne  ++
.3cf3	a9 55		+               lda  #%01010101
.3cf5	85 7b		+               sta  P8ZP_SCRATCH_REG
.3cf7	a5 02		                lda  cx16.r0L
.3cf9	25 7b		                and  P8ZP_SCRATCH_REG
.3cfb	85 02		                sta  cx16.r0L
.3cfd	a5 7a		                lda  P8ZP_SCRATCH_B1
.3cff	25 7b		                and  P8ZP_SCRATCH_REG
.3d01	85 7a		                sta  P8ZP_SCRATCH_B1
.3d03			_dontstipple
.3d03	ad 38 46	                lda  draw
.3d06	f0 11		                beq  _clear
.3d08	a5 02		                lda  cx16.r0L           ; left byte
.3d0a	0d 24 9f	                ora  cx16.VERA_DATA1
.3d0d	8d 23 9f	                sta  cx16.VERA_DATA0
.3d10	a5 7a		                lda  P8ZP_SCRATCH_B1    ; right byte
.3d12	0d 24 9f	                ora  cx16.VERA_DATA1
.3d15	8d 23 9f	                sta  cx16.VERA_DATA0
.3d18	60		                rts
.3d19			_clear
.3d19	a5 02		                lda  cx16.r0L           ; left byte
.3d1b	49 ff		                eor  #255
.3d1d	2d 24 9f	                and  cx16.VERA_DATA1
.3d20	8d 23 9f	                sta  cx16.VERA_DATA0
.3d23	a5 7a		                lda  P8ZP_SCRATCH_B1    ; right byte
.3d25	49 ff		                eor  #255
.3d27	2d 24 9f	                and  cx16.VERA_DATA1
.3d2a	8d 23 9f	                sta  cx16.VERA_DATA0
.3d2d	60		                rts
.3d2e			prog8_label_asm_71_if_end
.3d2e	ad 3c 46		lda  xx
.3d31	85 7a			sta  P8ZP_SCRATCH_B1
.3d33	a9 08			lda  #8
.3d35	38			sec
.3d36	e5 7a			sbc  P8ZP_SCRATCH_B1
.3d38	29 07			and  #7
.3d3a	8d 3b 46		sta  separate_pixels
.3d3d	ad 3b 46		lda  separate_pixels
.3d40	d0 03			beq  prog8_label_asm_72_if_end
.3d42	4c e1 3d
.3d45	ad 17 46		lda  monogfx2.dont_stipple_flag
.3d48	f0 52			beq  prog8_label_asm_73_if_else
.3d4a	ad 3c 46		lda  xx
.3d4d	ac 3d 46		ldy  xx+1
.3d50	8d 4f 46		sta  monogfx2.position.xx
.3d53	8c 50 46		sty  monogfx2.position.xx+1
.3d56	ad 3e 46		lda  yy
.3d59	ac 3f 46		ldy  yy+1
.3d5c	8d 51 46		sta  monogfx2.position.yy
.3d5f	8c 52 46		sty  monogfx2.position.yy+1
.3d62	20 3c 41		jsr  monogfx2.position
.3d65	a9 f8			lda  #248
.3d67	1c 22 9f		trb  cx16.VERA_ADDR_H
.3d6a	ad 38 46		lda  draw
.3d6d	f0 0e			beq  prog8_label_asm_75_if_else
.3d6f	ac 3b 46		ldy  separate_pixels
.3d72	b9 e6 3e		lda  masked_starts,y
.3d75	0d 23 9f		ora  cx16.VERA_DATA0
.3d78	8d 23 9f		sta  cx16.VERA_DATA0
.3d7b	80 0e			bra  prog8_label_asm_76_if_end
.3d7d			prog8_label_asm_75_if_else
.3d7d	ac 3b 46		ldy  separate_pixels
.3d80	b9 e6 3e		lda  masked_starts,y
.3d83	49 ff			eor  #255
.3d85	2d 23 9f		and  cx16.VERA_DATA0
.3d88	8d 23 9f		sta  cx16.VERA_DATA0
.3d8b			prog8_label_asm_76_if_end
.3d8b	ad 3c 46		lda  xx
.3d8e	18			clc
.3d8f	6d 3b 46		adc  separate_pixels
.3d92	8d 3c 46		sta  xx
.3d95	90 03			bcc  +
.3d97	ee 3d 46		inc  xx+1
.3d9a			+
.3d9a	80 36			bra  prog8_label_asm_74_if_end
.3d9c			prog8_label_asm_73_if_else
.3d9c	ac 3b 46		ldy  separate_pixels
.3d9f	f0 31			beq  prog8_label_asm_77_repeatend
.3da1	8c 36 46		sty  prog8_label_asm_79_counter
.3da4			prog8_label_asm_78_repeat
.3da4	ad 3c 46		lda  xx
.3da7	ac 3d 46		ldy  xx+1
.3daa	8d 4b 46		sta  monogfx2.plot.xx
.3dad	8c 4c 46		sty  monogfx2.plot.xx+1
.3db0	ad 3e 46		lda  yy
.3db3	ac 3f 46		ldy  yy+1
.3db6	8d 4d 46		sta  monogfx2.plot.yy
.3db9	8c 4e 46		sty  monogfx2.plot.yy+1
.3dbc	ad 38 46		lda  draw
.3dbf	8d 4a 46		sta  monogfx2.plot.draw
.3dc2	20 ad 40		jsr  monogfx2.plot
.3dc5	ee 3c 46		inc  xx
.3dc8	d0 03			bne  +
.3dca	ee 3d 46		inc  xx+1
.3dcd			+
.3dcd	ce 36 46		dec  prog8_label_asm_79_counter
.3dd0	d0 d2			bne  prog8_label_asm_78_repeat
.3dd2			prog8_label_asm_77_repeatend
.3dd2			prog8_label_asm_74_if_end
.3dd2	ad 39 46		lda  length
.3dd5	38			sec
.3dd6	ed 3b 46		sbc  separate_pixels
.3dd9	8d 39 46		sta  length
.3ddc	b0 03			bcs  +
.3dde	ce 3a 46		dec  length+1
.3de1			+
.3de1			prog8_label_asm_72_if_end
.3de1	ad 39 46		lda  length
.3de4	0d 3a 46		ora  length+1
.3de7	d0 03			beq  prog8_label_asm_80_if_end
.3de9	4c d7 3e
.3dec	ad 3c 46		lda  xx
.3def	ac 3d 46		ldy  xx+1
.3df2	8d 4f 46		sta  monogfx2.position.xx
.3df5	8c 50 46		sty  monogfx2.position.xx+1
.3df8	ad 3e 46		lda  yy
.3dfb	ac 3f 46		ldy  yy+1
.3dfe	8d 51 46		sta  monogfx2.position.yy
.3e01	8c 52 46		sty  monogfx2.position.yy+1
.3e04	20 3c 41		jsr  monogfx2.position
.3e07	ad 39 46		lda  length
.3e0a	29 07			and  #7
.3e0c	8d 3b 46		sta  separate_pixels
.3e0f	ac 3a 46		ldy  length+1
.3e12	ad 39 46		lda  length
.3e15	29 f8			and  #<$fff8
.3e17	aa			tax
.3e18	98			tya
.3e19	29 ff			and  #>$fff8
.3e1b	a8			tay
.3e1c	8a			txa
.3e1d	18			clc
.3e1e	6d 3c 46		adc  xx
.3e21	8d 3c 46		sta  xx
.3e24	98			tya
.3e25	6d 3d 46		adc  xx+1
.3e28	8d 3d 46		sta  xx+1
.3e2b	4e 3a 46	                lsr  length+1
.3e2e	6e 39 46	                ror  length
.3e31	4e 3a 46	                lsr  length+1
.3e34	6e 39 46	                ror  length
.3e37	4e 3a 46	                lsr  length+1
.3e3a	6e 39 46	                ror  length
.3e3d	ad 38 46	                lda  draw
.3e40	d0 04		                bne  +
.3e42	a0 00		                ldy  #0     ; black
.3e44	80 16		                bra  _loop
.3e46	ad 17 46	+               lda  dont_stipple_flag
.3e49	f0 04		                beq  _stipple
.3e4b	a0 ff		                ldy  #255       ; don't stipple
.3e4d	80 0d		                bra  _loop
.3e4f	ad 3e 46	_stipple        lda  yy
.3e52	29 01		                and  #1         ; determine stipple pattern to use
.3e54	d0 04		                bne  +
.3e56	a0 55		                ldy  #%01010101
.3e58	80 02		                bra  _loop
.3e5a	a0 aa		+               ldy  #%10101010
.3e5c	ad 39 46	_loop           lda  length
.3e5f	0d 3a 46	                ora  length+1
.3e62	f0 10		                beq  _done
.3e64	8c 23 9f	                sty  cx16.VERA_DATA0
.3e67	ad 39 46	                lda  length
.3e6a	d0 03		                bne  +
.3e6c	ce 3a 46	                dec  length+1
.3e6f	ce 39 46	+               dec  length
.3e72	80 e8		                bra  _loop
.3e74			_done
.3e74	ad 17 46		lda  monogfx2.dont_stipple_flag
.3e77	f0 28			beq  prog8_label_asm_81_if_else
.3e79	a9 f8			lda  #248
.3e7b	1c 22 9f		trb  cx16.VERA_ADDR_H
.3e7e	ad 38 46		lda  draw
.3e81	f0 0e			beq  prog8_label_asm_83_if_else
.3e83	ac 3b 46		ldy  separate_pixels
.3e86	b9 dd 3e		lda  masked_ends,y
.3e89	0d 23 9f		ora  cx16.VERA_DATA0
.3e8c	8d 23 9f		sta  cx16.VERA_DATA0
.3e8f	80 0e			bra  prog8_label_asm_84_if_end
.3e91			prog8_label_asm_83_if_else
.3e91	ac 3b 46		ldy  separate_pixels
.3e94	b9 dd 3e		lda  masked_ends,y
.3e97	49 ff			eor  #255
.3e99	2d 23 9f		and  cx16.VERA_DATA0
.3e9c	8d 23 9f		sta  cx16.VERA_DATA0
.3e9f			prog8_label_asm_84_if_end
.3e9f	80 36			bra  prog8_label_asm_82_if_end
.3ea1			prog8_label_asm_81_if_else
.3ea1	ac 3b 46		ldy  separate_pixels
.3ea4	f0 31			beq  prog8_label_asm_85_repeatend
.3ea6	8c 37 46		sty  prog8_label_asm_87_counter
.3ea9			prog8_label_asm_86_repeat
.3ea9	ad 3c 46		lda  xx
.3eac	ac 3d 46		ldy  xx+1
.3eaf	8d 4b 46		sta  monogfx2.plot.xx
.3eb2	8c 4c 46		sty  monogfx2.plot.xx+1
.3eb5	ad 3e 46		lda  yy
.3eb8	ac 3f 46		ldy  yy+1
.3ebb	8d 4d 46		sta  monogfx2.plot.yy
.3ebe	8c 4e 46		sty  monogfx2.plot.yy+1
.3ec1	ad 38 46		lda  draw
.3ec4	8d 4a 46		sta  monogfx2.plot.draw
.3ec7	20 ad 40		jsr  monogfx2.plot
.3eca	ee 3c 46		inc  xx
.3ecd	d0 03			bne  +
.3ecf	ee 3d 46		inc  xx+1
.3ed2			+
.3ed2	ce 37 46		dec  prog8_label_asm_87_counter
.3ed5	d0 d2			bne  prog8_label_asm_86_repeat
.3ed7			prog8_label_asm_85_repeatend
.3ed7			prog8_label_asm_82_if_end
.3ed7			prog8_label_asm_80_if_end
.3ed7	a9 f8			lda  #248
.3ed9	1c 22 9f		trb  cx16.VERA_ADDR_H
.3edc	60			rts
>4636			prog8_label_asm_79_counter    .byte  ?
>4637			prog8_label_asm_87_counter    .byte  ?
>4638			draw	.byte  ?
>4639			length	.word  ?
>463b			separate_pixels	.byte  ?
>463c			xx	.word  ?
>463e			yy	.word  ?
>3edd	00 80 c0 e0	masked_ends	.byte  $00, $80, $c0, $e0, $f0, $f8, $fc, $fe, $ff
>3ee1	f0 f8 fc fe ff
>3ee6	00 01 03 07	masked_starts	.byte  $00, $01, $03, $07, $0f, $1f, $3f, $7f, $ff
>3eea	0f 1f 3f 7f ff
.3eef			vertical_line
.3eef	ad 46 46		lda  xx
.3ef2	29 07			and  #7
.3ef4	a8			tay
.3ef5	b9 34 41		lda  monogfx2.plot.maskbits,y
.3ef8	85 20			sta  cx16.r15L
.3efa	ad 43 46		lda  draw
.3efd	d0 03			beq  prog8_label_asm_88_if_else
.3eff	4c 10 40
.3f02	ad 17 46		lda  monogfx2.dont_stipple_flag
.3f05	f0 65			beq  prog8_label_asm_90_if_else
.3f07	ad 46 46		lda  xx
.3f0a	ac 47 46		ldy  xx+1
.3f0d	8d 54 46		sta  monogfx2.position2.xx
.3f10	8c 55 46		sty  monogfx2.position2.xx+1
.3f13	ad 48 46		lda  yy
.3f16	ac 49 46		ldy  yy+1
.3f19	8d 56 46		sta  monogfx2.position2.yy
.3f1c	8c 57 46		sty  monogfx2.position2.yy+1
.3f1f	a9 01			lda  #1
.3f21	8d 53 46		sta  monogfx2.position2.also_port_1
.3f24	20 91 41		jsr  monogfx2.position2
.3f27	ad 1a 46		lda  monogfx2.width
.3f2a	c9 40			cmp  #<$0140
.3f2c	d0 0e			bne  prog8_label_asm_92_if_else
.3f2e	ad 1b 46		lda  monogfx2.width+1
.3f31	c9 01			cmp  #>$0140
.3f33	d0 07			bne  prog8_label_asm_92_if_else
.3f35	a9 0b			lda  #11
.3f37	20 7f 40		jsr  monogfx2.vertical_line.set_both_strides
.3f3a	80 05			bra  prog8_label_asm_93_if_end
.3f3c			prog8_label_asm_92_if_else
.3f3c	a9 0c			lda  #12
.3f3e	20 7f 40		jsr  monogfx2.vertical_line.set_both_strides
.3f41			prog8_label_asm_93_if_end
.3f41	ac 45 46		ldy  lheight+1
.3f44	ad 44 46		lda  lheight
.3f47	c9 00			cmp  #0
.3f49	f0 01			beq  +
.3f4b	c8			iny
.3f4c	8d 41 46	+           sta  prog8_label_asm_96_counter
.3f4f	8c 42 46		sty  prog8_label_asm_96_counter+1
.3f52	0d 42 46		ora  prog8_label_asm_96_counter+1
.3f55	f0 12			beq  prog8_label_asm_94_repeatend
.3f57			prog8_label_asm_95_repeat
.3f57	ad 23 9f	                        lda  cx16.VERA_DATA0
.3f5a	05 20		                        ora  cx16.r15L
.3f5c	8d 24 9f	                        sta  cx16.VERA_DATA1
.3f5f	ce 41 46		dec  prog8_label_asm_96_counter
.3f62	d0 f3			bne  prog8_label_asm_95_repeat
.3f64	ce 42 46		dec  prog8_label_asm_96_counter+1
.3f67	d0 ee			bne  prog8_label_asm_95_repeat
.3f69			prog8_label_asm_94_repeatend
.3f69	4c 0e 40		bra  prog8_label_asm_91_if_end
.3f6c			prog8_label_asm_90_if_else
.3f6c	ac 47 46		ldy  xx+1
.3f6f	ad 46 46		lda  xx
.3f72	4d 48 46		eor  yy
.3f75	aa			tax
.3f76	98			tya
.3f77	4d 49 46		eor  yy+1
.3f7a	a8			tay
.3f7b	8a			txa
.3f7c	29 01			and  #<1
.3f7e	aa			tax
.3f7f	98			tya
.3f80	29 00			and  #>1
.3f82	a8			tay
.3f83	8a			txa
.3f84	84 7a			sty  P8ZP_SCRATCH_B1
.3f86	05 7a			ora  P8ZP_SCRATCH_B1
.3f88	d0 13			bne  prog8_label_asm_97_if_end
.3f8a	ee 48 46		inc  yy
.3f8d	d0 03			bne  +
.3f8f	ee 49 46		inc  yy+1
.3f92			+
.3f92	ad 44 46		lda  lheight
.3f95	d0 03			bne  +
.3f97	ce 45 46		dec  lheight+1
.3f9a	ce 44 46	+       dec  lheight
.3f9d			prog8_label_asm_97_if_end
.3f9d	ee 44 46		inc  lheight
.3fa0	d0 03			bne  +
.3fa2	ee 45 46		inc  lheight+1
.3fa5			+
.3fa5	ad 46 46		lda  xx
.3fa8	ac 47 46		ldy  xx+1
.3fab	8d 54 46		sta  monogfx2.position2.xx
.3fae	8c 55 46		sty  monogfx2.position2.xx+1
.3fb1	ad 48 46		lda  yy
.3fb4	ac 49 46		ldy  yy+1
.3fb7	8d 56 46		sta  monogfx2.position2.yy
.3fba	8c 57 46		sty  monogfx2.position2.yy+1
.3fbd	a9 01			lda  #1
.3fbf	8d 53 46		sta  monogfx2.position2.also_port_1
.3fc2	20 91 41		jsr  monogfx2.position2
.3fc5	ad 1a 46		lda  monogfx2.width
.3fc8	c9 40			cmp  #<$0140
.3fca	d0 0e			bne  prog8_label_asm_98_if_else
.3fcc	ad 1b 46		lda  monogfx2.width+1
.3fcf	c9 01			cmp  #>$0140
.3fd1	d0 07			bne  prog8_label_asm_98_if_else
.3fd3	a9 0c			lda  #12
.3fd5	20 7f 40		jsr  monogfx2.vertical_line.set_both_strides
.3fd8	80 05			bra  prog8_label_asm_99_if_end
.3fda			prog8_label_asm_98_if_else
.3fda	a9 0d			lda  #13
.3fdc	20 7f 40		jsr  monogfx2.vertical_line.set_both_strides
.3fdf			prog8_label_asm_99_if_end
.3fdf	ac 45 46		ldy  lheight+1
.3fe2	ad 44 46		lda  lheight
.3fe5	84 7a			sty  P8ZP_SCRATCH_B1
.3fe7	46 7a			lsr  P8ZP_SCRATCH_B1
.3fe9	6a			ror  a
.3fea	a4 7a			ldy  P8ZP_SCRATCH_B1
.3fec	c9 00			cmp  #0
.3fee	f0 01			beq  +
.3ff0	c8			iny
.3ff1	8d 41 46	+           sta  prog8_label_asm_96_counter
.3ff4	8c 42 46		sty  prog8_label_asm_96_counter+1
.3ff7	0d 42 46		ora  prog8_label_asm_96_counter+1
.3ffa	f0 12			beq  prog8_label_asm_100_repeatend
.3ffc			prog8_label_asm_101_repeat
.3ffc	ad 23 9f	                        lda  cx16.VERA_DATA0
.3fff	05 20		                        ora  cx16.r15L
.4001	8d 24 9f	                        sta  cx16.VERA_DATA1
.4004	ce 41 46		dec  prog8_label_asm_96_counter
.4007	d0 f3			bne  prog8_label_asm_101_repeat
.4009	ce 42 46		dec  prog8_label_asm_96_counter+1
.400c	d0 ee			bne  prog8_label_asm_101_repeat
.400e			prog8_label_asm_100_repeatend
.400e			prog8_label_asm_91_if_end
.400e	80 6e			bra  prog8_label_asm_89_if_end
.4010			prog8_label_asm_88_if_else
.4010	ad 46 46		lda  xx
.4013	ac 47 46		ldy  xx+1
.4016	8d 54 46		sta  monogfx2.position2.xx
.4019	8c 55 46		sty  monogfx2.position2.xx+1
.401c	ad 48 46		lda  yy
.401f	ac 49 46		ldy  yy+1
.4022	8d 56 46		sta  monogfx2.position2.yy
.4025	8c 57 46		sty  monogfx2.position2.yy+1
.4028	a9 01			lda  #1
.402a	8d 53 46		sta  monogfx2.position2.also_port_1
.402d	20 91 41		jsr  monogfx2.position2
.4030	a5 20			lda  cx16.r15
.4032	49 ff			eor  #255
.4034	85 20			sta  cx16.r15
.4036	a5 21			lda  cx16.r15+1
.4038	49 ff			eor  #255
.403a	85 21			sta  cx16.r15+1
.403c	ad 1a 46		lda  monogfx2.width
.403f	c9 40			cmp  #<$0140
.4041	d0 0e			bne  prog8_label_asm_102_if_else
.4043	ad 1b 46		lda  monogfx2.width+1
.4046	c9 01			cmp  #>$0140
.4048	d0 07			bne  prog8_label_asm_102_if_else
.404a	a9 0b			lda  #11
.404c	20 7f 40		jsr  monogfx2.vertical_line.set_both_strides
.404f	80 05			bra  prog8_label_asm_103_if_end
.4051			prog8_label_asm_102_if_else
.4051	a9 0c			lda  #12
.4053	20 7f 40		jsr  monogfx2.vertical_line.set_both_strides
.4056			prog8_label_asm_103_if_end
.4056	ac 45 46		ldy  lheight+1
.4059	ad 44 46		lda  lheight
.405c	c9 00			cmp  #0
.405e	f0 01			beq  +
.4060	c8			iny
.4061	8d 41 46	+           sta  prog8_label_asm_96_counter
.4064	8c 42 46		sty  prog8_label_asm_96_counter+1
.4067	0d 42 46		ora  prog8_label_asm_96_counter+1
.406a	f0 12			beq  prog8_label_asm_104_repeatend
.406c			prog8_label_asm_105_repeat
.406c	ad 23 9f	                    lda  cx16.VERA_DATA0
.406f	25 20		                    and  cx16.r15L
.4071	8d 24 9f	                    sta  cx16.VERA_DATA1
.4074	ce 41 46		dec  prog8_label_asm_96_counter
.4077	d0 f3			bne  prog8_label_asm_105_repeat
.4079	ce 42 46		dec  prog8_label_asm_96_counter+1
.407c	d0 ee			bne  prog8_label_asm_105_repeat
.407e			prog8_label_asm_104_repeatend
.407e			prog8_label_asm_89_if_end
.407e	60			rts
.407f			set_both_strides
.407f	8d 40 46		sta  stride
.4082	0e 40 46		asl  stride
.4085	0e 40 46		asl  stride
.4088	0e 40 46		asl  stride
.408b	0e 40 46		asl  stride
.408e	9c 25 9f		stz  cx16.VERA_CTRL
.4091	ad 22 9f		lda  cx16.VERA_ADDR_H
.4094	29 07			and  #7
.4096	0d 40 46		ora  stride
.4099	8d 22 9f		sta  cx16.VERA_ADDR_H
.409c	a9 01			lda  #1
.409e	8d 25 9f		sta  cx16.VERA_CTRL
.40a1	ad 22 9f		lda  cx16.VERA_ADDR_H
.40a4	29 07			and  #7
.40a6	0d 40 46		ora  stride
.40a9	8d 22 9f		sta  cx16.VERA_ADDR_H
.40ac	60			rts
>4640			stride	.byte  ?
>4641			prog8_label_asm_96_counter    .word  ?
>4643			draw	.byte  ?
>4644			lheight	.word  ?
>4646			xx	.word  ?
>4648			yy	.word  ?
.40ad			plot
.40ad	ad 4a 46		lda  draw
.40b0	f0 15			beq  prog8_label_asm_106_if_else
.40b2	ad 4b 46	                lda  xx
.40b5	4d 4d 46	                eor  yy
.40b8	0d 17 46	                ora  dont_stipple_flag
.40bb	29 01		                and  #1
.40bd	f0 06			beq  prog8_label_asm_108_branch_else
.40bf	20 ce 40		jsr  monogfx2.plot.prepare
.40c2	0c 23 9f	                    tsb  cx16.VERA_DATA0
.40c5			prog8_label_asm_108_branch_else
.40c5	80 06			bra  prog8_label_asm_107_if_end
.40c7			prog8_label_asm_106_if_else
.40c7	20 ce 40		jsr  monogfx2.plot.prepare
.40ca	1c 23 9f	                trb  cx16.VERA_DATA0
.40cd			prog8_label_asm_107_if_end
.40cd	60			rts
.40ce			prepare
.40ce	ad 4b 46	                lda  xx
.40d1	29 07		                and  #7
.40d3	48		                pha     ; xbits
.40d4	a0 03			ldy  #3
.40d6	4e 4c 46	-                               lsr  monogfx2.plot.xx+1
.40d9	6e 4b 46		ror  monogfx2.plot.xx
.40dc	88			dey
.40dd	d0 f7			bne  -
.40df	ad 1a 46		lda  monogfx2.width
.40e2	c9 40			cmp  #<$0140
.40e4	d0 20			bne  prog8_label_asm_109_if_else
.40e6	ad 1b 46		lda  monogfx2.width+1
.40e9	c9 01			cmp  #>$0140
.40eb	d0 19			bne  prog8_label_asm_109_if_else
.40ed	ac 4e 46		ldy  monogfx2.plot.yy+1
.40f0	ad 4d 46		lda  monogfx2.plot.yy
.40f3	20 a3 43		jsr  math.mul_word_40
.40f6	18			clc
.40f7	6d 4b 46		adc  monogfx2.plot.xx
.40fa	8d 4b 46		sta  monogfx2.plot.xx
.40fd	98			tya
.40fe	6d 4c 46		adc  monogfx2.plot.xx+1
.4101	8d 4c 46		sta  monogfx2.plot.xx+1
.4104	80 17			bra  prog8_label_asm_110_if_end
.4106			prog8_label_asm_109_if_else
.4106	ac 4e 46		ldy  monogfx2.plot.yy+1
.4109	ad 4d 46		lda  monogfx2.plot.yy
.410c	20 c7 43		jsr  math.mul_word_80
.410f	18			clc
.4110	6d 4b 46		adc  monogfx2.plot.xx
.4113	8d 4b 46		sta  monogfx2.plot.xx
.4116	98			tya
.4117	6d 4c 46		adc  monogfx2.plot.xx+1
.411a	8d 4c 46		sta  monogfx2.plot.xx+1
.411d			prog8_label_asm_110_if_end
.411d	9c 25 9f	                stz  cx16.VERA_CTRL
.4120	9c 22 9f	                stz  cx16.VERA_ADDR_H
.4123	ad 4c 46	                lda  xx+1
.4126	8d 21 9f	                sta  cx16.VERA_ADDR_M
.4129	ad 4b 46	                lda  xx
.412c	8d 20 9f	                sta  cx16.VERA_ADDR_L
.412f	7a		                ply     ; xbits
.4130	b9 34 41	                lda  maskbits,y
.4133	60			rts
>464a			draw	.byte  ?
>464b			xx	.word  ?
>464d			yy	.word  ?
>4134	80 40 20 10	maskbits	.byte  $80, $40, $20, $10, $08, $04, $02, $01
>4138	08 04 02 01
.413c			position
.413c	ad 1a 46		lda  monogfx2.width
.413f	c9 40			cmp  #<$0140
.4141	d0 16			bne  prog8_label_asm_111_if_else
.4143	ad 1b 46		lda  monogfx2.width+1
.4146	c9 01			cmp  #>$0140
.4148	d0 0f			bne  prog8_label_asm_111_if_else
.414a	ac 52 46		ldy  yy+1
.414d	ad 51 46		lda  yy
.4150	20 a3 43		jsr  math.mul_word_40
.4153	85 02			sta  cx16.r0
.4155	84 03			sty  cx16.r0+1
.4157	80 0d			bra  prog8_label_asm_112_if_end
.4159			prog8_label_asm_111_if_else
.4159	ac 52 46		ldy  yy+1
.415c	ad 51 46		lda  yy
.415f	20 c7 43		jsr  math.mul_word_80
.4162	85 02			sta  cx16.r0
.4164	84 03			sty  cx16.r0+1
.4166			prog8_label_asm_112_if_end
.4166	ac 50 46		ldy  xx+1
.4169	ad 4f 46		lda  xx
.416c	84 7a			sty  P8ZP_SCRATCH_B1
.416e	46 7a			lsr  P8ZP_SCRATCH_B1
.4170	6a			ror  a
.4171	46 7a			lsr  P8ZP_SCRATCH_B1
.4173	6a			ror  a
.4174	46 7a			lsr  P8ZP_SCRATCH_B1
.4176	6a			ror  a
.4177	a4 7a			ldy  P8ZP_SCRATCH_B1
.4179	18			clc
.417a	65 02			adc  cx16.r0
.417c	aa			tax
.417d	98			tya
.417e	65 03			adc  cx16.r0+1
.4180	a8			tay
.4181	8a			txa
.4182	85 02			sta  cx16.r0
.4184	84 03			sty  cx16.r0+1
.4186	64 04			stz  cx16.r1
.4188	64 05			stz  cx16.r1+1
.418a	a0 01			ldy  #1
.418c	a9 00			lda  #0
.418e	4c 35 15		jmp  cx16.vaddr
>464f			xx	.word  ?
>4651			yy	.word  ?
.4191			position2
.4191	ad 54 46		lda  xx
.4194	ac 55 46		ldy  xx+1
.4197	8d 4f 46		sta  monogfx2.position.xx
.419a	8c 50 46		sty  monogfx2.position.xx+1
.419d	ad 56 46		lda  yy
.41a0	ac 57 46		ldy  yy+1
.41a3	8d 51 46		sta  monogfx2.position.yy
.41a6	8c 52 46		sty  monogfx2.position.yy+1
.41a9	20 3c 41		jsr  monogfx2.position
.41ac	ad 53 46		lda  also_port_1
.41af	f0 05			beq  prog8_label_asm_113_if_end
.41b1	a9 00			lda  #0
.41b3	20 5c 15		jsr  cx16.vaddr_clone
.41b6			prog8_label_asm_113_if_end
.41b6	60			rts
>4653			also_port_1	.byte  ?
>4654			xx	.word  ?
>4656			yy	.word  ?
.41b7			text
.41b7	9c 68 46		stz  chardataptr
.41ba	9c 69 46		stz  chardataptr+1
.41bd	ad 6b 46		lda  sctextptr
.41c0	ac 6c 46		ldy  sctextptr+1
.41c3	85 08			sta  cx16.r3
.41c5	84 09			sty  cx16.r3+1
.41c7			prog8_label_96_whileloop
.41c7	b2 08			lda  (cx16.r3)
.41c9	d0 03			beq  prog8_label_97_afterwhile
.41cb	4c ec 42
.41ce	b2 08			lda  (cx16.r3)
.41d0	a0 00			ldy  #0
.41d2	84 7a			sty  P8ZP_SCRATCH_B1
.41d4	0a			asl  a
.41d5	26 7a			rol  P8ZP_SCRATCH_B1
.41d7	0a			asl  a
.41d8	26 7a			rol  P8ZP_SCRATCH_B1
.41da	0a			asl  a
.41db	26 7a			rol  P8ZP_SCRATCH_B1
.41dd	a4 7a			ldy  P8ZP_SCRATCH_B1
.41df	18			clc
.41e0	69 00			adc  #<$f000
.41e2	aa			tax
.41e3	98			tya
.41e4	69 f0			adc  #>$f000
.41e6	a8			tay
.41e7	8a			txa
.41e8	8d 68 46		sta  chardataptr
.41eb	8c 69 46		sty  chardataptr+1
.41ee	85 02			sta  cx16.r0
.41f0	ad 69 46		lda  chardataptr+1
.41f3	85 03			sta  cx16.r0+1
.41f5	64 04			stz  cx16.r1
.41f7	64 05			stz  cx16.r1+1
.41f9	a9 01			lda  #<1
.41fb	85 06			sta  cx16.r2
.41fd	a9 00			lda  #>1
.41ff	85 07			sta  cx16.r2+1
.4201	a9 01			lda  #1
.4203	20 7e 15		jsr  cx16.vaddr_autoincr
.4206	ad 6d 46	                lda  text.xx
.4209	29 07		                and  #7
.420b	85 7a		                sta  P8ZP_SCRATCH_B1
.420d	a0 00		                ldy  #0
.420f	ad 23 9f	-               lda  cx16.VERA_DATA0
.4212	64 7b		                stz  P8ZP_SCRATCH_REG
.4214	a6 7a		                ldx  P8ZP_SCRATCH_B1
.4216	e0 00		                cpx  #0
.4218	f0 06		                beq  +
.421a	4a		-               lsr  a
.421b	66 7b		                ror  P8ZP_SCRATCH_REG
.421d	ca		                dex
.421e	d0 fa		                bne  -
.4220	99 58 46	+               sta  char_bitmap_bytes_left,y
.4223	a5 7b		                lda  P8ZP_SCRATCH_REG
.4225	99 60 46	                sta  char_bitmap_bytes_right,y
.4228	c8		                iny
.4229	c0 08		                cpy  #8
.422b	d0 e2		                bne  --
.422d	ad 6d 46		lda  xx
.4230	ac 6e 46		ldy  xx+1
.4233	8d 54 46		sta  monogfx2.position2.xx
.4236	8c 55 46		sty  monogfx2.position2.xx+1
.4239	ad 6f 46		lda  yy
.423c	ac 70 46		ldy  yy+1
.423f	8d 56 46		sta  monogfx2.position2.yy
.4242	8c 57 46		sty  monogfx2.position2.yy+1
.4245	a9 01			lda  #1
.4247	8d 53 46		sta  monogfx2.position2.also_port_1
.424a	20 91 41		jsr  monogfx2.position2
.424d	20 ed 42		jsr  monogfx2.text.set_autoincrs
.4250	ad 6a 46		lda  draw
.4253	f0 12			beq  prog8_label_asm_114_if_else
.4255	a0 00		                    ldy  #0
.4257	b9 58 46	-                   lda  char_bitmap_bytes_left,y
.425a	0d 24 9f	                    ora  cx16.VERA_DATA1
.425d	8d 23 9f	                    sta  cx16.VERA_DATA0
.4260	c8		                    iny
.4261	c0 08		                    cpy  #8
.4263	d0 f2		                    bne  -
.4265	80 12			bra  prog8_label_asm_115_if_end
.4267			prog8_label_asm_114_if_else
.4267	a0 00		                    ldy  #0
.4269	b9 58 46	-                   lda  char_bitmap_bytes_left,y
.426c	49 ff		                    eor  #255
.426e	2d 24 9f	                    and  cx16.VERA_DATA1
.4271	8d 23 9f	                    sta  cx16.VERA_DATA0
.4274	c8		                    iny
.4275	c0 08		                    cpy  #8
.4277	d0 f0		                    bne  -
.4279			prog8_label_asm_115_if_end
.4279	ad 6d 46		lda  xx
.427c	29 07			and  #7
.427e	f0 55			beq  prog8_label_asm_116_if_end
.4280	ac 6e 46		ldy  xx+1
.4283	ad 6d 46		lda  xx
.4286	18			clc
.4287	69 08			adc  #<8
.4289	aa			tax
.428a	98			tya
.428b	69 00			adc  #>8
.428d	a8			tay
.428e	8a			txa
.428f	8d 54 46		sta  monogfx2.position2.xx
.4292	8c 55 46		sty  monogfx2.position2.xx+1
.4295	ad 6f 46		lda  yy
.4298	ac 70 46		ldy  yy+1
.429b	8d 56 46		sta  monogfx2.position2.yy
.429e	8c 57 46		sty  monogfx2.position2.yy+1
.42a1	a9 01			lda  #1
.42a3	8d 53 46		sta  monogfx2.position2.also_port_1
.42a6	20 91 41		jsr  monogfx2.position2
.42a9	20 ed 42		jsr  monogfx2.text.set_autoincrs
.42ac	ad 6a 46		lda  draw
.42af	f0 12			beq  prog8_label_asm_117_if_else
.42b1	a0 00		                        ldy  #0
.42b3	b9 60 46	-                       lda  char_bitmap_bytes_right,y
.42b6	0d 24 9f	                        ora  cx16.VERA_DATA1
.42b9	8d 23 9f	                        sta  cx16.VERA_DATA0
.42bc	c8		                        iny
.42bd	c0 08		                        cpy  #8
.42bf	d0 f2		                        bne  -
.42c1	80 12			bra  prog8_label_asm_118_if_end
.42c3			prog8_label_asm_117_if_else
.42c3	a0 00		                        ldy  #0
.42c5	b9 60 46	-                       lda  char_bitmap_bytes_right,y
.42c8	49 ff		                        eor  #255
.42ca	2d 24 9f	                        and  cx16.VERA_DATA1
.42cd	8d 23 9f	                        sta  cx16.VERA_DATA0
.42d0	c8		                        iny
.42d1	c0 08		                        cpy  #8
.42d3	d0 f0		                        bne  -
.42d5			prog8_label_asm_118_if_end
.42d5			prog8_label_asm_116_if_end
.42d5	e6 08			inc  cx16.r3
.42d7	d0 02			bne  +
.42d9	e6 09			inc  cx16.r3+1
.42db			+
.42db	ad 6d 46		lda  xx
.42de	18			clc
.42df	69 08			adc  #8
.42e1	8d 6d 46		sta  xx
.42e4	90 03			bcc  +
.42e6	ee 6e 46		inc  xx+1
.42e9			+
.42e9	4c c7 41		bra  prog8_label_96_whileloop
.42ec			prog8_label_97_afterwhile
.42ec	60			rts
.42ed			set_autoincrs
.42ed	ad 1a 46		lda  monogfx2.width
.42f0	c9 40			cmp  #<$0140
.42f2	d0 25			bne  prog8_label_asm_119_if_else
.42f4	ad 1b 46		lda  monogfx2.width+1
.42f7	c9 01			cmp  #>$0140
.42f9	d0 1e			bne  prog8_label_asm_119_if_else
.42fb	9c 25 9f		stz  cx16.VERA_CTRL
.42fe	ad 22 9f		lda  cx16.VERA_ADDR_H
.4301	29 0f			and  #15
.4303	09 b0			ora  #$b0
.4305	8d 22 9f		sta  cx16.VERA_ADDR_H
.4308	a9 01			lda  #1
.430a	8d 25 9f		sta  cx16.VERA_CTRL
.430d	ad 22 9f		lda  cx16.VERA_ADDR_H
.4310	29 0f			and  #15
.4312	09 b0			ora  #$b0
.4314	8d 22 9f		sta  cx16.VERA_ADDR_H
.4317	80 1c			bra  prog8_label_asm_120_if_end
.4319			prog8_label_asm_119_if_else
.4319	9c 25 9f		stz  cx16.VERA_CTRL
.431c	ad 22 9f		lda  cx16.VERA_ADDR_H
.431f	29 0f			and  #15
.4321	09 c0			ora  #$c0
.4323	8d 22 9f		sta  cx16.VERA_ADDR_H
.4326	a9 01			lda  #1
.4328	8d 25 9f		sta  cx16.VERA_CTRL
.432b	ad 22 9f		lda  cx16.VERA_ADDR_H
.432e	29 0f			and  #15
.4330	09 c0			ora  #$c0
.4332	8d 22 9f		sta  cx16.VERA_ADDR_H
.4335			prog8_label_asm_120_if_end
.4335	60			rts
>4658			char_bitmap_bytes_left	.fill  8
>4660			char_bitmap_bytes_right	.fill  8
>4668			chardataptr	.word  ?
>466a			draw	.byte  ?
>466b			sctextptr	.word  ?
>466d			xx	.word  ?
>466f			yy	.word  ?
.4336			cs_innerloop640
.4336	c9 00		            cmp  #0
.4338	f0 02		            beq  +
.433a	a9 ff		            lda  #255
.433c	a0 50		+           ldy  #80
.433e	8d 23 9f	-           sta  cx16.VERA_DATA0
.4341	8d 23 9f	            sta  cx16.VERA_DATA0
.4344	8d 23 9f	            sta  cx16.VERA_DATA0
.4347	8d 23 9f	            sta  cx16.VERA_DATA0
.434a	8d 23 9f	            sta  cx16.VERA_DATA0
.434d	8d 23 9f	            sta  cx16.VERA_DATA0
.4350	8d 23 9f	            sta  cx16.VERA_DATA0
.4353	8d 23 9f	            sta  cx16.VERA_DATA0
.4356	88		            dey
.4357	d0 e5		            bne  -
.4359	60		            rts
.435a			cs_innerloop640_s
.435a	aa		            tax
.435b	a9 aa		-           lda  #%10101010
.435d	a0 0a		            ldy  #10
.435f	8d 23 9f	-           sta  cx16.VERA_DATA0
.4362	8d 23 9f	            sta  cx16.VERA_DATA0
.4365	8d 23 9f	            sta  cx16.VERA_DATA0
.4368	8d 23 9f	            sta  cx16.VERA_DATA0
.436b	8d 23 9f	            sta  cx16.VERA_DATA0
.436e	8d 23 9f	            sta  cx16.VERA_DATA0
.4371	8d 23 9f	            sta  cx16.VERA_DATA0
.4374	8d 23 9f	            sta  cx16.VERA_DATA0
.4377	88		            dey
.4378	d0 e5		            bne  -
.437a	a9 55		            lda  #%01010101
.437c	a0 0a		            ldy  #10
.437e	8d 23 9f	-           sta  cx16.VERA_DATA0
.4381	8d 23 9f	            sta  cx16.VERA_DATA0
.4384	8d 23 9f	            sta  cx16.VERA_DATA0
.4387	8d 23 9f	            sta  cx16.VERA_DATA0
.438a	8d 23 9f	            sta  cx16.VERA_DATA0
.438d	8d 23 9f	            sta  cx16.VERA_DATA0
.4390	8d 23 9f	            sta  cx16.VERA_DATA0
.4393	8d 23 9f	            sta  cx16.VERA_DATA0
.4396	88		            dey
.4397	d0 e5		            bne  -
.4399	ca		            dex
.439a	d0 bf		            bne  ---
.439c	60		            rts
.439d			prog8_init_vars
.439d	a9 01			lda  #1
.439f	8d 17 46		sta  monogfx2.dont_stipple_flag
.43a2	60			rts
.43a3			math
=$43a3			randbyte = randword    ; -- 8 bit pseudo random number generator into A (by just reusing randword)
.43a3			mul_word_40
.43a3	85 7c				sta  P8ZP_SCRATCH_W1
.43a5	84 7d				sty  P8ZP_SCRATCH_W1+1
.43a7	85 7e				sta  P8ZP_SCRATCH_W2
.43a9	84 7f				sty  P8ZP_SCRATCH_W2+1
.43ab	0a				asl  a
.43ac	26 7d				rol  P8ZP_SCRATCH_W1+1
.43ae	0a				asl  a
.43af	26 7d				rol  P8ZP_SCRATCH_W1+1
.43b1	18				clc
.43b2	65 7e				adc  P8ZP_SCRATCH_W2
.43b4	85 7c				sta  P8ZP_SCRATCH_W1
.43b6	a5 7d				lda  P8ZP_SCRATCH_W1+1
.43b8	65 7f				adc  P8ZP_SCRATCH_W2+1
.43ba	06 7c				asl  P8ZP_SCRATCH_W1
.43bc	2a				rol  a
.43bd	06 7c				asl  P8ZP_SCRATCH_W1
.43bf	2a				rol  a
.43c0	06 7c				asl  P8ZP_SCRATCH_W1
.43c2	2a				rol  a
.43c3	a8				tay
.43c4	a5 7c				lda  P8ZP_SCRATCH_W1
.43c6	60				rts
.43c7			mul_word_80
.43c7	20 a3 43			jsr  mul_word_40
.43ca	84 7b				sty  P8ZP_SCRATCH_REG
.43cc	0a				asl  a
.43cd	26 7b				rol  P8ZP_SCRATCH_REG
.43cf	a4 7b				ldy  P8ZP_SCRATCH_REG
.43d1	60				rts
.43d2			prog8_lib
>43d2	00		orig_stackpointer	.byte  0	; stores the Stack pointer register at program start
.43d3			memset
.43d3	86 7a				stx  P8ZP_SCRATCH_B1
.43d5	8c f3 43			sty  _save_reg
.43d8	a0 00				ldy  #0
.43da	ae f3 43			ldx  _save_reg
.43dd	f0 0a				beq  _lastpage
.43df	91 7c		_fullpage	sta  (P8ZP_SCRATCH_W1),y
.43e1	c8				iny
.43e2	d0 fb				bne  _fullpage
.43e4	e6 7d				inc  P8ZP_SCRATCH_W1+1          ; next page
.43e6	ca				dex
.43e7	d0 f6				bne  _fullpage
.43e9	a4 7a		_lastpage	ldy  P8ZP_SCRATCH_B1
.43eb	f0 05				beq  +
.43ed	88		-         	dey
.43ee	91 7c				sta  (P8ZP_SCRATCH_W1),y
.43f0	d0 fb				bne  -
.43f2	60		+           	rts
>43f3	00		_save_reg	.byte  0
.43f4			strcmp_mem
.43f4	85 7c				sta  P8ZP_SCRATCH_W1
.43f6	84 7d				sty  P8ZP_SCRATCH_W1+1
.43f8	a0 00				ldy  #0
.43fa	b1 7c		_loop		lda  (P8ZP_SCRATCH_W1),y
.43fc	d0 06				bne  +
.43fe	b1 7e				lda  (P8ZP_SCRATCH_W2),y
.4400	d0 19				bne  _return_minusone
.4402	f0 16				beq  _return
.4404	d1 7e		+		cmp  (P8ZP_SCRATCH_W2),y
.4406	90 13				bcc  _return_minusone
.4408	d0 0e				bne  _return_one
.440a	e6 7c				inc  P8ZP_SCRATCH_W1
.440c	d0 02				bne  +
.440e	e6 7d				inc  P8ZP_SCRATCH_W1+1
.4410	e6 7e		+		inc  P8ZP_SCRATCH_W2
.4412	d0 e6				bne  _loop
.4414	e6 7f				inc  P8ZP_SCRATCH_W2+1
.4416	d0 e2				bne  _loop
.4418			_return_one
.4418	a9 01				lda  #1
.441a	60		_return		rts
.441b			_return_minusone
.441b	a9 ff				lda  #-1
.441d	60				rts
.441e			func_pokew
.441e	84 7b			sty  P8ZP_SCRATCH_REG
.4420	a0 00			ldy  #0
.4422	91 7c			sta  (P8ZP_SCRATCH_W1),y
.4424	c8			iny
.4425	a5 7b			lda  P8ZP_SCRATCH_REG
.4427	91 7c			sta  (P8ZP_SCRATCH_W1),y
.4429	60			rts
.4671			prog8_slabs
>4671			prog8_memoryslab_heap	.fill  8192
=1			PROG8_VARSHIGH_RAMBANK = 1
.442a			prog8_bss_section_start
=583			prog8_bss_section_size = * - prog8_bss_section_start
.6671			prog8_program_end

;******  End of listing
